webpackJsonp([1],{"+SLH":function(t,e){},"/aIq":function(t,e){},"03Ej":function(t,e){},"0I5n":function(t,e){},"0MEE":function(t,e){},"0kHI":function(t,e){},"0kcG":function(t,e){},"11yf":function(t,e){},"1JlH":function(t,e){},"1bf3":function(t,e){},"2Yas":function(t,e){},"2gw+":function(t,e){},"4ALt":function(t,e){},"5wpY":function(t,e){},"5yCZ":function(t,e){},"6A3X":function(t,e){},"6I8D":function(t,e){},"6UU0":function(t,e){},"6YLU":function(t,e){},"7SuA":function(t,e){},"7sA3":function(t,e,a){"use strict";function s(t){a("AVdg")}Object.defineProperty(e,"__esModule",{value:!0});var i=a("gCMD"),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);var o=a("goRD"),l=a("VU/8"),c=s,d=l(n.a,o.a,!1,c,null,null);e.default=d.exports},"9TJU":function(t,e){},"9V2w":function(t,e){},"9dIC":function(t,e){},"A3Z+":function(t,e){},AVdg:function(t,e){},EMXH:function(t,e){},EVus:function(t,e){},Eqvg:function(t,e){},F1fK:function(t,e){},F3oX:function(t,e){},Gp2E:function(t,e){},HM5O:function(t,e){},HbDE:function(t,e){},HoqV:function(t,e){},Idzm:function(t,e){},JeJe:function(t,e){},Jhcx:function(t,e){},KSVT:function(t,e){},KjFJ:function(t,e){},LE0L:function(t,e){},LKDr:function(t,e){},MKsE:function(t,e){},Mpfc:function(t,e){},N5iF:function(t,e){},NHnr:function(t,e,a){"use strict";function i(t){a("6UU0")}function n(t){a("esz2")}function r(t){a("ZYJ4")}function o(t){a("HM5O")}function l(t){a("clAG")}function c(t){a("zIOb")}function d(t){a("cqIk")}function u(t){a("u3ym")}function m(t){a("dflN")}function v(t){a("x318")}function p(t){a("Mpfc")}function h(t){a("/aIq")}function f(t){a("pkka")}function b(t){a("0I5n")}function g(t){a("MKsE")}function x(t){a("2gw+")}function y(t){a("z9uM")}function k(t){a("9TJU")}function w(t){a("OAeZ")}function C(t){a("hC7s")}function I(t){a("SvMt")}function S(t){a("Gp2E")}function q(t){a("l7yK")}function D(t){a("T7tv")}function $(t){a("0kcG")}function P(t){a("nz+i")}function T(t){a("JeJe")}function E(t){a("PU00")}function N(t){a("5wpY")}function A(t){a("QGn5")}function O(t){a("njXo")}function M(t){a("XIMO")}function R(t){a("ZFuz")}function j(t){a("zLtk")}function Y(t){a("1bf3")}function F(t){a("e7uG")}function U(t){a("pc6l")}function z(t){a("Ztn3")}function V(t){a("KjFJ")}function B(t){a("+SLH")}function G(t){a("4ALt")}function H(t){a("qBvX")}function L(t){a("N5iF")}function W(t){a("Eqvg")}function Q(t){a("03Ej")}function Z(t){a("HoqV")}function X(t){a("9dIC")}function J(t){a("xRHy")}function K(t){a("ytxq")}function tt(t){a("9V2w")}function et(t){a("Idzm")}function at(t){a("XXYI")}function st(t){a("EVus")}function it(t){a("LE0L")}function nt(t){a("fahS")}function rt(t){a("EMXH")}function ot(t){a("Q8p0")}function lt(t){a("2Yas")}function ct(t){a("pIV2")}function dt(t){a("0MEE")}function ut(t){a("F3oX")}function mt(t){a("n1hC")}function vt(t){a("LKDr")}function _t(t){a("PfRm")}function pt(t){a("nJk/")}function ht(t){a("6YLU")}function ft(t){a("iyF0")}function bt(t){a("dj40")}function gt(t){a("Jhcx")}function xt(t){a("6I8D")}function yt(t){a("VIMn")}function kt(t){a("1JlH")}function wt(t){a("z/Cc")}function Ct(t){a("gBTp")}function It(t){a("aTW9")}function St(t){a("X05v")}function qt(t){a("0kHI")}function Dt(t){a("Z9FK")}function $t(t){a("KSVT")}function Pt(t){a("QTPZ")}function Tt(t){a("o9x1")}function Et(t){a("F1fK")}function Nt(t){a("5yCZ")}function At(t){a("11yf")}function Ot(t){a("yKFN")}function Mt(t){a("cdfB")}function Rt(t){a("HbDE")}function jt(t){a("zNr/")}Object.defineProperty(e,"__esModule",{value:!0});var Yt=a("HSQo"),Ft=a.n(Yt),Ut=a("7+uW"),zt=a("3EgV"),Vt=a.n(zt),Bt=a("lbHh"),Gt=(a("QCv7"),a("/ocq")),Ht=a("PJh5"),Lt=a.n(Ht),Wt={name:"app-fab",data:function(){return{fab:!1}},methods:{onScroll:function(){if("undefined"!=typeof window){var t=window.pageYOffset||document.documentElement.offsetTop||0;this.fab=t>300}},toTop:function(){this.$router.push({hash:""}),this.$vuetify.goTo(0)}}},Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-fab-transition",[a("v-btn",{directives:[{name:"scroll",rawName:"v-scroll",value:t.onScroll,expression:"onScroll"},{name:"show",rawName:"v-show",value:t.fab,expression:"fab"}],attrs:{fab:"fab",small:"",dark:"dark",fixed:"fixed",bottom:"bottom",right:"right",color:"red"},on:{click:t.toTop}},[a("v-icon",[t._v("keyboard_arrow_up")])],1)],1)},Zt=[],Xt={render:Qt,staticRenderFns:Zt},Jt=Xt,Kt=a("VU/8"),te=Kt(Wt,Jt,!1,null,null,null),ee=te.exports,ae=[{header:"Apps"},{title:"Users",group:"apps",icon:"outlets",name:"fms_users"},{title:"Outlets",group:"apps",icon:"outlets",name:"outlets"},{title:"Receive Items",group:"apps",icon:"debtors",name:"receive_items"},{title:"Company",group:"apps",icon:"debtors",name:"company"},{title:"Debtors",group:"apps",icon:"debtors",name:"debtors"},{title:"Sales Summary",group:"apps",icon:"debtors",name:"my_sales"},{title:"Creditors",group:"apps",icon:"creditors",name:"creditors"},{title:"Stock Reconciliation",group:"apps",icon:"Suppliers",name:"stock_recon"},{title:"Bank Transactions",group:"apps",icon:"Suppliers",name:"bank_transact"},{title:"Bank Account",group:"apps",icon:"Suppliers",name:"bank_account"},{title:"Customer Statements",group:"apps",icon:"Suppliers",name:"customer_statements"},{title:"Supplier Statements",group:"apps",icon:"Suppliers",name:"supplier_statements"},{title:"Expiry Reports",group:"apps",icon:"Suppliers",name:"expiry_reports"},{title:"Zero Stock",group:"apps",icon:"Suppliers",name:"zero_stock"},{title:"Pack Units",group:"apps",icon:"Suppliers",name:"pack_unit"},{title:"Customers",group:"apps",icon:"Suppliers",name:"customers"},{title:"Suppliers",group:"apps",icon:"Suppliers",name:"suppliers"},{title:"Report Expiry",group:"apps",icon:"dashboard",name:"pos_expiry"},{title:"Expenses",group:"apps",icon:"dashboard",name:"expenses"},{title:"Categories",group:"apps",icon:"dashboard",name:"categories"},{title:"Expense Categories",group:"apps",icon:"dashboard",name:"ex_categories"},{title:"Purchases",group:"apps",icon:"dashboard",name:"purchases"},{title:"New Purchase",group:"apps",icon:"dashboard",name:"new_purchase"},{title:"Account Summary",group:"apps",icon:"dashboard",name:"account_summary"},{title:"Stock Manager",group:"apps",icon:"dashboard",name:"stock_manager"},{title:"Add Products",group:"apps",icon:"dashboard",name:"add_products"},{title:"Product Dictionary",group:"apps",icon:"dashboard",name:"product_dictionary"},{title:"Dashboard",group:"apps",icon:"dashboard",name:"Dashboard"},{title:"Make Sale",group:"sales",icon:"mdi-cart",name:"sales"},{title:"Expenses",group:"expenses",icon:"mdi-money",name:"expenses"},{title:"Inbox",group:"apps",name:"Mail",target:"_blank",icon:"email"},{title:"Media",group:"apps",name:"Media",icon:"perm_media"},{title:"Widgets",group:"widgets",component:"widgets",icon:"widgets",items:[{name:"social",title:"Social",component:"components/social"},{name:"statistic",title:"Statistic",badge:"new",component:"components/statistic"},{name:"chart",title:"Chart",component:"components/chart"},{name:"list",title:"List",component:"components/widget-list"}]},{header:"UI Elements"},{title:"General",group:"components",component:"components",icon:"tune",items:[{name:"alerts",title:"Alerts",component:"components/alerts"},{name:"avatars",title:"Avatars",component:"components/avatars"},{name:"badges",title:"Badges",component:"components/badges"},{name:"buttons",title:"Buttons",component:"components/buttons"},{name:"cards",title:"Cards",component:"components/cards"},{name:"carousels",title:"Carousels",component:"components/carousels"},{name:"chips",title:"Chips",component:"components/chips"},{name:"dialogs",title:"Dialogs",component:"components/dialogs"},{name:"icons",title:"Icons",component:"components/icons"},{name:"tables",title:"Data Tables",component:"components/tables"},{name:"parallax",title:"Parallax  image",component:"components/parallax"},{name:"snackbar",title:"Snackbar",component:"components/snackbar"},{name:"progress",title:"Progress",component:"components/progress"},{name:"slider",title:"Slider",component:"components/sliders"},{name:"tooltip",title:"Tooltip",component:"components/tooltips"},{name:"pagination",title:"Pagination",component:"components/paginations"},{name:"typography",title:"Typography",component:"components/typography"},{name:"color",title:"Color",component:"components/color"}]},{title:"Pickers",group:"pickers",component:"picker",icon:"filter_vintage",items:[{name:"timepicker",title:"Timepicker",component:"pickers/timepicker"},{name:"datepicker",title:"Datepicker",component:"pickers/datepicker"}]},{title:"Layout",group:"layout",component:"layout",icon:"view_compact",items:[{name:"bottom-sheets",title:"Bottom panels",component:"components/bottom-sheets"},{name:"expansion-panels",title:"Expansion panels",component:"components/expansion-panels"},{name:"footer",title:"Footer",component:"components/footer"},{name:"lists",title:"Lists",component:"components/lists"},{name:"jumbotrons",title:"Jumbotrons",badge:"new",component:"components/jumbotrons"},{name:"menus",title:"Menus",component:"components/menus"},{name:"tabs",title:"Tabs",component:"components/tabs"},{name:"toolbar",title:"Toolbars",component:"components/toolbar"},{name:"timeline",title:"Timeline",component:"components/timeline"}]},{title:"Forms & Controls",group:"forms",component:"forms",icon:"edit",items:[{name:"basic",title:"General",component:"components/basic-forms"},{name:"selects",title:"Selects",badge:"new",component:"components/selects"},{name:"selection-controls",title:"Selection Controls",component:"components/selection-controls"},{name:"text-fields",title:"Text Fields",component:"components/text-fields"},{name:"steppers",title:"Steppers",component:"components/steppers"},{name:"editors",title:"Editors",component:"components/editors"}]},{divider:!0},{header:"Extras"},{title:"Pages",group:"extra",icon:"list",items:[{name:"Login",title:"Login",component:"Login"},{name:"404",title:"404",component:"NotFound"},{name:"403",title:"403",component:"AccessDenied"},{name:"500",title:"500",component:"ServerError"}]}];ae.forEach(function(t){t.items&&t.items.sort(function(t,e){var a=t.title.toUpperCase(),s=e.title.toUpperCase();return a<s?-1:a>s?1:0})});var se=ae,ie={data:function(){return{title:""}},computed:{breadcrumbs:function(){var t=this,e=[];return se.forEach(function(a){if(a.items){var s=a.items.find(function(e){return e.component===t.$route.name});s&&(e.push(a.title),e.push(s.title),t.title=s.title)}else a.name===t.$route.name&&(t.title=a.title,e.push(a.title))}),e}},methods:{refresh:function(){this.$router.push(this.$route.path)}}},ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{staticClass:"align-center layout px-1 pt-4 app--page-header",attrs:{row:"",dense:""}},[a("div",{staticClass:"page-header-left"},[a("h3",{staticClass:"pr-3"},[t._v(t._s(t.title))])]),t._v(" "),a("v-breadcrumbs",{attrs:{divider:"-"}},[a("v-breadcrumbs-item",[a("v-icon",{attrs:{larg:""}},[t._v("home")])],1),t._v(" "),t._l(t.breadcrumbs,function(e,s){return a("v-breadcrumbs-item",{key:s},[t._v("\n    "+t._s(e)+"\n    ")])})],2),t._v(" "),a("v-spacer"),t._v(" "),a("div",{staticClass:"page-header-right"},[a("v-btn",{attrs:{icon:""},on:{click:t.refresh}},[a("v-icon",{staticClass:"text--secondary"},[t._v("refresh")])],1)],1)],1)},re=[],oe={render:ne,staticRenderFns:re},le=oe,ce=a("VU/8"),de=ce(ie,le,!1,null,null,null),ue=de.exports,me=(a("mtWM"),{data:function(){return{drawer:!0,clipped:!1,drawerRight:!0,right:null,left:null,snack:!1}},computed:{head:function(){return this.$store.getters.getHead},snacky:function(){return this.$store.getters.getSnack}},watch:{snacky:function(){this.snack=!0}},created:function(){if(this.$store.dispatch("loadCustomers"),this.$store.dispatch("loadDictionaries"),this.$store.dispatch("loadProducts"),this.$store.dispatch("loadCategories"),this.$store.dispatch("loadPackUnits"),this.$store.dispatch("loadOutlets"),this.$store.dispatch("loadTopProds"),this.$store.dispatch("loadLowStock"),localStorage.getItem("workitUser")){var t=JSON.parse(localStorage.getItem("workitUser"));this.$store.commit("setUserData",t)}else this.$router.push("/")},mounted:function(){},props:{source:String},methods:{syncLocal:function(){var t=this;setInterval(function(){console.log("I will always love you"),t.$store.dispatch("doSync")},18e4)}},components:{AppFab:ee,PageHeader:ue}}),ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"work_font"},[t.head?a("gold-head"):t._e(),t._v(" "),t.clipped?a("gold-load"):t._e(),t._v(" "),a("v-content",[a("v-container",{staticClass:"main_body",attrs:{fluid:""}},[a("router-view")],1)],1),t._v(" "),t.head?a("v-footer",{staticClass:"primary--text footer",attrs:{app:""}},[a("span",[t._v("WorkIT Facility Management System")]),t._v(" "),a("v-spacer"),t._v(" "),a("span",[t._v("Version 1.5.8 © 2019")])],1):t._e()],1)},_e=[],pe={render:ve,staticRenderFns:_e},he=pe,fe=a("VU/8"),be=i,ge=fe(me,he,!1,be,null,null),xe=ge.exports,ye=a("mtWM"),ke={data:function(){return{kit:!1,loading:!1,logError:!1,snack:!1,isPasswordVisible:!1,snackText:"",snackColor:"red",model:{email:"",password:""}}},mounted:function(){this.hideHead(),this.$store.commit("setSalesSession",{shift:"Not Set"})},computed:{authUser:function(){return this.$store.getters.getAuthUser}},watch:{authUser:function(t){}},methods:{login:function(){var t=this;this.loading=!0,this.logError=!1;var e=this,a=this.$store.state.config.url;ye.post(a+"/login",this.model).then(function(t){console.log(t.data.user_id);var a=t.data.user_id;e.loading=!1,e.$store.commit("setAuth",a),Bt.set("auth",a),e.snack=!0,e.snackText="Welcome "+e.model.email,e.snackColor="green darken-3",e.$store.dispatch("loadUserData",a),setTimeout(function(){e.$router.push("/dashboard")},3e3)}).catch(function(a){e.loading=!1,t.logError=!0,console.log(a)})},hideHead:function(){this.$store.commit("setHead",!1)}}},we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"primary",attrs:{id:"login"}},[a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:"",lg4:""}},[a("transition",{attrs:{name:"zoomDown",type:"animation",appear:""}},[a("v-card",{staticClass:"elevation-1 pa-3",attrs:{id:"patup"}},[a("v-card-text",[a("div",{staticClass:"layout column align-center"},[a("img",{attrs:{src:"/static/img/logo1.png",alt:"WorkIT FMS",width:"180",height:"140"}}),t._v(" "),a("h1",{staticClass:"flex my-4 primary--text"},[t._v("Facility Management System")])]),t._v(" "),a("v-alert",{attrs:{dismissible:"",type:"error"},model:{value:t.logError,callback:function(e){t.logError=e},expression:"logError"}},[t._v("\n                                Sorry Email or Password does not exist.\n                            ")]),t._v(" "),a("v-form",[a("v-text-field",{attrs:{"append-icon":"person",name:"login",label:"Email",type:"text"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.model.email,callback:function(e){t.$set(t.model,"email",e)},expression:"model.email"}}),t._v(" "),a("v-text-field",{attrs:{"preppend-icon":"lock",name:"password",label:"Password",id:"password",type:"password","append-icon":t.isPasswordVisible?"visibility":"visibility_off","append-icon-cb":function(){return t.isPasswordVisible=!t.isPasswordVisible},type:t.isPasswordVisible?"text":"password"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.model.password,callback:function(e){t.$set(t.model,"password",e)},expression:"model.password"}})],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{block:"",color:"primary",loading:t.loading},on:{click:t.login}},[t._v("Login")])],1)],1)],1)],1)],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n            "+t._s(t.snackText)+"\n            "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1)],1)],1)},Ce=[],Ie={render:we,staticRenderFns:Ce},Se=Ie,qe=a("VU/8"),De=n,$e=qe(ke,Se,!1,De,"data-v-047392f4",null),Pe=$e.exports,Te={data:function(){return{fitz:!1,hide_me:!0,loading:!1,logError:!1,snack:!0,snackText:"",snackColor:"red",model:{username:"",password:""}}},computed:{authUser:function(){return this.$store.getters.getAuthUser}},mounted:function(){this.hideHead()},watch:{authUser:function(t){alert("login"),this.snack=!0,this.snackText="Welcome "+t.email,this.snackColor="green darken-3"}},methods:{hideHead:function(){this.$store.commit("setHead",!1)},login:function(){this.loading=!0;this.fitz=!this.fitz,this.loading=!1}}},Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"primary",attrs:{id:"login"}},[a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-btn",{staticClass:"secondary",on:{click:function(e){t.hide_me=!t.hide_me}}},[t._v("Hide it")]),t._v(" "),a("v-flex",{attrs:{xs12:"",sm8:"",md4:"",lg4:""}},[a("transition",{attrs:{name:"zoomDown",type:"animation",appear:""}},[t.hide_me?a("v-card",{staticClass:"elevation-1 pa-3"},[a("v-card-text",[a("div",{staticClass:"layout column align-center"},[a("h1",{staticClass:"flex my-4 primary--text"},[t._v("WorkI Facility Management System")])]),t._v(" "),a("v-form",[a("transition",{attrs:{"enter-active-class":"flipInX","leave-active-class":"flipOutX",mode:"out-in",appear:""}},[t.fitz?a("v-text-field",{key:"upper",attrs:{"append-icon":"person",name:"login",label:"Login",type:"text"},model:{value:t.model.username,callback:function(e){t.$set(t.model,"username",e)},expression:"model.username"}}):a("v-text-field",{key:"pass",attrs:{"append-icon":"lock",name:"password",label:"Password",id:"password",type:"password"},model:{value:t.model.password,callback:function(e){t.$set(t.model,"password",e)},expression:"model.password"}})],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{color:"blue"}},[t._v("fa fa-facebook-square fa-lg")])],1),t._v(" "),a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{color:"red"}},[t._v("fa fa-google fa-lg")])],1),t._v(" "),a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{color:"light-blue"}},[t._v("fa fa-twitter fa-lg")])],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{block:"",color:"primary",loading:t.loading},on:{click:t.login}},[t._v("Login")])],1)],1):t._e()],1)],1)],1)],1)],1)],1)},Ne=[],Ae={render:Ee,staticRenderFns:Ne},Oe=Ae,Me=a("VU/8"),Re=r,je=Me(Te,Oe,!1,Re,"data-v-dc7ff65c",null),Ye=je.exports,Fe=[{uuid:"65a6eb21-67b5-45c3-9af7-faca2d9b60d4",name:"Dessie",email:"Dessie7937@gmail.com",username:"Dessie79",jobTitle:"Web Developer",phone:"1-360-812-9380 x511",avatar:"/static/avatar/a2.jpg",address:{street:"655 Archibald Groves",suite:"Apt. 818",city:"Carlosshire",state:"Arkansas",country:"Somalia",zipcode:"10406",geo:{lat:"-44.6063",lng:"-169.7706"}}},{uuid:"28d9f265-74d7-4f85-83d4-6a21fca57dcf",name:"Jakayla",jobTitle:"Web Designer",email:"Jakayla_Crooks867@yahoo.com",username:"Jakayla_Crooks86",phone:"610.499.1240",avatar:"/static/avatar/a3.jpg",address:{street:"281 Tillman Forge",suite:"Apt. 381",city:"New Sandrinemouth",state:"North Dakota",country:"Reunion",zipcode:"19540-8186",geo:{lat:"-12.3375",lng:"-117.9067"}}},{uuid:"14ddae1e-986d-42f4-8d17-46a02d469b2b",name:"Hobart",jobTitle:"Sales",email:"Hobart_Mueller.Thiel@hotmail.com",username:"Hobart_Mueller",phone:"1-590-385-3349",avatar:"static/avatar/a1.jpg",address:{street:"706 Padberg Knoll",suite:"Suite 818",city:"Port Mablefurt",state:"Arkansas",country:"Netherlands Antilles",zipcode:"89975-6584",geo:{lat:"-42.9187",lng:"8.5866"}}},{uuid:"6a03248b-1752-4332-a3a9-7108528cc9d3",name:"Celestine",jobTitle:"Marketing",email:"Celestine.Casper59@hotmail.com",username:"Celestine.Casper",phone:"1-830-046-3289",avatar:"/static/avatar/a4.jpg",address:{street:"9528 Schroeder Track",suite:"Apt. 443",city:"Godfreyburgh",state:"Montana",country:"Slovenia",zipcode:"10220",geo:{lat:"36.8638",lng:"20.0047"}}},{uuid:"ee272550-36e8-4fe2-889d-c1ee701c5863",name:"Hortense",email:"Hortense99.Jakubowski@yahoo.com",jobTitle:"Project Manager",username:"Hortense99",phone:"712.916.2569 x0663",avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/moscoz/128.jpg",address:{street:"9046 Allen Ferry",suite:"Suite 429",city:"Angushaven",state:"Michigan",country:"Costa Rica",zipcode:"92378-7065",geo:{lat:"78.1292",lng:"-134.6632"}}},{uuid:"77f4b102-9df5-43ba-966a-6f816806c5e2",name:"Pat",jobTitle:"Product Manager",email:"Pat_Zulauf81.Bartell86@gmail.com",username:"Pat_Zulauf81",phone:"(058) 200-7342",avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/rehatkathuria/128.jpg",address:{street:"62268 Favian Coves",suite:"Suite 993",city:"Baumbachstad",state:"New Mexico",country:"Montserrat",zipcode:"44440",geo:{lat:"-34.7835",lng:"148.8907"}}},{uuid:"36a1ead7-57a0-4275-8a21-956194ab7cdf",name:"Solon",jobTitle:"Web Developer",email:"Solon.Bauch4_Rath@hotmail.com",username:"Solon.Bauch4",phone:"789-914-4904 x173",avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/spacewood_/128.jpg",address:{street:"8153 Favian Walk",suite:"Apt. 495",city:"East Preston",state:"Idaho",country:"Iceland",zipcode:"24555",geo:{lat:"-42.5691",lng:"-2.5791"}}},{uuid:"b5899bef-d01e-42d8-af2d-edfb16b6b21e",name:"Calista",jobTitle:"Programmer",email:"Calista_Mertz1757@hotmail.com",username:"Calista_Mertz17",phone:"961-703-4134",avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/moscoz/128.jpg",address:{street:"886 Wendy Circles",suite:"Apt. 933",city:"Lake Loy",state:"Rhode Island",country:"South Africa",zipcode:"65261",geo:{lat:"-58.9245",lng:"-43.6330"}}},{uuid:"7d910620-84e1-49fc-951e-d375587b8189",name:"Jackeline",jobTitle:"Sales Executive",email:"Jackeline.Abshire_Dach@yahoo.com",username:"Jackeline.Abshire",phone:"(326) 903-5706 x6854",avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/larrybolt/128.jpg",address:{street:"416 Cathy Spur",suite:"Apt. 431",city:"North Camila",state:"Pennsylvania",country:"Libyan Arab Jamahiriya",zipcode:"31751",geo:{lat:"64.0673",lng:"154.7671"}}},{uuid:"afdb5033-5bcc-4cec-b932-353a83410b44",name:"Jamey",jobTitle:"PHP Developer",email:"Jamey_Grant_Cruickshank73@gmail.com",username:"Jamey_Grant",phone:"545-939-2404 x32373",avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/mikebeecham/128.jpg",address:{street:"38372 Mante Glen",suite:"Suite 090",city:"Robertsside",state:"Texas",country:"Equatorial Guinea",zipcode:"86558-7214",geo:{lat:"-55.0222",lng:"-100.5977"}}},{uuid:"60d07662-bfec-42c7-b044-c81bc4ff8c7a",name:"Barton",email:"Barton85_Emard@gmail.com",jobTitle:"Web Developer",username:"Barton85",phone:"(979) 560-8322 x174",avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/a_harris88/128.jpg",address:{street:"185 Florine Spurs",suite:"Suite 178",city:"Port Carrollburgh",state:"Alaska",country:"Saint Barthelemy",zipcode:"30126",geo:{lat:"24.0545",lng:"-88.8499"}}},{uuid:"5c44b666-baca-4f18-a3cb-23068c6edc14",name:"Gloria",jobTitle:"Assets",email:"Gloria78.Nicolas83@hotmail.com",username:"Gloria78",phone:"188.890.3246",avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/nehfy/128.jpg",address:{street:"643 Arch Mews",suite:"Apt. 171",city:"Wymanland",state:"Indiana",country:"Jersey",zipcode:"73594-9840",geo:{lat:"-70.9980",lng:"-151.6234"}}},{uuid:"46d6f992-5729-4588-b7f8-ce74f21157ba",name:"Olin",jobTitle:"Finaice",email:"Olin.Robel49.Schowalter24@yahoo.com",username:"Olin.Robel49",phone:"1-982-234-7756",avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/jcubic/128.jpg",address:{street:"0813 Mayer Greens",suite:"Apt. 551",city:"Bergstromburgh",state:"Ohio",country:"Anguilla",zipcode:"42502-9731",geo:{lat:"-48.2520",lng:"60.6556"}}},{uuid:"bd30e201-cceb-410e-8497-a4072bc399f5",name:"Rollin",jobTitle:"Supporting",email:"Rollin43_Fay@yahoo.com",username:"Rollin43",phone:"477-651-5715 x502",avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/horaciobella/128.jpg",address:{street:"5704 Spinka Causeway",suite:"Suite 388",city:"Pollyburgh",state:"Arizona",country:"Virgin Islands, U.S.",zipcode:"45048",geo:{lat:"55.3046",lng:"3.8129"}}},{uuid:"da95e977-cd54-4077-a767-1b7f33ef6919",name:"Murl",email:"Murl_Abshire41_Lakin@hotmail.com",username:"Murl_Abshire41",jobTitle:"Web Developer",phone:"107-733-1219 x0615",avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/stayuber/128.jpg",address:{street:"4880 Tanner Circles",suite:"Apt. 994",city:"Bauchside",state:"Ohio",country:"Uganda",zipcode:"11259",geo:{lat:"11.6209",lng:"-45.1766"}}},{uuid:"6124d4e8-77ed-4b34-868d-d312bfab5de2",name:"Breanna",jobTitle:"Web Developer",email:"Breanna.Bartoletti21@hotmail.com",username:"Breanna.Bartoletti",phone:"645.045.0876 x35882",avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/flexrs/128.jpg",address:{street:"431 Grimes Common",suite:"Apt. 530",city:"East Lunahaven",state:"Virginia",country:"Hungary",zipcode:"12012-3038",geo:{lat:"29.7991",lng:"-70.4033"}}},{uuid:"eef93cb1-7766-4413-a5cf-ecbf71fa3674",name:"Maya",email:"Maya55_Dickens16@yahoo.com",username:"Maya55",jobTitle:"Web Developer",phone:"199.260.3770 x2815",avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/nvkznemo/128.jpg",address:{street:"58581 Guillermo Springs",suite:"Suite 574",city:"Cloydville",state:"Delaware",country:"Saint Barthelemy",zipcode:"95633-3394",geo:{lat:"-57.5740",lng:"104.5634"}}},{uuid:"899d0e31-b71e-4d95-a8a0-6a8bceb314bd",name:"Santiago",jobTitle:"Web Developer",email:"Santiago41_Crooks15@yahoo.com",username:"Santiago41",phone:"1-489-921-2159 x8655",avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/ernestsemerda/128.jpg",address:{street:"7868 Windler Dam",suite:"Suite 876",city:"Port Emmetfurt",state:"Alabama",country:"Belarus",zipcode:"63739-4581",geo:{lat:"-28.7166",lng:"-167.7070"}}},{uuid:"a41c6c4a-9cb1-45d1-8c6f-091044ba51ff",name:"Leonardo",email:"Leonardo10.Macejkovic@yahoo.com",username:"Leonardo10",phone:"445-761-1519",avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/adobi/128.jpg",address:{street:"146 Lemke Mountains",suite:"Apt. 407",city:"North Toyfort",state:"Connecticut",country:"Senegal",zipcode:"90211-1855",geo:{lat:"-56.3849",lng:"-167.1372"}}},{uuid:"3782c174-1f2c-4dc4-b75d-0bedf400e023",name:"Lora",jobTitle:"Web Developer",email:"Lora_Kessler586@hotmail.com",username:"Lora_Kessler5",phone:"315-215-2852 x69280",avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/antongenkin/128.jpg",address:{street:"4018 Willms Turnpike",suite:"Suite 573",city:"Leuschkemouth",state:"Kentucky",country:"Dominican Republic",zipcode:"70964",geo:{lat:"80.2384",lng:"38.1323"}}}],Ue=function(t){return void 0===t?Fe[0]:Fe.find(function(e){return e.uuid===t})},ze=function(t){return t?Fe.slice(0,t):Fe},Ve=[{avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/ludwiczakpawel/128.jpg",timeString:"Just now",color:"primary",text:"Michael finished  one task just now."},{avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/suprb/128.jpg",timeString:"30 min ago",color:"teal",text:"Jim created a new  task."},{avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/suprb/128.jpg",timeString:"1 hour ago",color:"indigo",text:"Li completed the PSD to html convert."},{avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/suprb/128.jpg",timeString:"3 hour ago",color:"pink",text:"Michael upload a new pic."},{avatar:"https://s3.amazonaws.com/uifaces/faces/twitter/suprb/128.jpg",timeString:"10 min ago",color:"cyan",text:"Li assigned a a task to Michael"}],Be=function(t){return t?Ve.slice(0,t):Ve},Ge={getActivity:Be},He=[{text:"Chat",icon:"chat",to:{path:"/chat/messaging"}},{text:"Contacts",icon:"contacts",to:{path:"/chat/contact"}},{text:"File",icon:"insert_drive_file",to:{path:"/chat/media"}},{text:"Settings",icon:"settings",to:{path:"/chat/settings"}}],Le=[{uuid:"a44f8ade-513c-46b5-bae4-0acf809860e6",title:"nisi",users:["da95e977-cd54-4077-a767-1b7f33ef6919"],created_by:"60d07662-bfec-42c7-b044-c81bc4ff8c7a",created_at:"2018-04-10T15:02:15.476Z"},{uuid:"c86f170d-9a36-4f2c-bb76-2de65aa8c7bf",title:"odio",users:["46d6f992-5729-4588-b7f8-ce74f21157ba","7d910620-84e1-49fc-951e-d375587b8189"],created_by:"eef93cb1-7766-4413-a5cf-ecbf71fa3674",created_at:"2018-04-11T04:02:56.728Z"},{uuid:"9c750cd1-a04d-4b9b-afe2-3e5f1b8d04fa",title:"delectus",users:["60d07662-bfec-42c7-b044-c81bc4ff8c7a"],created_by:"bd30e201-cceb-410e-8497-a4072bc399f5",created_at:"2018-04-10T10:35:26.982Z"},{uuid:"0b29c8d1-6467-4680-9210-01d7669d47c1",title:"placeat",users:["da95e977-cd54-4077-a767-1b7f33ef6919"],created_by:"6124d4e8-77ed-4b34-868d-d312bfab5de2",created_at:"2018-04-10T22:33:14.365Z"},{uuid:"ff04dee6-34f0-4ac9-b38b-463a2e0227e9",title:"minima",users:["5c44b666-baca-4f18-a3cb-23068c6edc14","14ddae1e-986d-42f4-8d17-46a02d469b2b"],created_by:"ee272550-36e8-4fe2-889d-c1ee701c5863",created_at:"2018-04-10T07:56:08.876Z"},{uuid:"42e3d8f8-a097-4049-bd6e-53eab86f3722",title:"ducimus",users:["46d6f992-5729-4588-b7f8-ce74f21157ba","6124d4e8-77ed-4b34-868d-d312bfab5de2"],created_by:"77f4b102-9df5-43ba-966a-6f816806c5e2",created_at:"2018-04-11T00:04:45.012Z"},{uuid:"14c43a19-3938-41ec-90ca-9f09d9390a6f",title:"et",users:["65a6eb21-67b5-45c3-9af7-faca2d9b60d4","3782c174-1f2c-4dc4-b75d-0bedf400e023"],created_by:"afdb5033-5bcc-4cec-b932-353a83410b44",created_at:"2018-04-10T20:30:02.955Z"},{uuid:"b42daaa7-ef3c-4cbe-89cc-52476f169232",title:"qui",users:["afdb5033-5bcc-4cec-b932-353a83410b44"],created_by:"36a1ead7-57a0-4275-8a21-956194ab7cdf",created_at:"2018-04-11T05:27:15.635Z"},{uuid:"a4fb2a31-7e6f-4103-b512-3a0e1856b42d",title:"totam",users:["65a6eb21-67b5-45c3-9af7-faca2d9b60d4","5c44b666-baca-4f18-a3cb-23068c6edc14","7d910620-84e1-49fc-951e-d375587b8189"],created_by:"60d07662-bfec-42c7-b044-c81bc4ff8c7a",created_at:"2018-04-10T14:47:13.370Z"},{uuid:"b1f03c8b-837f-4579-a18b-974d3ce93f3b",title:"placeat",users:["6a03248b-1752-4332-a3a9-7108528cc9d3","28d9f265-74d7-4f85-83d4-6a21fca57dcf","65a6eb21-67b5-45c3-9af7-faca2d9b60d4"],created_by:"a41c6c4a-9cb1-45d1-8c6f-091044ba51ff",created_at:"2018-04-11T01:23:23.603Z"}],We=[{uuid:"2cc7e60b-a81b-4859-bb88-e894e11eb77d",chatId:"a44f8ade-513c-46b5-bae4-0acf809860e6",text:"Ex laudantium veniam aut repellendus voluptatem vitae suscipit at quisquam.",userId:"da95e977-cd54-4077-a767-1b7f33ef6919",created_at:"2018-04-10T18:42:25.141Z"},{uuid:"2a2c7ea4-e2c1-47ac-8dc8-73ed074abb99",chatId:"a44f8ade-513c-46b5-bae4-0acf809860e6",text:"Natus ex qui at in et porro.",userId:"da95e977-cd54-4077-a767-1b7f33ef6919",created_at:"2018-04-10T09:39:34.913Z"},{uuid:"063c9eb5-249a-4778-9367-ebfd33f69a4e",chatId:"a44f8ade-513c-46b5-bae4-0acf809860e6",text:"Ut et qui unde nulla.",userId:"da95e977-cd54-4077-a767-1b7f33ef6919",created_at:"2018-04-11T04:47:33.345Z"},{uuid:"2ea77894-ae69-4a2b-9bf2-86b555f4d84b",chatId:"c86f170d-9a36-4f2c-bb76-2de65aa8c7bf",text:"Impedit sed ducimus ut suscipit nobis id.",userId:"46d6f992-5729-4588-b7f8-ce74f21157ba",created_at:"2018-04-10T23:11:40.311Z"},{uuid:"09fc211d-e8a2-4bae-bb40-6a707c3c5eac",chatId:"c86f170d-9a36-4f2c-bb76-2de65aa8c7bf",text:"Quia laborum labore maiores magnam sint.",userId:"46d6f992-5729-4588-b7f8-ce74f21157ba",created_at:"2018-04-10T16:47:00.297Z"},{uuid:"9150380c-7675-4780-8395-e1d6fa1749f7",chatId:"c86f170d-9a36-4f2c-bb76-2de65aa8c7bf",text:"Aut consectetur est eligendi impedit.",userId:"46d6f992-5729-4588-b7f8-ce74f21157ba",created_at:"2018-04-11T00:22:22.961Z"},{uuid:"757c2b29-5121-4c51-a9a0-390a537307bc",chatId:"c86f170d-9a36-4f2c-bb76-2de65aa8c7bf",text:"Recusandae voluptatibus nisi perferendis et ut quo repellat.",userId:"7d910620-84e1-49fc-951e-d375587b8189",created_at:"2018-04-10T14:30:41.149Z"},{uuid:"c06da098-5532-4b4b-95fe-f9cc9b64a44a",chatId:"c86f170d-9a36-4f2c-bb76-2de65aa8c7bf",text:"Beatae laborum enim.",userId:"7d910620-84e1-49fc-951e-d375587b8189",created_at:"2018-04-10T20:57:39.530Z"},{uuid:"9e6b676c-9042-497c-a96e-c78b2d30570f",chatId:"c86f170d-9a36-4f2c-bb76-2de65aa8c7bf",text:"Ullam aliquid sint dicta nisi veritatis dolor.",userId:"7d910620-84e1-49fc-951e-d375587b8189",created_at:"2018-04-10T11:14:29.366Z"},{uuid:"68863c56-f8bd-486b-a904-cf7abe788849",chatId:"9c750cd1-a04d-4b9b-afe2-3e5f1b8d04fa",text:"Est minima quo doloribus adipisci qui.",userId:"60d07662-bfec-42c7-b044-c81bc4ff8c7a",created_at:"2018-04-10T19:05:08.963Z"},{uuid:"96d13a69-7bd1-4523-bd47-d9986d7819d0",chatId:"9c750cd1-a04d-4b9b-afe2-3e5f1b8d04fa",text:"Molestiae id amet tempore labore ipsam debitis.",userId:"60d07662-bfec-42c7-b044-c81bc4ff8c7a",created_at:"2018-04-10T15:49:06.410Z"},{uuid:"2657bfda-59df-43ec-baa5-bfad08c5c412",chatId:"0b29c8d1-6467-4680-9210-01d7669d47c1",text:"Voluptatem excepturi minima quidem id non.",userId:"da95e977-cd54-4077-a767-1b7f33ef6919",created_at:"2018-04-11T02:29:58.528Z"},{uuid:"d9bcf3b5-6ef7-4aef-ab62-1e94947fecd0",chatId:"0b29c8d1-6467-4680-9210-01d7669d47c1",text:"Qui non laudantium et.",userId:"da95e977-cd54-4077-a767-1b7f33ef6919",created_at:"2018-04-10T12:41:25.616Z"},{uuid:"ed87358b-c859-4f0e-be23-2f038a53b65c",chatId:"0b29c8d1-6467-4680-9210-01d7669d47c1",text:"Magni est nihil repellat.",userId:"da95e977-cd54-4077-a767-1b7f33ef6919",created_at:"2018-04-11T04:51:19.790Z"},{uuid:"b56554d9-b98a-4c9c-99cc-d7964da81dce",chatId:"0b29c8d1-6467-4680-9210-01d7669d47c1",text:"Magnam blanditiis eum unde et sapiente dolore aliquid unde dolor.",userId:"da95e977-cd54-4077-a767-1b7f33ef6919",created_at:"2018-04-10T21:15:03.304Z"},{uuid:"380a2600-2aa7-4764-b3de-8e0563ba33cf",chatId:"ff04dee6-34f0-4ac9-b38b-463a2e0227e9",text:"Suscipit rerum voluptate sint saepe quis.",userId:"5c44b666-baca-4f18-a3cb-23068c6edc14",created_at:"2018-04-11T04:37:10.098Z"},{uuid:"f207c65c-8a55-436f-8eb6-7c0f8880ac0d",chatId:"ff04dee6-34f0-4ac9-b38b-463a2e0227e9",text:"Earum quis facere aut nostrum voluptatem.",userId:"14ddae1e-986d-42f4-8d17-46a02d469b2b",created_at:"2018-04-10T16:16:49.913Z"},{uuid:"1f2c46a2-072f-40ce-9fa7-a54dee81d8b8",chatId:"ff04dee6-34f0-4ac9-b38b-463a2e0227e9",text:"Non maiores eligendi facere sunt totam optio.",userId:"14ddae1e-986d-42f4-8d17-46a02d469b2b",created_at:"2018-04-11T00:48:29.388Z"},{uuid:"65d307b0-69c9-4fda-9012-0819f9010d44",chatId:"ff04dee6-34f0-4ac9-b38b-463a2e0227e9",text:"Excepturi placeat necessitatibus ea et alias repudiandae.",userId:"14ddae1e-986d-42f4-8d17-46a02d469b2b",created_at:"2018-04-10T20:55:54.204Z"},{uuid:"833654bc-5c4a-46f7-9a77-7e6a4f6707fe",chatId:"42e3d8f8-a097-4049-bd6e-53eab86f3722",text:"Labore corporis et.",userId:"46d6f992-5729-4588-b7f8-ce74f21157ba",created_at:"2018-04-11T04:22:25.581Z"},{uuid:"8f85169b-37c2-4d2f-bf5a-e193b5768823",chatId:"42e3d8f8-a097-4049-bd6e-53eab86f3722",text:"Repudiandae similique neque blanditiis voluptatem.",userId:"46d6f992-5729-4588-b7f8-ce74f21157ba",created_at:"2018-04-11T04:31:40.571Z"},{uuid:"b29dbfa3-b34e-48ac-b65a-f9f22c311df0",chatId:"42e3d8f8-a097-4049-bd6e-53eab86f3722",text:"Ut doloribus ad.",userId:"46d6f992-5729-4588-b7f8-ce74f21157ba",created_at:"2018-04-10T17:52:24.773Z"},{uuid:"6bad98e9-2615-4fca-80e3-8388078ee4df",chatId:"42e3d8f8-a097-4049-bd6e-53eab86f3722",text:"Quia molestiae perspiciatis nihil voluptas facilis enim fugit occaecati laboriosam.",userId:"6124d4e8-77ed-4b34-868d-d312bfab5de2",created_at:"2018-04-10T16:19:53.205Z"},{uuid:"b2e5993f-a367-4183-97f9-6a778e99970a",chatId:"42e3d8f8-a097-4049-bd6e-53eab86f3722",text:"Explicabo sapiente voluptatibus provident.",userId:"6124d4e8-77ed-4b34-868d-d312bfab5de2",created_at:"2018-04-10T10:07:06.317Z"},{uuid:"60f3ae3b-fc7e-41bf-9b50-330d42b4eabe",chatId:"14c43a19-3938-41ec-90ca-9f09d9390a6f",text:"Qui eius velit esse est hic voluptas possimus consequatur.",userId:"65a6eb21-67b5-45c3-9af7-faca2d9b60d4",created_at:"2018-04-10T07:12:32.351Z"},{uuid:"88583551-1f48-434e-80a7-8c3e282ab527",chatId:"14c43a19-3938-41ec-90ca-9f09d9390a6f",text:"Expedita distinctio ea.",userId:"65a6eb21-67b5-45c3-9af7-faca2d9b60d4",created_at:"2018-04-11T06:22:54.274Z"},{uuid:"b504481e-6c57-4eaf-a3de-a46e007af2fc",chatId:"14c43a19-3938-41ec-90ca-9f09d9390a6f",text:"Numquam sit minima.",userId:"65a6eb21-67b5-45c3-9af7-faca2d9b60d4",created_at:"2018-04-10T11:36:29.344Z"},{uuid:"69c572f4-0f07-4434-abfd-61e22af047bb",chatId:"14c43a19-3938-41ec-90ca-9f09d9390a6f",text:"Eos facilis sunt non autem hic.",userId:"3782c174-1f2c-4dc4-b75d-0bedf400e023",created_at:"2018-04-11T04:23:08.344Z"},{uuid:"d7f57929-a16b-4037-9b23-480224efbb52",chatId:"14c43a19-3938-41ec-90ca-9f09d9390a6f",text:"Sed voluptatibus ut tempora ut voluptas alias quas.",userId:"3782c174-1f2c-4dc4-b75d-0bedf400e023",created_at:"2018-04-11T05:01:28.334Z"},{uuid:"be2034ef-d0e9-4110-9df9-e46fef8b2de7",chatId:"14c43a19-3938-41ec-90ca-9f09d9390a6f",text:"Omnis a ea aut est reiciendis consequatur earum molestias quod.",userId:"3782c174-1f2c-4dc4-b75d-0bedf400e023",created_at:"2018-04-11T06:25:41.867Z"},{uuid:"fc273883-0360-42ab-ae03-53923c906a8c",chatId:"b42daaa7-ef3c-4cbe-89cc-52476f169232",text:"Voluptas eligendi sit et.",userId:"afdb5033-5bcc-4cec-b932-353a83410b44",created_at:"2018-04-10T08:50:09.825Z"},{uuid:"4548dbd5-cd36-447e-9476-a831b5000ab3",chatId:"a4fb2a31-7e6f-4103-b512-3a0e1856b42d",text:"At est rem.",userId:"65a6eb21-67b5-45c3-9af7-faca2d9b60d4",created_at:"2018-04-10T10:52:17.635Z"},{uuid:"2ee80955-bdc4-4195-a22e-a32cc2f87b9d",chatId:"a4fb2a31-7e6f-4103-b512-3a0e1856b42d",text:"Dolores alias amet dolor blanditiis consequatur qui consequatur harum.",userId:"65a6eb21-67b5-45c3-9af7-faca2d9b60d4",created_at:"2018-04-10T12:05:44.794Z"},{uuid:"709514c4-e86f-4a39-acb1-0162df208042",chatId:"a4fb2a31-7e6f-4103-b512-3a0e1856b42d",text:"Ut odit voluptas et voluptates esse consequatur eius aut.",userId:"65a6eb21-67b5-45c3-9af7-faca2d9b60d4",created_at:"2018-04-10T23:37:57.117Z"},{uuid:"9272611c-6842-4a3d-957a-e129b75a9ff8",chatId:"a4fb2a31-7e6f-4103-b512-3a0e1856b42d",text:"Molestiae praesentium maiores amet cum quasi.",userId:"5c44b666-baca-4f18-a3cb-23068c6edc14",created_at:"2018-04-10T08:17:01.849Z"},{uuid:"156dc16b-58a6-4b63-9703-85f120ef58e9",chatId:"a4fb2a31-7e6f-4103-b512-3a0e1856b42d",text:"Asperiores voluptatibus illo autem ipsa sit excepturi tempora sint.",userId:"7d910620-84e1-49fc-951e-d375587b8189",created_at:"2018-04-10T17:05:53.637Z"},{uuid:"0a402ffd-3d7c-491e-957b-a521b823fe30",chatId:"a4fb2a31-7e6f-4103-b512-3a0e1856b42d",text:"Dignissimos praesentium quo tenetur facere sed voluptatibus doloribus.",userId:"7d910620-84e1-49fc-951e-d375587b8189",created_at:"2018-04-10T19:04:30.895Z"},{uuid:"ffbdadc3-8029-45d4-85d1-5caa50064836",chatId:"a4fb2a31-7e6f-4103-b512-3a0e1856b42d",text:"Dolorem repudiandae ut ipsum maiores omnis deleniti libero similique.",userId:"7d910620-84e1-49fc-951e-d375587b8189",created_at:"2018-04-11T00:24:35.538Z"},{uuid:"ade76548-7eed-448d-85b9-b3f73a7caf3f",chatId:"a4fb2a31-7e6f-4103-b512-3a0e1856b42d",text:"Quia et nulla officiis sed incidunt.",userId:"7d910620-84e1-49fc-951e-d375587b8189",created_at:"2018-04-10T20:07:30.303Z"},{uuid:"f887af23-b252-4ac7-9f69-cb9161ac9f3b",chatId:"b1f03c8b-837f-4579-a18b-974d3ce93f3b",text:"Delectus sed aperiam.",userId:"6a03248b-1752-4332-a3a9-7108528cc9d3",created_at:"2018-04-10T23:33:05.619Z"},{uuid:"c87bae69-5c3e-4546-9694-ff339bdf35de",chatId:"b1f03c8b-837f-4579-a18b-974d3ce93f3b",text:"Ad nam perspiciatis.",userId:"28d9f265-74d7-4f85-83d4-6a21fca57dcf",created_at:"2018-04-10T07:12:52.646Z"},{uuid:"6ecfe4f2-bc8b-4ced-b569-d48ced93eb1f",chatId:"b1f03c8b-837f-4579-a18b-974d3ce93f3b",text:"Numquam expedita vero.",userId:"28d9f265-74d7-4f85-83d4-6a21fca57dcf",created_at:"2018-04-10T18:40:01.513Z"},{uuid:"e5a22400-92d8-4f7b-86c2-d82ce81e252f",chatId:"b1f03c8b-837f-4579-a18b-974d3ce93f3b",text:"Nemo aliquid molestiae veniam maxime molestiae velit pariatur.",userId:"28d9f265-74d7-4f85-83d4-6a21fca57dcf",created_at:"2018-04-11T03:56:04.139Z"},{uuid:"ffb0733c-648a-4d5b-8730-7e6b80f15140",chatId:"b1f03c8b-837f-4579-a18b-974d3ce93f3b",text:"Quis aut rerum illum.",userId:"28d9f265-74d7-4f85-83d4-6a21fca57dcf",created_at:"2018-04-10T09:04:51.772Z"},{uuid:"3523d9b3-43b1-4190-8dba-45df3e5e7458",chatId:"b1f03c8b-837f-4579-a18b-974d3ce93f3b",text:"Eos laborum quo quis repellat qui aut et quibusdam consequatur.",userId:"65a6eb21-67b5-45c3-9af7-faca2d9b60d4",created_at:"2018-04-11T05:01:13.162Z"},{uuid:"52baaf8e-3bca-41c8-bbad-945bae0d681a",chatId:"b1f03c8b-837f-4579-a18b-974d3ce93f3b",text:"Inventore labore similique eaque ipsam sunt est deleniti.",userId:"65a6eb21-67b5-45c3-9af7-faca2d9b60d4",created_at:"2018-04-10T14:40:01.818Z"},{uuid:"d63b9475-669a-49fb-b8eb-63a50bbc8fd0",chatId:"b1f03c8b-837f-4579-a18b-974d3ce93f3b",text:"Sunt et vero nemo voluptate sint eos quae tempore.",userId:"65a6eb21-67b5-45c3-9af7-faca2d9b60d4",created_at:"2018-04-10T07:44:03.117Z"},{uuid:"8bec71cc-eb61-4d8d-ace7-b3a343f5efc8",chatId:"b1f03c8b-837f-4579-a18b-974d3ce93f3b",text:"Voluptatem vel hic mollitia laborum.",userId:"65a6eb21-67b5-45c3-9af7-faca2d9b60d4",created_at:"2018-04-10T14:46:17.356Z"}];We.map(function(t){var e=ze().find(function(e){return e.uuid===t.userId});return t.user={uuid:e.uuid,name:e.name,avatar:e.avatar},t}),Le.map(function(t){return t.messages=We.filter(function(e){return e.chatId===t.uuid}),t.user=ze().find(function(e){return e.uuid===t.created_by}),t});var Qe=function(t){return void 0!==t?Le.find(function(e){return e.uuid===t}):Le[0]},Ze=[{icon:"photo",title:"Images",to:{path:"/media",query:{type:"image"}}},{icon:"videocam",title:"Video",to:{path:"/media",query:{type:"video"}}},{icon:"volume_down",title:"Audio",to:{path:"/media",query:{type:"audio"}}},{icon:"insert_drive_file",title:"Document",to:{path:"/media",query:{type:"doc"}}}],Xe=[{uuid:"a32c4aec-54de-4ff4-b165-8571ae805598",fileName:".DS_Store",fileType:!1,path:"static/.DS_Store",fullPath:"/Users/michael/themeforest/vue-material-admin/static/.DS_Store",ext:"",dir:"static",ctime:"2018-04-08T09:15:19.307Z",size:12292},{uuid:"a30f71db-7dcf-4467-978f-e32841d47825",fileName:".gitkeep",fileType:!1,path:"static/.gitkeep",fullPath:"/Users/michael/themeforest/vue-material-admin/static/.gitkeep",ext:"",dir:"static",ctime:"2018-03-14T09:21:32.010Z",size:0},{uuid:"ca1bf511-a44e-4663-8b68-323419236ddf",fileName:"google.png",fileType:"image/png",path:"static/avatar/google.png",fullPath:"/Users/michael/themeforest/vue-material-admin/static/avatar/google.png",ext:".png",dir:"static/avatar",ctime:"2018-04-08T08:31:07.808Z",size:12734},{uuid:"0693e01e-926c-4c95-818b-3f9b6d5413e7",fileName:"hangouts.png",fileType:"image/png",path:"static/avatar/hangouts.png",fullPath:"/Users/michael/themeforest/vue-material-admin/static/avatar/hangouts.png",ext:".png",dir:"static/avatar",ctime:"2018-04-08T08:31:10.010Z",size:15266},{uuid:"53d3ba9d-90f2-4a60-af86-04679321f551",fileName:"inbox.png",fileType:"image/png",path:"static/avatar/inbox.png",fullPath:"/Users/michael/themeforest/vue-material-admin/static/avatar/inbox.png",ext:".png",dir:"static/avatar",ctime:"2018-04-08T08:31:13.303Z",size:22444},{uuid:"ef6397dd-ca99-459f-9694-bf9475359a51",fileName:"keep.png",fileType:"image/png",path:"static/avatar/keep.png",fullPath:"/Users/michael/themeforest/vue-material-admin/static/avatar/keep.png",ext:".png",dir:"static/avatar",ctime:"2018-04-08T08:31:15.534Z",size:2146},{uuid:"e6dcaede-1c87-4052-a4e9-f894809d5984",fileName:"messenger.png",fileType:"image/png",path:"static/avatar/messenger.png",fullPath:"/Users/michael/themeforest/vue-material-admin/static/avatar/messenger.png",ext:".png",dir:"static/avatar",ctime:"2018-04-08T08:31:24.183Z",size:7006},{uuid:"78a63d97-c763-4fa4-883f-8f9ed4425a6a",fileName:"1.jpg",fileType:"image/jpeg",path:"static/bg/1.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/1.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.070Z",size:275608},{uuid:"29245130-ec05-4bf1-90ea-06574faa9bda",fileName:"10.jpg",fileType:"image/jpeg",path:"static/bg/10.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/10.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.096Z",size:283680},{uuid:"83c2cfc6-80c2-4bc0-af02-4b2e6a94a2d3",fileName:"11.jpg",fileType:"image/jpeg",path:"static/bg/11.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/11.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.100Z",size:99467},{uuid:"71fa31b2-4463-4c4c-baf2-719cd89ab15a",fileName:"12.jpg",fileType:"image/jpeg",path:"static/bg/12.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/12.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.103Z",size:82253},{uuid:"74db5dd4-f60d-415a-b6f7-3107ce2e5cda",fileName:"13.jpg",fileType:"image/jpeg",path:"static/bg/13.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/13.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:41:46.865Z",size:103275},{uuid:"54dc3e30-a9c8-4a68-9f9b-b070f5a5fea4",fileName:"14.jpg",fileType:"image/jpeg",path:"static/bg/14.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/14.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.111Z",size:103446},{uuid:"c2c9104b-8a26-4bce-b942-7104e57687b7",fileName:"15.jpg",fileType:"image/jpeg",path:"static/bg/15.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/15.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.119Z",size:105339},{uuid:"6b608ce9-e35b-4dfb-87cb-f4ca19102996",fileName:"16.jpg",fileType:"image/jpeg",path:"static/bg/16.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/16.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.122Z",size:88580},{uuid:"a9b26177-5927-44a5-8b7c-4cad8425e9a5",fileName:"17.jpg",fileType:"image/jpeg",path:"static/bg/17.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/17.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.125Z",size:98465},{uuid:"f1168479-113a-4f8a-a014-45ff6351941e",fileName:"18.jpg",fileType:"image/jpeg",path:"static/bg/18.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/18.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.128Z",size:100565},{uuid:"d1cd7b81-b301-425f-89d1-e0cbf2f7a0cb",fileName:"19.jpg",fileType:"image/jpeg",path:"static/bg/19.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/19.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.138Z",size:39500},{uuid:"c9ebff9b-651a-43c8-8e8a-028bb69b00ef",fileName:"2.jpg",fileType:"image/jpeg",path:"static/bg/2.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/2.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.075Z",size:268438},{uuid:"fa673c64-e747-4279-8574-be153c106ede",fileName:"20.jpg",fileType:"image/jpeg",path:"static/bg/20.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/20.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.143Z",size:104204},{uuid:"74e2ab71-4261-4fa9-b2e7-4844ef9f1d58",fileName:"21.jpg",fileType:"image/jpeg",path:"static/bg/21.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/21.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:41:54.525Z",size:91890},{uuid:"5fb2fed2-fc86-4bd5-9144-7d36b3dacd60",fileName:"22.jpg",fileType:"image/jpeg",path:"static/bg/22.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/22.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.150Z",size:104620},{uuid:"8d6cdfc5-e69a-44d2-b6e3-4265b4b87cc1",fileName:"23.jpg",fileType:"image/jpeg",path:"static/bg/23.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/23.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.157Z",size:103130},{uuid:"d733c863-b5ed-46b2-9eb2-42eb9fa285fa",fileName:"24.jpg",fileType:"image/jpeg",path:"static/bg/24.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/24.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.159Z",size:105835},{uuid:"f9c7064e-2542-473f-9b4d-98d122ef4364",fileName:"25.jpg",fileType:"image/jpeg",path:"static/bg/25.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/25.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.162Z",size:95075},{uuid:"e2ea7604-a86d-4fef-bb20-40fae6bb7ce0",fileName:"26.jpg",fileType:"image/jpeg",path:"static/bg/26.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/26.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.166Z",size:104342},{uuid:"f7570a47-938c-4e9c-aba6-a82f30b7bef5",fileName:"27.jpg",fileType:"image/jpeg",path:"static/bg/27.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/27.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.168Z",size:90063},{uuid:"4dc41162-89b5-499b-b702-cf951a04841e",fileName:"28.jpg",fileType:"image/jpeg",path:"static/bg/28.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/28.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.171Z",size:132461},{uuid:"ed316744-39c6-4de3-a346-4436d080291a",fileName:"29.jpg",fileType:"image/jpeg",path:"static/bg/29.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/29.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.173Z",size:121466},{uuid:"af9acc25-694a-4656-a790-584129b21cc4",fileName:"3.jpg",fileType:"image/jpeg",path:"static/bg/3.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/3.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.077Z",size:308780},{uuid:"c2be3695-f084-4a41-bc0b-79062e4eefe0",fileName:"30.jpg",fileType:"image/jpeg",path:"static/bg/30.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/30.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.176Z",size:125198},{uuid:"708a5185-2de7-4477-ac84-d99f434fa7cc",fileName:"31.jpg",fileType:"image/jpeg",path:"static/bg/31.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/31.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.179Z",size:292495},{uuid:"c9782516-bd3d-4ca6-9397-91b806d4d5aa",fileName:"32.jpg",fileType:"image/jpeg",path:"static/bg/32.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/32.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.186Z",size:278854},{uuid:"00ac4093-8202-408e-8b88-a33313d39e6b",fileName:"33.jpg",fileType:"image/jpeg",path:"static/bg/33.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/33.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.196Z",size:296287},{uuid:"9d3ed291-8706-4d1c-b37a-9da33f808622",fileName:"34.jpg",fileType:"image/jpeg",path:"static/bg/34.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/34.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.199Z",size:298335},{uuid:"38cfc863-13f1-4ab6-acd1-2f403b77f539",fileName:"35.jpg",fileType:"image/jpeg",path:"static/bg/35.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/35.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.204Z",size:285123},{uuid:"1cbde33c-6ef6-45e6-930a-94bfae6a4b4d",fileName:"36.jpg",fileType:"image/jpeg",path:"static/bg/36.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/36.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.207Z",size:294032},{uuid:"c4835081-6414-4e23-ae05-6b23997a4f6f",fileName:"37.jpg",fileType:"image/jpeg",path:"static/bg/37.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/37.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.210Z",size:261250},{uuid:"16647278-2e36-4285-8347-7aeab0fbf468",fileName:"38.jpg",fileType:"image/jpeg",path:"static/bg/38.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/38.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.214Z",size:292620},{uuid:"e8047c06-fca2-4405-8823-d5497c788362",fileName:"39.jpg",fileType:"image/jpeg",path:"static/bg/39.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/39.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.217Z",size:290569},{uuid:"d69f047b-8ebf-4d3d-b436-09bbbf6cba4b",fileName:"4.jpg",fileType:"image/jpeg",path:"static/bg/4.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/4.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.080Z",size:287013},{uuid:"ad16609e-154b-401d-835f-bbcb6f4a496b",fileName:"40.jpg",fileType:"image/jpeg",path:"static/bg/40.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/40.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.219Z",size:297662},{uuid:"8c4cf24d-de27-4aea-abca-f38865cc9239",fileName:"5.jpg",fileType:"image/jpeg",path:"static/bg/5.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/5.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.083Z",size:318957},{uuid:"88a031a1-323d-4ca6-9115-61762dbdffe9",fileName:"6.jpg",fileType:"image/jpeg",path:"static/bg/6.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/6.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:41:50.063Z",size:287785},{uuid:"5e42c142-b511-4a11-bdaf-ae85ac8417c6",fileName:"7.jpg",fileType:"image/jpeg",path:"static/bg/7.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/7.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.089Z",size:285392},{uuid:"5194e91c-5975-40a4-9353-83055b0c8cbb",fileName:"8.jpg",fileType:"image/jpeg",path:"static/bg/8.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/8.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.091Z",size:272918},{uuid:"c5f859ed-012c-48d3-a037-bf164f8b0c84",fileName:"9.jpg",fileType:"image/jpeg",path:"static/bg/9.jpg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/bg/9.jpg",ext:".jpg",dir:"static/bg",ctime:"2018-03-30T08:40:27.094Z",size:285242},{uuid:"b83f94eb-3fa4-474f-8b09-91ec5b9e67da",fileName:"403.svg",fileType:"image/svg+xml",path:"static/error/403.svg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/error/403.svg",ext:".svg",dir:"static/error",ctime:"2018-03-30T06:10:45.825Z",size:55336},{uuid:"7b93354a-fc3c-45ae-890a-8bcb5c294f55",fileName:"404.svg",fileType:"image/svg+xml",path:"static/error/404.svg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/error/404.svg",ext:".svg",dir:"static/error",ctime:"2018-03-30T06:10:45.814Z",size:88876},{uuid:"d2b741d4-206d-4be5-819d-3a00fd6895f0",fileName:"500.svg",fileType:"image/svg+xml",path:"static/error/500.svg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/error/500.svg",ext:".svg",dir:"static/error",ctime:"2018-03-30T06:10:45.818Z",size:88720},{uuid:"cf1cd0df-861e-4216-beba-c5fa266081dd",fileName:"google.svg",fileType:"image/svg+xml",path:"static/google.svg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/google.svg",ext:".svg",dir:"static",ctime:"2018-03-30T06:10:12.693Z",size:1574},{uuid:"d145ac45-57b4-4754-a058-79bf42bb2963",fileName:"manifest.json",fileType:"application/json",path:"static/manifest.json",fullPath:"/Users/michael/themeforest/vue-material-admin/static/manifest.json",ext:".json",dir:"static",ctime:"2018-03-14T09:21:32.018Z",size:303},{uuid:"8b2ca729-a2eb-4950-855d-1dd3ce831765",fileName:"robots.txt",fileType:"text/plain",path:"static/robots.txt",fullPath:"/Users/michael/themeforest/vue-material-admin/static/robots.txt",ext:".txt",dir:"static",ctime:"2018-03-14T09:21:32.021Z",size:23},{uuid:"e5a6e6f5-a9c8-49be-b2e2-c5074f4fa6c2",fileName:"sitemap.xml",fileType:"application/xml",path:"static/sitemap.xml",fullPath:"/Users/michael/themeforest/vue-material-admin/static/sitemap.xml",ext:".xml",dir:"static",ctime:"2018-03-14T09:21:32.019Z",size:15488},{uuid:"7cf65477-4aad-45de-924c-a38ded2471ef",fileName:"v.png",fileType:"image/png",path:"static/v.png",fullPath:"/Users/michael/themeforest/vue-material-admin/static/v.png",ext:".png",dir:"static",ctime:"2018-03-14T09:21:32.023Z",size:5674},{uuid:"5d333a3d-9140-4b8c-9ae3-9a8a96f0309e",fileName:"v.svg",fileType:"image/svg+xml",path:"static/v.svg",fullPath:"/Users/michael/themeforest/vue-material-admin/static/v.svg",ext:".svg",dir:"static",ctime:"2018-03-14T09:21:32.017Z",size:538}],Je=function(t){return t?Xe.slice(0,t):Xe},Ke=[{uuid:"bb428c03-1bc6-4f3d-9d5e-268ec44eebc3",type:"trashed",tag:"Promotion",title:"Similique voluptate laboriosam laborum.",created_at:"2018-04-10T23:10:41.266Z",content:"Tempora et optio quis ducimus. Veniam et qui quia ut necessitatibus architecto ad. Vel ut consequatur non sint est error sint.\n \rError asperiores a esse ad. Rerum eum magni aperiam voluptas excepturi. Suscipit est modi magni et ut eum ut.\n \rCumque eius voluptatem sit qui nisi. Eos eum est cumque est ipsa odit earum voluptas. Dolorum ipsam rerum ut.\n \rAutem quia delectus quia rerum deleniti reprehenderit voluptatibus quisquam. Necessitatibus molestias vel odio neque expedita nulla libero voluptatem numquam. In labore modi. Unde molestiae id molestias vero delectus rerum nesciunt voluptatum exercitationem.\n \rCorrupti et voluptatibus ea dolorem laboriosam. Amet cupiditate beatae nulla. Facilis sit est. Sed ducimus ducimus alias rem nam.",fromId:"14ddae1e-986d-42f4-8d17-46a02d469b2b",attachments:[]},{uuid:"a19bf9fc-e877-49e7-a75a-b089a2c35f18",type:"draft",tag:"Social",title:"Ipsum maiores ab amet voluptas enim.",created_at:"2018-04-10T12:05:32.328Z",content:"Dolores corporis quam perferendis consequatur autem minus recusandae non. Id corrupti qui et. Sed a accusamus veritatis earum et consequatur mollitia. Iure consequatur omnis aspernatur itaque laboriosam aut ut. Enim repellendus sed similique minima voluptatem sed ea. Exercitationem aut est eius rerum.\n \rUt veniam quidem et numquam reprehenderit aliquam. Omnis eos qui enim hic modi maiores. Nisi itaque et unde ullam laborum ut aut facilis. Enim qui aut est.\n \rTotam molestiae velit aperiam rerum. Voluptatum quo ab. Quae cupiditate sit quia illum delectus nobis adipisci sunt.\n \rAlias nostrum ad ipsam aut nulla et repudiandae incidunt doloribus. Vero rerum omnis. Consequatur eius et accusamus quaerat et unde animi. Sed et quaerat sit quis mollitia. Accusantium voluptatem perferendis qui enim similique molestiae ut sit velit.\n \rProvident quibusdam excepturi asperiores vitae earum ut fugiat. Eligendi illum nisi dolor. Maiores velit vitae minus.",fromId:"60d07662-bfec-42c7-b044-c81bc4ff8c7a",attachments:[]},{uuid:"910d7e0a-f3b0-47a7-bb53-9036ed717298",type:"starred",tag:"Work",title:"Quo consequatur cumque.",created_at:"2018-04-11T02:12:00.447Z",content:"Accusamus enim nihil aliquam soluta praesentium repudiandae autem voluptatum. Dolore aut at incidunt molestias commodi odit et. Quis possimus et dolorem. Cupiditate nulla voluptas. Quis sit ab.\n \rIusto accusamus neque commodi est omnis et aut doloremque autem. Illo unde est deserunt accusantium. Quia iusto velit autem dignissimos natus sit voluptatum. Aliquam et quibusdam mollitia consectetur quod aut at eveniet consequatur.\n \rMagnam et repellat tenetur libero. Quasi autem animi exercitationem est enim dolores facere earum fugit. Porro necessitatibus est amet quis. Officia qui itaque inventore magnam ut temporibus ad.\n \rOfficia ratione velit vel consequatur et est. Quibusdam consequatur et earum et ut consequatur dolorem at minus. Sit aperiam voluptas dolorem id. Et ad deleniti sunt consequatur omnis commodi distinctio dolor. Asperiores eum similique est aut. Totam harum voluptates ipsum dolores eos dolor ut.\n \rNam qui sed. Maiores occaecati voluptatibus iste quae temporibus odit. Voluptas vel quis suscipit ex ab. Dolores aut explicabo modi rerum et odit similique. Ut officia corrupti rerum repellendus laborum. Velit in aliquam ex blanditiis et ab.",fromId:"77f4b102-9df5-43ba-966a-6f816806c5e2",attachments:[]},{uuid:"c79cb60a-baf8-4349-b9c3-88d567b965a2",type:"draft",tag:"Social",title:"Qui consequatur et rerum optio atque.",created_at:"2018-04-10T18:56:23.358Z",content:"Explicabo quidem a dolore modi nihil id nostrum voluptates ex. Repellendus quis tempore unde molestiae unde ipsa. Excepturi quod omnis facere est porro incidunt ratione suscipit.\n \rCupiditate et sunt iure aperiam. Beatae cupiditate cumque. Dolorem iste quia unde cum est molestiae est.\n \rMolestiae et sit dolore iste ipsam voluptas quia. Ut quia unde culpa ipsa commodi possimus. Ut maiores molestiae sunt qui labore. Provident sit eius recusandae numquam eum exercitationem quis asperiores.\n \rEaque et at ea voluptatem id qui omnis. Aut ex rem. Iste voluptate magni sequi eaque sit numquam accusantium aut molestias.\n \rSit laboriosam magni illum accusantium aut nulla corporis sed. Et ratione iusto dolor porro voluptatem voluptatem voluptate. Autem non animi. Aut unde aliquid omnis natus suscipit. Saepe dicta veritatis id autem doloremque tempore corrupti.",fromId:"7d910620-84e1-49fc-951e-d375587b8189",attachments:[]},{uuid:"35bddac1-1046-4c96-a1ac-ffd75def7f5a",type:"trashed",tag:"Social",title:"Reiciendis sunt aliquid.",created_at:"2018-04-10T19:58:14.408Z",content:"Qui facere quia est consequatur nihil dolores dolorem magni eum. Occaecati ab atque ut vitae ipsum officiis et expedita. Quisquam architecto repellat eos. Ut repellendus animi rerum delectus natus. Explicabo est enim est fugiat nisi est alias non.\n \rMaxime autem eum ut est et dolorem. Non ab deserunt voluptatem sequi deleniti quo commodi. Est tempore rerum quia. Id est temporibus iste voluptas amet omnis amet. Veniam blanditiis consequuntur laborum.\n \rVoluptates nihil ut. Doloremque dicta at consequuntur qui. Sit culpa possimus aut nemo. Aut atque quaerat voluptatum nostrum voluptatum laudantium officia quia incidunt. Quia est earum aut.\n \rQuisquam dolorum dolorum. Dicta quas veniam dignissimos fugiat. Ut nostrum dolores explicabo eos rem dolores dolorum autem. A dolorem eum reiciendis amet ea et.\n \rSit tempore ut. Culpa veniam voluptatum quod odio. Cum fugit autem doloremque quidem molestias labore.",fromId:"46d6f992-5729-4588-b7f8-ce74f21157ba",attachments:[]},{uuid:"0c914dfd-be0d-4d46-b963-47bcb064154f",type:"sent",tag:"Work",title:"Libero odit voluptate dolorem error cupiditate in.",created_at:"2018-04-11T04:07:16.152Z",content:"Delectus nisi enim ut illum magni quasi. Voluptatem consequatur quia quis. Consectetur dolores molestiae debitis aut voluptatem recusandae sit. Ut voluptas expedita aut et possimus sint.\n \rAmet cumque corporis ipsam non iure autem. Aut molestiae est. Est itaque doloremque consequuntur nesciunt et error quibusdam.\n \rEos architecto dignissimos voluptatem ut voluptate quisquam. Fugiat provident iste perspiciatis provident accusamus rerum. Tempora et ducimus velit eaque ratione eum. Voluptas tempore ullam. Et cum eos dolor nesciunt perferendis est.\n \rPerferendis aperiam id adipisci ea distinctio totam ut fugit eaque. Qui harum autem et vero vero sit. Ex pariatur hic deleniti.\n \rVoluptatem tenetur dolorem omnis dolorem vel ratione vel dolores necessitatibus. Eius culpa harum excepturi. Corrupti ut aut. Vitae quia ut necessitatibus aliquam et. Libero mollitia sit et dicta.",fromId:"65a6eb21-67b5-45c3-9af7-faca2d9b60d4",attachments:[]},{uuid:"11538c3a-f2a7-4a7c-a237-4e61aa96423b",type:"sent",tag:"Personal",title:"Consequuntur nostrum aut iusto est porro voluptate.",created_at:"2018-04-10T08:22:54.855Z",content:"Voluptatibus ipsum voluptatem. Recusandae eius ad quia et nisi similique non. Enim nulla suscipit sed. Est neque aut itaque asperiores quia accusantium quas.\n \rSit vel facere suscipit ut eaque sapiente saepe et voluptates. Magni numquam voluptatem. Dolores magnam harum omnis ipsam quia ut ut iste.\n \rOdio temporibus est possimus minima id magnam et quas. Architecto nobis rerum non. Eum ipsa unde. Atque eaque sequi officiis omnis rerum aut. Voluptate debitis perferendis atque illo consectetur cupiditate. Autem eaque eum aut incidunt sunt error natus nostrum.\n \rPariatur ad quae dolorem. Sint quo itaque repudiandae suscipit ut accusamus. Esse perspiciatis consequatur qui perspiciatis quia. Ut sed eveniet eveniet dolor nostrum quisquam numquam. Cumque facilis temporibus et non facilis neque omnis.\n \rConsectetur sunt totam enim odio voluptatum ratione fuga ut. Eaque alias deserunt laboriosam deserunt aliquid. Sequi fuga totam. Eos ipsa nobis eveniet ut.",fromId:"28d9f265-74d7-4f85-83d4-6a21fca57dcf",attachments:[]},{uuid:"0f0a5482-8e4f-42a0-b3bb-1f96bc04d85a",type:"draft",tag:"Promotion",title:"Sunt odit nisi sint cupiditate accusantium.",created_at:"2018-04-11T05:59:14.238Z",content:"Saepe asperiores incidunt aspernatur. Non animi eos impedit et veritatis consequatur voluptas culpa. Nihil culpa voluptas dolor doloremque ad laboriosam sed. Ut dolor vel earum deserunt molestias sint quo delectus. Accusamus et corporis et inventore optio consectetur ea culpa. Repellat suscipit voluptas laudantium pariatur rerum eum mollitia ipsum maiores.\n \rCorporis quam aut voluptatem voluptas consequatur rerum in. Repudiandae id nihil tenetur asperiores. Qui impedit et est animi ducimus adipisci. Eaque esse qui ipsum laudantium distinctio.\n \rCulpa occaecati optio autem libero sequi sed. Autem doloremque consectetur beatae soluta inventore voluptas et consequatur voluptate. Magni aspernatur sint facere sed molestiae quae ut et.\n \rBeatae ea et et occaecati. Cupiditate adipisci tempora illo aliquid. Esse illum qui omnis adipisci nihil. Corrupti officiis voluptatem perferendis nobis recusandae temporibus aut. Qui et facilis quidem amet velit incidunt consequatur repellat iste. Id aut fugit omnis placeat consectetur nostrum.\n \rAb quae accusamus omnis quidem cupiditate illum sit. Atque possimus aut esse saepe dolorum eos veniam repellendus. Ullam debitis dolore quisquam omnis sed ab eum ipsa. Voluptas facilis labore sapiente saepe quia.",fromId:"5c44b666-baca-4f18-a3cb-23068c6edc14",attachments:[]},{uuid:"2b0e4083-00e4-48fd-9cb3-05434767ca66",type:"starred",tag:"Work",title:"Est deleniti dolores enim.",created_at:"2018-04-11T01:37:34.384Z",content:"Esse consequatur id dolorum culpa quia saepe unde quo consequatur. Facilis tempore incidunt dolorem est. Nihil animi omnis voluptatem earum facilis nulla animi temporibus reprehenderit.\n \rDeserunt voluptatem qui qui et alias. Ut corporis totam ut ducimus labore et. Vitae ut minus suscipit occaecati hic eum eum.\n \rQuia eos aliquam aspernatur in voluptas quo. Rem harum hic exercitationem impedit et earum adipisci quo aliquid. Voluptas commodi ut ipsam. Et consequatur sed eveniet corrupti voluptatum a tempore repudiandae. Repellat nihil fugit rem in impedit quo corporis iste nihil. Rerum deleniti quia.\n \rEt tenetur doloremque eos iste odit error. Molestias in repellat ea. Beatae ipsa est dolor.\n \rOccaecati nostrum sed voluptatem voluptatibus. Itaque perspiciatis aperiam. Alias sit iste quas est velit nihil perferendis deleniti.",fromId:"afdb5033-5bcc-4cec-b932-353a83410b44",attachments:[]},{uuid:"bf7ab76b-c076-4992-a580-13b1859cd395",type:"sent",tag:"Work",title:"Et dolores odit quas quasi voluptas.",created_at:"2018-04-10T08:36:08.703Z",content:"Maxime quaerat voluptate inventore eveniet nesciunt neque. Tempora laudantium dolorem facere nobis suscipit quam quia ut. Veniam et sed eaque laboriosam voluptates odit nihil ipsum.\n \rAliquam sit repellat. Eveniet vel consequatur est facilis dolore quae. Voluptatem doloribus expedita hic fugit reiciendis consequuntur et dolor veritatis.\n \rItaque deleniti ad accusantium labore quibusdam. Id quo nam natus nisi vero quam iure a ea. Eveniet autem non at autem accusantium dolores nihil odit. Aut iusto necessitatibus minima architecto quidem repellat.\n \rDolore cupiditate libero ratione quis qui quia. Harum maxime fuga quia quis ipsa. Animi provident facere corrupti eligendi dolorum dolores. Animi vel est tempore alias consequatur voluptatem. Explicabo maxime molestiae dolore. Voluptatem cumque aliquid.\n \rVitae voluptatem doloribus voluptate corporis. Qui qui quibusdam doloribus cum est. Libero impedit commodi et recusandae explicabo. Aliquam ratione eius cumque id quae. Sed veniam ut sit illum aut reprehenderit pariatur et. Praesentium totam sunt sint doloribus ab in illum.",fromId:"899d0e31-b71e-4d95-a8a0-6a8bceb314bd",attachments:[]},{uuid:"2d72dac8-42e8-4414-b14f-6b1680cbdcfb",type:"starred",tag:"Personal",title:"Aut consequuntur molestiae labore velit nihil consectetur facere rerum et.",created_at:"2018-04-11T02:00:01.416Z",content:"Et temporibus alias et dolor. Expedita sapiente fuga ut consequuntur facilis omnis provident quia labore. Placeat omnis aperiam veritatis velit veritatis ut suscipit in. Blanditiis non praesentium sit rerum ullam. Voluptatem ex voluptates illo qui quaerat consequuntur distinctio.\n \rNesciunt ipsa iusto odit enim qui excepturi assumenda aut consectetur. Nisi deleniti eaque ratione illo ut ut. Recusandae consequatur harum. Voluptas dolor recusandae qui. Illum animi deserunt animi fugiat saepe et quia. Non id sapiente nihil earum.\n \rOfficiis eum ut similique reprehenderit ipsum. Id provident culpa harum ipsam in commodi. Voluptates assumenda harum aperiam aliquid assumenda. Ipsam aperiam unde molestiae earum dolores ullam aspernatur tempora officia. Porro dolores sit.\n \rAd et sed reiciendis illum quia ut qui. Velit sunt harum accusamus. Amet dolores reprehenderit vitae aut expedita nobis optio ad assumenda. Accusamus reprehenderit quaerat minima velit expedita eos animi autem occaecati. Quidem dolor eligendi nemo. Architecto harum sint fugit sit at dolorem reprehenderit vero quia.\n \rVoluptatum voluptate ad. Ipsa ut quos et sint et doloremque. A voluptas libero ipsum aut deleniti eaque facere nostrum sed. Nesciunt voluptas facere. Non et et ut.",fromId:"77f4b102-9df5-43ba-966a-6f816806c5e2",attachments:[]},{uuid:"156dfed3-0235-4a38-a5b2-6a99a2a39d59",type:"sent",tag:"Personal",title:"Corporis et voluptatem quam nam rem voluptas iure facilis tempora.",created_at:"2018-04-11T02:30:04.516Z",content:"Inventore est minima esse deleniti porro in aut cumque. Voluptatem ut et nulla. Illo aliquid quidem. Corrupti fuga vel in consequuntur aut et rerum eaque. Enim nihil cumque non aliquid eos repellat quam et maiores.\n \rVeritatis vero qui aut corporis veritatis quo similique dicta quisquam. Est et praesentium rem ea accusantium nobis. Consequatur nisi quisquam. Quisquam officiis quis enim. Dolores quis qui dignissimos voluptatem ea. Animi repellendus cum occaecati sint est vero voluptatibus neque.\n \rId molestiae doloremque doloremque totam. Est adipisci deserunt rerum officiis expedita. Quis tempore aliquam ducimus sunt accusamus velit autem. Quam voluptates quaerat labore dolorem blanditiis. Et magni dolorem.\n \rUllam sunt voluptatum. Vero eum reprehenderit quas labore. Nulla aliquam expedita ex iste sit aut. Voluptatem possimus est qui aut praesentium consequatur iste dolores. Et est accusantium aliquid temporibus accusantium similique officiis officiis esse. Molestiae beatae quidem culpa recusandae animi sint.\n \rEnim esse consectetur quibusdam aliquid. Deserunt dicta eveniet doloremque id ex voluptas iste est sapiente. Possimus sed aliquam voluptatum dignissimos voluptate natus. Fugit rerum vero expedita accusamus sequi.",fromId:"da95e977-cd54-4077-a767-1b7f33ef6919",attachments:[]},{uuid:"2eedaa3e-1509-49fc-b60b-069bfc83558b",type:"trashed",tag:"Personal",title:"Eligendi nam quia pariatur iusto commodi omnis dignissimos nihil.",created_at:"2018-04-11T06:44:11.696Z",content:"Voluptatum est aut nulla occaecati. Sunt optio ea beatae. Occaecati quis et veritatis ipsum. Id hic eaque molestias facere. Impedit doloribus hic omnis.\n \rEt illo dolores. Suscipit aliquid dolorem. Esse est laboriosam voluptatibus. Quia voluptas repellendus.\n \rMinima molestiae illo corporis quae neque eligendi. Harum illo recusandae et dolor hic. In voluptas est quo iusto.\n \rEum soluta possimus atque quo cupiditate consequatur non. Non sed quidem porro explicabo. Perspiciatis omnis quis at eveniet asperiores quia. Cupiditate autem excepturi nobis id et dicta.\n \rQuibusdam minima sint molestias vitae incidunt voluptate voluptas et. Alias nihil rerum sapiente. Atque minus assumenda eveniet consectetur. Amet nulla odio nostrum architecto.",fromId:"36a1ead7-57a0-4275-8a21-956194ab7cdf",attachments:[]},{uuid:"ef82e384-801e-49fb-91d4-1472ddc124fb",type:"trashed",tag:"Promotion",title:"Optio provident aspernatur nihil repellendus quia architecto.",created_at:"2018-04-10T12:18:03.092Z",content:"Voluptas in mollitia tenetur voluptatem tempora ducimus est exercitationem est. Delectus tempore aut quae maxime soluta rerum. Doloremque et ratione recusandae perspiciatis ad. Voluptatem inventore error amet eos non est corporis aut. Quae aut autem.\n \rFuga architecto consequatur sed et dolorum animi neque vitae voluptatibus. Quasi et ducimus officia sint quibusdam ea dolores ipsa magni. In cumque ab est aut. Animi consequatur debitis dignissimos tempore voluptatum est suscipit provident neque.\n \rReprehenderit possimus voluptatem. Itaque beatae dolore fuga alias autem et omnis aspernatur. Sit et facilis blanditiis pariatur et tenetur dolores.\n \rConsequatur officiis in modi. Quis omnis molestias voluptatem. Et accusamus minus atque officiis aliquid quo ut quis inventore. Sint quod inventore magnam sint voluptates. Facilis dolorem dolorem harum veritatis repellat et suscipit.\n \rError occaecati expedita. Est ipsa rerum ab. Ipsum sed impedit a id et fugit non soluta.",fromId:"afdb5033-5bcc-4cec-b932-353a83410b44",attachments:[]},{uuid:"dae6e84d-4adb-4170-bc5f-087bc01b903d",type:"draft",tag:"Personal",title:"Id ipsam dolor facere quis numquam distinctio eveniet omnis et.",created_at:"2018-04-10T22:26:07.420Z",content:"Est doloribus et pariatur ut et voluptatum sed repellendus rerum. Dolor deleniti iusto voluptatem. Ipsam soluta aliquid in ut. Quaerat qui culpa in ex ut accusantium non consectetur cum.\n \rEos corporis dolores corporis rem quam. Ducimus aliquam mollitia ratione quo. Sed dolor eum aut est sint quaerat mollitia. Sunt quasi iste facere voluptatem. Illum perferendis accusamus quos quisquam voluptatem ab iste distinctio nisi.\n \rEst laborum ea illo similique magnam autem ullam numquam. Consequatur perspiciatis aut neque temporibus molestiae. Sed ullam incidunt officiis sed assumenda possimus quibusdam ex consequatur.\n \rRepellat ex ut nobis eaque aliquam. Voluptatibus sed consequatur et velit veniam. Eum natus est unde voluptates delectus id quia quaerat dignissimos. Repudiandae laboriosam atque magnam est nam. Dolor laborum libero sed libero.\n \rOfficiis non quidem amet in laborum repellendus aliquam. Illo ducimus numquam qui voluptates. Accusamus accusamus qui voluptatem ullam velit qui modi omnis. Sed dolores voluptatibus maiores sed. Voluptas amet impedit est molestiae cupiditate quo. Itaque quo beatae corporis esse maxime sequi qui.",fromId:"28d9f265-74d7-4f85-83d4-6a21fca57dcf",attachments:[]},{uuid:"afe865e9-1c5b-49b4-8832-3186efc50304",type:"sent",tag:"Personal",title:"Provident tempore aut in ipsam.",created_at:"2018-04-11T05:28:24.777Z",content:"Sit ullam libero necessitatibus deserunt eum. Aut labore itaque sequi voluptatem dolor ab beatae. Sint enim iusto quis explicabo sed similique velit provident asperiores. Sequi repellendus totam impedit perspiciatis reiciendis. Est consequatur officiis rerum voluptatem dolorem fugiat. Minus reiciendis voluptatem totam magni quas earum aut consequatur ratione.\n \rId distinctio nesciunt quam. Laudantium id assumenda qui dolore. Debitis nemo velit voluptatem. Officiis harum deserunt. Facere eligendi et aperiam aut vel asperiores sit sed. Esse omnis fugiat ut voluptatem sint beatae et.\n \rEt odit exercitationem repellat laudantium accusamus. Et quasi incidunt qui non. Voluptas quod necessitatibus ipsum officia. Incidunt animi temporibus quis harum non. Dolores explicabo non dolor.\n \rAut sit provident voluptatum beatae quidem harum et. Necessitatibus voluptate quas dolorem officia deserunt consequuntur. Ex nihil sunt quidem.\n \rAb aut quia voluptatem. Et sed laboriosam nesciunt. Eaque provident natus dolorem voluptas quibusdam culpa voluptate voluptatem voluptate. Ut officia consectetur omnis natus. Consectetur dolorem sint. Sint est nostrum ullam.",fromId:"a41c6c4a-9cb1-45d1-8c6f-091044ba51ff",attachments:[]},{uuid:"38c6b789-dab8-41e3-8448-e498140f797e",type:"draft",tag:"Social",title:"Error accusantium vitae incidunt.",created_at:"2018-04-10T12:23:56.599Z",content:"Quaerat at blanditiis et quis voluptatum id. Recusandae tempore et rerum. Facilis est quo eum accusamus eligendi voluptate consequatur unde. Labore laboriosam sit sed ea. Qui nihil impedit dolor consequatur. Aut reiciendis similique quaerat et iste autem aut nostrum inventore.\n \rAut maxime non libero quibusdam ducimus. Ut veritatis sequi optio in provident sint magnam aut. Aspernatur quis libero molestiae corporis dicta. Deleniti tenetur recusandae et. Aperiam ullam voluptatem.\n \rQuae voluptates fugit. Est ullam voluptas eum illum aspernatur eius illo fugit. Harum placeat ad soluta fugiat.\n \rQuo deleniti optio quod minima. Voluptates dolores molestiae velit doloremque. Molestias illo eos. Aut quas mollitia in nam asperiores quo corrupti nostrum omnis. Excepturi et optio iste aut qui molestiae placeat culpa.\n \rIste earum dolorum cupiditate architecto possimus. Iste et doloribus doloribus. Sint vel velit dolorum omnis sunt sequi facilis. Consequuntur qui itaque. Cupiditate quis sit dolor doloribus molestiae qui. Corrupti ullam enim sit laborum voluptates provident atque est.",fromId:"5c44b666-baca-4f18-a3cb-23068c6edc14",attachments:[]},{uuid:"8bbcd627-394c-4a14-bc69-b357f7bc2547",type:"draft",tag:"Personal",title:"Consequatur dolorem dignissimos distinctio cum odio.",created_at:"2018-04-10T09:41:01.839Z",content:"Ut placeat earum eius eos. Sed officiis earum impedit officiis temporibus incidunt ad voluptatem. Nihil perferendis aut adipisci sint enim ea modi qui velit. Sed fugiat deleniti et et labore hic error quidem. Repellat natus aut. Incidunt nam porro voluptate sit ut quo.\n \rVoluptas qui nihil. Dolores alias tempore. Ipsum perspiciatis voluptatem tenetur debitis eum sint natus. Numquam sed quos nam.\n \rQuia eius aspernatur ut incidunt repudiandae qui neque. Modi soluta voluptas libero qui quo et voluptatem ut. Corporis sint debitis ab nisi quis ut.\n \rAut fugiat quia quisquam ut ipsam rerum. Autem rerum optio commodi. Modi esse numquam facere ad eligendi numquam est. Dolorem doloremque corporis excepturi fugit.\n \rReiciendis eos error. Facere culpa accusamus sunt magnam rerum dolores sint consequatur. Amet impedit dolores voluptatem tempore quia temporibus accusantium nostrum alias. Consectetur commodi sint explicabo qui quaerat eaque. Facere voluptate sequi et et est delectus et. Rerum debitis dolor eligendi qui.",fromId:"ee272550-36e8-4fe2-889d-c1ee701c5863",attachments:[]},{uuid:"60c2248b-3cb2-4fdf-b157-770f07d2a1f3",type:"trashed",tag:"Work",title:"Vel molestiae reprehenderit explicabo adipisci quia vitae cumque maxime.",created_at:"2018-04-11T07:22:28.487Z",content:"Placeat eaque voluptatem voluptatum suscipit quod deleniti iusto. Officiis ut enim vel. Quibusdam nostrum et qui maxime tempore sed facilis non. Molestiae et provident. Non harum iste voluptatem architecto recusandae est. Quas et molestiae labore sequi et sit ad.\n \rPlaceat aut et impedit aut officia qui maxime et nobis. Aut reiciendis dolores nesciunt ratione tempora. Consequatur aut aliquam ut optio dicta rerum qui. Nisi ut et doloribus asperiores at. Ducimus asperiores quo ut.\n \rFugit ratione ipsa non fugiat enim sit velit omnis. Omnis unde molestias laboriosam aspernatur ullam labore quod. Et officiis sed beatae assumenda qui nostrum voluptates maiores similique. Corrupti laborum fugiat minima itaque et et dolor omnis soluta. Optio consectetur tempore id temporibus. Ullam magni ex quibusdam enim occaecati eveniet quia saepe.\n \rQuia quas harum delectus et voluptas. Aut consequatur fugit enim aliquid nobis excepturi. Dolores delectus delectus accusamus non veniam tempora excepturi iste doloremque. Id praesentium ea dolorem exercitationem aliquid.\n \rNecessitatibus vel in eligendi veniam sit. Quia et praesentium eius in. Autem magni ut. Ab repellat aut nobis voluptatibus aperiam quisquam expedita. Nam eius magni exercitationem consequatur provident voluptas sunt aut.",fromId:"3782c174-1f2c-4dc4-b75d-0bedf400e023",attachments:[]},{uuid:"59608cba-b69e-4c05-b1f8-39d2e9c16fdc",type:"sent",tag:"Personal",title:"Iste omnis eius dolores dolor nam eos ea.",created_at:"2018-04-10T22:12:01.722Z",content:"Magni maiores cumque et exercitationem voluptates molestiae facilis recusandae. In sed et rerum tenetur et sit vero ut quas. Ut alias fugit eos dolorum dolorem et possimus. Et occaecati quam laborum est dignissimos atque amet ea iure. Enim et et fugit laboriosam commodi. Ipsam quo et qui tenetur vitae fugit.\n \rFacere veniam eum corrupti perferendis. Eos unde nobis ut sit illum harum. Deserunt saepe pariatur.\n \rQui debitis laborum maiores voluptatem cupiditate. Ab et qui illo. Veritatis aspernatur delectus. Aliquid officia consequuntur ut vel corporis esse magnam molestiae minus. Voluptatem saepe commodi aspernatur. Aut perferendis quaerat magni aut vel.\n \rQuos qui dolorem nobis ut nostrum et voluptas aut est. Vel saepe ipsum sed. Ullam laboriosam qui est ex. Enim a autem deleniti eos. Qui aut quibusdam ut sunt.\n \rAlias autem non quidem numquam vero accusantium voluptatum. Et illo neque ex est eligendi ullam eaque laudantium. Laborum laboriosam dolor magnam.",fromId:"28d9f265-74d7-4f85-83d4-6a21fca57dcf",attachments:[]}];Ke.map(function(t){var e=ze();return t.from=e.find(function(e){return e.uuid===t.fromId}),t});var ta=[{title:"Email",group:"email",icon:"email",to:{path:"/mail/all"},chip:10},{title:"Sent",group:"email",icon:"send",to:{path:"/mail/sent"},chip:5},{title:"Starred",group:"email",icon:"star",to:{path:"/mail/starred"},chip:2},{title:"Draft",group:"email",icon:"content_copy",to:{path:"/mail/draft"},chip:3},{title:"Trash",group:"email",icon:"delete",to:{path:"/mail/trashed"},chip:1},{heading:"Label"},{icon:"radio_button_checked",iconColor:"yellow",title:"Work",iconSize:"small"},{icon:"radio_button_checked",iconColor:"green",title:"Client",iconSize:"small"},{icon:"radio_button_checked",iconColor:"red",title:"Project",iconSize:"small"},{icon:"radio_button_checked",iconColor:"grey",title:"Peronal",iconSize:"small"}],ea=function(t){return t?Ke.slice(0,t):Ke},aa=function(t){return void 0===t?Ke[0]:Ke.find(function(e){return e.uuid===t})},sa=function(t){return"all"===t?Ke:Ke.filter(function(e){return e.type===t})},ia=[{title:"A sample post with image",desc:"Lorem Ipsum is simply dummy text of the printing and typesetting industry scrambled it to make text of the printing and typesetting industry scrambled a type specimen book text of the dummy text of the printing printing and typesetting industry scrambled dummy text of the printing.",featuredImage:"/static/discover_word/thumb/ds_1.jpg",author:"Jessie Wang",createdAt:(new Date).toLocaleDateString()},{title:"A sample post with image",desc:"Lorem Ipsum is simply dummy text of the printing and typesetting industry scrambled it to make text of the printing and typesetting industry scrambled a type specimen book text of the dummy text of the printing printing and typesetting industry scrambled dummy text of the printing.",featuredImage:"/static/discover_word/thumb/ds_2.jpg",author:"Li Love",createdAt:(new Date).toLocaleDateString()},{title:"A sample post with image",desc:"Lorem Ipsum is simply dummy text of the printing and typesetting industry scrambled it to make text of the printing and typesetting industry scrambled a type specimen book text of the dummy text of the printing printing and typesetting industry scrambled dummy text of the printing.",featuredImage:"/static/discover_word/thumb/ds_3.jpg",author:"Jim Wang",createdAt:(new Date).toLocaleDateString()},{title:"A sample post with image",desc:"Lorem Ipsum is simply dummy text of the printing and typesetting industry scrambled it to make text of the printing and typesetting industry scrambled a type specimen book text of the dummy text of the printing printing and typesetting industry scrambled dummy text of the printing.",featuredImage:"/static/discover_word/thumb/ds_4.jpg",author:"John Doe",createdAt:(new Date).toLocaleDateString()}],na=function(t){return t?ia.slice(0,t):ia},ra=a("mtWM"),oa=a.n(ra),la=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ca=la.map(function(t){return{month:t,Sales:Math.floor(1e3*Math.random())+200,Expenses:Math.floor(1e3*Math.random())+250}}),da=[{value:335,name:"Website"},{value:310,name:"Email"},{value:234,name:"Ads"},{value:135,name:"Video"},{value:1548,name:"Search"}],ua=[{value:50,name:"Toilet Roll"},{value:35,name:"Awake 500ml"},{value:25,name:"Fiesta Scented Condoms"},{value:10,name:"Sasso Bug Spray"},{value:10,name:"Peak Milk 200ml"}],ma=[220,182,191,234,290,330,310,123,442,321,90,149,210,122,133,334,198,123,125,220],va=(ma.map(function(t,e){return{label:e+"D",max:500,sales:t}}),function(t,e){return new Array(e-t).fill(t).map(function(e,a){return t+a})}(1,12).map(function(t){return{cate:"Cat"+t,value:5*(Math.sin(t/5)*(t/5-.1)+t/6)}}),[{name:"Scented Candles",quantity:"22 (Boxes)",progress:90,color:"pink"},{name:"Chicken Wings",quantity:"34 (cartons)",progress:70,color:"success"},{name:"MintX Brake Fluid",quantity:"3 (Boxes)",progress:50,color:"info"},{name:"Pepsodent XL Size",quantity:"2 (Packs)",progress:30,color:"teal"},{name:"Ever Sheen Cocoa Butter",quantity:"4 (Boxes)",progress:15,color:"grey"}]),_a=function(t){return t?va.slice(0,t):va},pa={getUser:ze,getUserById:Ue,getProject:_a,getActivity:Ge.getActivity,getPost:na,getChatMenu:He,getChatGroup:Le,getChatGroupById:Qe,getFile:Je,getFileMenu:Ze,getMail:ea,getMailMenu:ta,getMailById:aa,getMailByType:sa,getMonthVisit:ca,getCampaign:da,getLocation:ua},ha=a("W3Iv"),fa=a.n(ha),ba=a("IHMs"),ga=a.n(ba),xa=a("1Rfu"),ya=a.n(xa),ka=window.echarts||void 0;void 0===ka&&console.error("ECharts is not defined");var wa=[];fa()(ga.a).forEach(function(t){t[1].base&&wa.push(t[1].base)}),function(){!function(t,e,a){a=a||window;var s=!1,i=function(){s||(s=!0,requestAnimationFrame(function(){a.dispatchEvent(new CustomEvent(e)),s=!1}))};a.addEventListener(t,i)}("resize","optimizedResize")}();var Ca={name:"v-echart",render:function(t){return t("div",{staticClass:"v-chart",style:this.canvasStyle,ref:"canvas",on:this.$listeners})},props:{width:{type:String,default:"auto"},height:{type:String,default:"400px"},merged:{type:Boolean,default:!0},pathOption:[Object,Array],option:Object,textStyle:Object,title:Object,legend:[Object,Array],tooltip:Object,grid:{type:[Object,Array]},xAxis:[Object,Array],yAxis:[Object,Array],series:[Object,Array],axisPointer:Object,dataset:{type:[Object,Array],default:function(){return{}}},colors:Array,backgroundColor:[Object,String],toolbox:{type:[Object,Array]},widthChangeDelay:{type:Number,default:450}},data:function(){return{chartInstance:null,clientWidth:null,allowedOptions:["textStyle","title","legend","xAxis","yAxis","series","tooltip","axisPointer","grid","dataset","colors","backgroundColor"],_defaultOption:{tooltip:{show:!0},title:{show:!0,textStyle:{color:"rgba(0, 0, 0 , .87)",fontFamily:"sans-serif"}},grid:{containLabel:!0},xAxis:{show:!0,type:"category",axisLine:{lineStyle:{color:"rgba(0, 0, 0 , .54)",type:"dashed"}},axisTick:{show:!0,alignWithLabel:!0,lineStyle:{show:!0,color:"rgba(0, 0, 0 , .54)",type:"dashed"}},axisLabel:{show:!1}},yAxis:{show:!0,type:"value",axisLine:{lineStyle:{color:"rgba(0, 0, 0 , .54)",type:"dashed"}},axisLabel:{show:!1},splitLine:{lineStyle:{type:"dashed"}},axisTick:{show:!0,lineStyle:{show:!0,color:"rgba(0, 0, 0 , .54)",type:"dashed"}}},series:[{type:"line"}]}}},computed:{canvasStyle:function(){return{width:this.width,height:this.height}}},methods:{init:function(){var t=this;this.widthChangeDelay;this.pathOption&&this.pathOption.forEach(function(e){ya.a.set(t.$data._defaultOption,e[0],e[1])}),this.chartInstance=ka.init(this.$refs.canvas,"material"),this.chartInstance.setOption(ya.a.merge(this.option,this.$data._defaultOption)),window.addEventListener("optimizedResize",function(e){setTimeout(function(e){t.chartInstance.resize()},t.widthChangeDelay)})},resize:function(){this.chartInstance.resize()},clean:function(){window.removeEventListener("resize",this.chartInstance.resize),this.chartInstance.clear()}},mounted:function(){this.init()},beforeDestroy:function(){this.clean()}},Ia={props:{icon:String,title:Number,subTitle:String,link:String,color:String}},Sa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{to:t.link}},[a("v-card-text",{staticClass:"pa-0"},[a("v-container",{staticClass:"pa-0"},[a("div",{staticClass:"layout row ma-0"},[a("div",{staticClass:"sm4 xs4 flex"},[a("div",{staticClass:"layout column ma-0 justify-center align-center"},[a("v-icon",{attrs:{size:"56px",color:t.color}},[t._v(t._s(t.icon))])],1)]),t._v(" "),a("div",{staticClass:"sm8 xs8 flex text-sm-center py-3 white--text",class:t.color},[a("div",{staticClass:"headline"},[t._v(t._s(t.title))]),t._v(" "),a("span",{staticClass:"caption"},[t._v(t._s(t.subTitle))])])])])],1)],1)},qa=[],Da={render:Sa,staticRenderFns:qa},$a=Da,Pa=a("VU/8"),Ta=Pa(Ia,$a,!1,null,null,null),Ea=Ta.exports,Na={props:{items:{type:[Array,Object]}},methods:{handleThumb:function(){},handleComment:function(){},handleFavorite:function(){}}},Aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"post-card"},[a("v-toolbar",{attrs:{color:"transparent",flat:"",dense:"",card:""}},[a("v-toolbar-title",{staticClass:"subheading ft-200"},[t._v("Recent Posts")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""}},[a("v-icon",{staticClass:"text--secondary"},[t._v("more_vert")])],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-text",{staticClass:"pa-0"},[a("ul",{staticClass:"post--list flex-list vertical"},t._l(t.items,function(e,s){return a("li",{key:s,staticClass:"post--item"},[a("a",{staticClass:" post--link pa-4 layout row ma-0 text--primary",attrs:{href:"#"}},[a("div",{staticClass:"post--media"},[a("img",{staticClass:"image-scale",attrs:{src:e.featuredImage,alt:"",height:"100"}})]),t._v(" "),a("div",{staticClass:"post--content ml-3"},[a("h3",{staticClass:"title post--title"},[t._v("\n              "+t._s(e.title)+"\n            ")]),t._v(" "),a("div",{staticClass:"post--desc py-2 text--secondary"},[t._v("\n              "+t._s(t._f("truncate")(e.desc,{length:150}))+"\n            ")]),t._v(" "),a("div",{staticClass:"post--meta o-flex justify-space-between"},[a("div",{staticClass:"post--author caption grey--text text--darken-1"},[a("span",[t._v(t._s(e.author))]),t._v(" "),a("time",{staticClass:"px-2"},[t._v(t._s(e.createdAt))])]),t._v(" "),a("div",{staticClass:"social"},[a("a",{staticClass:"grey--text text--darken-1",on:{click:t.handleThumb}},[a("v-icon",{attrs:{small:""}},[t._v("thumb_up")]),t._v(" "),a("small",[t._v("100+")])],1),t._v(" "),a("a",{staticClass:"grey--text text--darken-1 mx-3",on:{click:t.handleComment}},[a("v-icon",{attrs:{small:""}},[t._v("mode_comment")]),t._v(" "),a("small",[t._v("12+")])],1),t._v(" "),a("a",{staticClass:"grey--text text--darken-1",on:{click:t.handleFavorite}},[a("v-icon",{attrs:{small:""}},[t._v("favorite")]),t._v(" "),a("small",[t._v("50+")])],1)])])])])])}),0)])],1)},Oa=[],Ma={render:Aa,staticRenderFns:Oa},Ra=Ma,ja=a("VU/8"),Ya=o,Fa=ja(Na,Ra,!1,Ya,"data-v-0b9859db",null),Ua=Fa.exports,za={props:{featuredImage:{type:String},imageHeight:{type:[String,Number],default:"350"},author:{type:String},title:{type:String},desc:{type:String},createdAt:{type:String}},methods:{handleThumb:function(){},handleComment:function(){},handleFavorite:function(){}}},Va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-media",{staticClass:"white--text",attrs:{src:"/static/nature/n3.jpeg",height:t.imageHeight}},[a("v-layout",{staticClass:"ma-0",attrs:{row:"","justify-space-between":""}},[a("v-flex",{attrs:{xs2:""}},[a("v-icon",{attrs:{color:"white"}},[t._v("favorite")])],1),t._v(" "),a("v-flex",{staticClass:"text-sm-right",attrs:{xs2:""}},[a("v-icon",{attrs:{color:"white"}},[t._v("share")])],1)],1)],1),t._v(" "),a("v-card-text",[a("div",{staticClass:"post--item"},[a("div",{staticClass:"post--title"},[a("h3",{staticClass:"title"},[t._v(t._s(t.title))])]),t._v(" "),a("div",{staticClass:"post--meta grey--text text--darken-1 caption my-3"},[a("span",{staticClass:"mr-3"},[t._v(t._s(t.author))]),t._v(" "),a("time",[t._v(t._s(t.createdAt))])]),t._v(" "),a("div",{staticClass:"post--desc text--secondary"},[t._v("\n        "+t._s(t.desc)+"\n      ")]),t._v(" "),a("div",{staticClass:"post--action align-center justify-space-between mt-2"},[a("div",{staticClass:"social"},[a("a",{staticClass:"grey--text",on:{click:t.handleThumb}},[a("v-icon",{attrs:{small:""}},[t._v("thumb_up")]),t._v(" "),a("small",[t._v("100+")])],1),t._v(" "),a("a",{staticClass:"grey--text mx-3",on:{click:t.handleComment}},[a("v-icon",{attrs:{small:""}},[t._v("mode_comment")]),t._v(" "),a("small",[t._v("12+")])],1),t._v(" "),a("a",{staticClass:"grey--text ",on:{click:t.handleFavorite}},[a("v-icon",{attrs:{small:""}},[t._v("favorite")]),t._v(" "),a("small",[t._v("50+")])],1)]),t._v(" "),a("v-btn",{attrs:{outline:"",flat:"",color:"primary"}},[t._v("\n          More\n        ")])],1)])]),t._v(" "),a("v-divider"),t._v(" "),a("v-toolbar",{attrs:{card:"",color:"white"}},[a("v-text-field",{attrs:{flat:"",solo:"",label:"Comment here","append-icon":"photo_camera","hide-details":""}})],1)],1)},Ba=[],Ga={render:Va,staticRenderFns:Ba},Ha=Ga,La=a("VU/8"),Wa=l,Qa=La(za,Ha,!1,Wa,null,null),Za=Qa.exports,Xa={},Ja=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-media",{attrs:{src:"/static/nature/n5.jpeg",height:"350"}},[a("v-layout",{staticClass:"media ma-0",attrs:{column:""}},[a("v-card-title",[a("v-btn",{attrs:{dark:"",icon:""}},[a("v-icon",[t._v("chevron_left")])],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"mr-3",attrs:{dark:"",icon:""}},[a("v-icon",[t._v("edit")])],1),t._v(" "),a("v-btn",{attrs:{dark:"",icon:""}},[a("v-icon",[t._v("more_vert")])],1)],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-card-title",{staticClass:"white--text pl-5 pt-5"},[a("div",{staticClass:"display-1 pl-5 pt-5"},[t._v("Ali Conners")])])],1)],1),t._v(" "),a("v-list",{attrs:{"two-line":""}},[a("v-list-tile",{attrs:{href:"#"}},[a("v-list-tile-content",[a("v-list-tile-title",[t._v("Monday")])],1)],1),t._v(" "),a("v-list-tile",{attrs:{href:"#"}},[a("v-list-tile-action"),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("(323) 555-6789")]),t._v(" "),a("v-list-tile-sub-title",[t._v("Work")])],1),t._v(" "),a("v-list-tile-action",[a("v-icon",[t._v("chat")])],1)],1),t._v(" "),a("v-divider",{attrs:{inset:""}}),t._v(" "),a("v-list-tile",{attrs:{href:"#"}},[a("v-list-tile-action",[a("v-icon",{attrs:{color:"indigo"}},[t._v("mail")])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("aliconnors@example.com")]),t._v(" "),a("v-list-tile-sub-title",[t._v("Personal")])],1)],1),t._v(" "),a("v-list-tile",{attrs:{href:"#"}},[a("v-list-tile-action"),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("ali_connors@example.com")]),t._v(" "),a("v-list-tile-sub-title",[t._v("Work")])],1)],1),t._v(" "),a("v-divider",{attrs:{inset:""}}),t._v(" "),a("v-list-tile",{attrs:{href:"#"}},[a("v-list-tile-action",[a("v-icon",{attrs:{color:"indigo"}},[t._v("location_on")])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("1400 Main Street")]),t._v(" "),a("v-list-tile-sub-title",[t._v("Orlando, FL 79938")])],1)],1)],1)],1)},Ka=[],ts={render:Ja,staticRenderFns:Ka},es=ts,as=a("VU/8"),ss=as(Xa,es,!1,null,null,null),is=ss.exports,ns={data:function(){return{headers:[{text:"Product Name",align:"left",value:"name"},{text:"Available Quantity",value:"quantity"},{text:"Severity",value:"progress"},{text:"Action",value:"action",align:"right"}]}},computed:{lowStock:function(){return this.$store.getters.getLowStock}}},rs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[a("v-toolbar-title",[a("h4",[t._v("Low Stock Products")])]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("more_vert")])],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-text",{staticClass:"pa-0"},[[a("v-data-table",{staticClass:"elevation-0",attrs:{headers:t.headers,items:t.lowStock,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.name))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.quantity))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[a("v-progress-linear",{attrs:{value:e.item.progress,height:"5",color:e.item.color}})],1),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"mr-2 primary--text cpoint",attrs:{flat:"",small:""},on:{click:function(a){return t.editItem(e.item)}}},[a("v-icon",[t._v("\n                    mdi-file-document-box\n                ")]),t._v(" View Details")],1),t._v(" "),a("v-btn",{staticClass:"secondary--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.deleteItem(e.item)}}},[a("v-icon",[t._v("\n                    mdi-find-replace\n                ")]),t._v(" Re-order")],1)],1)]}}])})],t._v(" "),a("v-divider")],2)],1)},os=[],ls={render:rs,staticRenderFns:os},cs=ls,ds=a("VU/8"),us=ds(ns,cs,!1,null,null,null),ms=us.exports,vs=[{id:"150",product:"iPhone6",price:"$699",status:"processing"},{id:"151",product:"iPad Pro",price:"$299",status:"sent"},{id:"300",product:"Microsoft surface",price:"$1,699",status:"processing"},{id:"320",product:"Galaxy S7 edge",price:"$729",status:"processing"},{id:"501",product:"128G SD Card",price:"$699",status:"delivered"}],_s={data:function(){return{headers:[{text:"#",align:"left",sortable:!1,value:"id"},{text:"Product",value:"deadline"},{text:"Price",value:"progress"},{text:"Status",value:"status"}],items:vs,colors:{processing:"blue",sent:"red",delivered:"green"}}},computed:{randomColor:function(){var t=Math.floor(Math.random()*this.colors.length);return this.colors[t]}},methods:{getColorByStatus:function(t){return this.colors[t]}}},ps=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[a("v-toolbar-title",[a("h4",[t._v("Order")])]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("more_vert")])],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-text",{staticClass:"pa-0"},[[a("v-data-table",{staticClass:"elevation-0 table-striped",attrs:{headers:t.headers,items:t.items,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.product))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.price))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[a("v-chip",{attrs:{label:"",small:"",color:t.getColorByStatus(e.item.status),"text-color":"white"}},[t._v(t._s(e.item.status))])],1)]}}])})],t._v(" "),a("v-divider")],2)],1)},hs=[],fs={render:ps,staticRenderFns:hs},bs=fs,gs=a("VU/8"),xs=gs(_s,bs,!1,null,null,null),ys=xs.exports,ks={name:"v-widget",props:{title:{type:String},enableHeader:{type:Boolean,default:!0},contentBg:{type:String,default:"white"}},data:function(){return{}},computed:{}},ws=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"v-widget"}},[a("v-card",[t.enableHeader?a("v-toolbar",{attrs:{color:"transparent",flat:"",dense:"",card:""}},[a("v-toolbar-title",[a("h4",[t._v(t._s(t.title))])]),t._v(" "),a("v-spacer"),t._v(" "),t._t("widget-header-action")],2):t._e(),t._v(" "),t.enableHeader?a("v-divider"):t._e(),t._v(" "),a("v-card-text",{class:t.contentBg},[t._t("widget-content")],2)],1)],1)},Cs=[],Is={render:ws,staticRenderFns:Cs},Ss=Is,qs=a("VU/8"),Ds=qs(ks,Ss,!1,null,null,null),$s=Ds.exports,Ps=(a("U0Qz"),a("ihLM")),Ts=a.n(Ps),Es={mixins:[Ts.a],props:{text:String,small:Boolean,large:Boolean,medium:Boolean,dot:Boolean,pill:Boolean,ring:Boolean},computed:{classes:function(){return this.addBackgroundColorClassChecks({"circle-sm":this.small,"circle-lg":this.medium,"circle-xl":this.large,"circle-ring":this.ring,"circle-dot":this.dot,"circle-pill":this.pill,"theme--light":this.light,"theme--dark":this.dark})}},render:function(t){return t("span",{staticClass:"circle",class:this.classes,attrs:{tabindex:this.disabled?-1:0},on:this.$listeners},[this.$slots.default])}},Ns=window.echarts||void 0;void 0===Ns&&console.error("ECharts is not defined");var As=[];fa()(ga.a).forEach(function(t){t[1].base&&As.push(t[1].base)}),function(){!function(t,e,a){a=a||window;var s=!1,i=function(){s||(s=!0,requestAnimationFrame(function(){a.dispatchEvent(new CustomEvent(e)),s=!1}))};a.addEventListener(t,i)}("resize","optimizedResize")}();var Os={name:"v-echart",render:function(t){return t("div",{staticClass:"v-chart",style:this.canvasStyle,ref:"canvas",on:this.$listeners})},props:{width:{type:String,default:"auto"},height:{type:String,default:"400px"},merged:{type:Boolean,default:!0},pathOption:[Object,Array],option:Object,textStyle:Object,title:Object,legend:[Object,Array],tooltip:Object,grid:{type:[Object,Array]},xAxis:[Object,Array],yAxis:[Object,Array],series:[Object,Array],axisPointer:Object,dataset:{type:[Object,Array],default:function(){return{}}},colors:Array,backgroundColor:[Object,String],toolbox:{type:[Object,Array]},widthChangeDelay:{type:Number,default:450}},data:function(){return{chartInstance:null,clientWidth:null,allowedOptions:["textStyle","title","legend","xAxis","yAxis","series","tooltip","axisPointer","grid","dataset","colors","backgroundColor"],_defaultOption:{tooltip:{show:!0},title:{show:!0,textStyle:{color:"rgba(0, 0, 0 , .87)",fontFamily:"sans-serif"}},grid:{containLabel:!0},xAxis:{show:!0,type:"category",axisLine:{lineStyle:{color:"rgba(0, 0, 0 , .54)",type:"dashed"}},axisTick:{show:!0,alignWithLabel:!0,lineStyle:{show:!0,color:"rgba(0, 0, 0 , .54)",type:"dashed"}},axisLabel:{show:!1}},yAxis:{show:!0,type:"value",axisLine:{lineStyle:{color:"rgba(0, 0, 0 , .54)",type:"dashed"}},axisLabel:{show:!1},splitLine:{lineStyle:{type:"dashed"}},axisTick:{show:!0,lineStyle:{show:!0,color:"rgba(0, 0, 0 , .54)",type:"dashed"}}},series:[{type:"line"}]}}},computed:{canvasStyle:function(){return{width:this.width,height:this.height}}},methods:{init:function(){var t=this;this.widthChangeDelay;this.pathOption&&this.pathOption.forEach(function(e){ya.a.set(t.$data._defaultOption,e[0],e[1])}),this.chartInstance=Ns.init(this.$refs.canvas,"material"),this.chartInstance.setOption(ya.a.merge(this.option,this.$data._defaultOption)),window.addEventListener("optimizedResize",function(e){setTimeout(function(e){t.chartInstance.resize()},t.widthChangeDelay)})},resize:function(){this.chartInstance.resize()},clean:function(){window.removeEventListener("resize",this.chartInstance.resize),this.chartInstance.clear()}},mounted:function(){this.init()},beforeDestroy:function(){this.clean()}},Ms={components:{EChart:Os},props:{title:String,gradient:{type:Boolean,default:!1},subTitle:String,icon:String,cardColor:{type:String,default:"white"},iconColor:{type:String,default:"success"},type:String,chartColor:Array,data:Array},data:function(){return{defaultOption:[["dataset.source",this.data],["xAxis.show",!1],["yAxis.show",!1],["grid.top","15%"],["grid.left","0"],["grid.bottom","0"],["grid.right","0"],["color",this.chartColor]]}},computed:{computeCardDark:function(){return"white"!==this.cardColor},computeChartOption:function(){switch(this.type){case"bar":this.defaultOption.push(["series[0].type","bar"]),this.defaultOption.push(["series[0].barWidth","50%"]);break;case"stack-bar":this.defaultOption.push(["series[0].type","bar"]),this.defaultOption.push(["series[0].itemStyle.normar.color","rgba(0,0,0,0.05)"]),this.defaultOption.push(["series[0].barGap","-100%"]),this.defaultOption.push(["series[1].type","bar"]);break;case"area":this.defaultOption.push(["series[0].type","line"]),this.defaultOption.push(["series[0].smooth",!0]),this.defaultOption.push(["xAxis.boundaryGap",!1]),this.defaultOption.push(["series[0].areaStyle",{}]),this.gradient&&this.defaultOption.push(["series[0].areaStyle",{normal:{color:new window.echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:this.chartColor[0]},{offset:1,color:this.chartColor[1]}])}}]);break;default:this.defaultOption.push(["series[0].smooth",!0]),this.defaultOption.push(["xAxis.boundaryGap",!1])}return this.defaultOption}}},Rs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:t.cardColor,dark:t.computeCardDark}},[a("v-card-title",[a("div",{staticClass:"layout row ma-0"},[a("div",{staticClass:"subheading"},[t._v(t._s(t.title))]),t._v(" "),a("v-spacer"),t._v(" "),a("div",{staticClass:"caption"},[a("v-icon",[t._v("trending_up")]),t._v("  "+t._s(t.subTitle))],1)],1)]),t._v(" "),a("v-card-media",{staticClass:"white--text"},[a("e-chart",{attrs:{"path-option":t.computeChartOption,height:"308px",width:"100%"}})],1)],1)},js=[],Ys={render:Rs,staticRenderFns:js},Fs=Ys,Us=a("VU/8"),zs=c,Vs=Us(Ms,Fs,!1,zs,null,null),Bs=Vs.exports,Gs={props:{icon:String,title:String,subTitle:String,value:Number,color:String},computed:{caption:function(){return this.value+"% "+this.subTitle},sub_title:function(){return this.title+" increase"}}},Hs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[a("div",{staticClass:"layout row ma-0 justify-space-between pb-1"},[a("div",{staticClass:"subheading"},[t._v(t._s(t.title))]),t._v(" "),a("div",{staticClass:"icon"},[a("v-icon",{attrs:{mini:"",color:t.color}},[t._v(t._s(t.icon))])],1)])]),t._v(" "),a("v-card-text",{staticClass:"pt-2"},[a("h3",{staticClass:"headline"},[t._v(t._s(t.sub_title))]),t._v(" "),a("v-progress-linear",{attrs:{value:t.value,height:"5",color:t.color}}),t._v(" "),a("span",{staticClass:"caption"},[t._v(t._s(t.caption))])],1)],1)},Ls=[],Ws={render:Hs,staticRenderFns:Ls},Qs=Ws,Zs=a("VU/8"),Xs=d,Js=Zs(Gs,Qs,!1,Xs,null,null),Ks=Js.exports,ti={props:{icon:String,title:String,subTitle:String,caption:String,value:Number,color:String}},ei=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[a("div",{staticClass:"layout row ma-0 justify-space-between pb-1"},[a("div",{staticClass:"subheading"},[t._v(t._s(t.title))]),t._v(" "),a("div",{staticClass:"icon"},[a("v-icon",{attrs:{color:t.color}},[t._v(t._s(t.icon))])],1)])]),t._v(" "),a("v-card-text",[a("div",{staticClass:"justify-center row layout ma-0"},[a("v-progress-circular",{attrs:{size:150,width:10,rotate:-90,value:t.value,color:t.color}},[t._v("\n          "+t._s(t.value)+" Days\n          "),a("i",{staticClass:"grey--text text--darken-1 smup"},[t._v("left")])])],1)]),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("div",{staticClass:"headline grey--text text--darken-2"},[t._v(t._s(t.subTitle))])])],1)},ai=[],si={render:ei,staticRenderFns:ai},ii=si,ni=a("VU/8"),ri=u,oi=ni(ti,ii,!1,ri,null,null),li=oi.exports,ci={name:"home",components:{VWidget:$s,MiniStatistic:Ea,VCircle:Es,WeatherCard:is,PostSingleCard:Za,PostListCard:Ua,EChart:Ca,BoxChart:Bs,LinearStatistic:Ks,CircleStatistic:li,PlainTable:ms,PlainTableOrder:ys},data:function(){return{color:ga.a,selectedTab:"tab-1",linearTrending:[{subheading:"Sales",headline:"2,55",caption:"increase",percent:15,icon:{label:"trending_up",color:"success"},linear:{value:15,color:"success"}},{subheading:"Revenue",headline:"6,553",caption:"increase",percent:10,icon:{label:"trending_down",color:"error"},linear:{value:15,color:"error"}},{subheading:"Orders",headline:"5,00",caption:"increase",percent:50,icon:{label:"arrow_upward",color:"info"},linear:{value:50,color:"info"}}]}},computed:{activity:function(){return pa.getActivity()},posts:function(){return pa.getPost(3)},siteTrafficData:function(){return pa.getMonthVisit},locData:function(){return this.$store.getters.getTopProds},mini:function(){return this.$store.getters.getMini},debOut:function(){return this.$store.getters.getDebOut}},mounted:function(){this.showHead(),this.loadTop(),this.loadMini(),this.loadOut(),this.loadLow()},methods:{showHead:function(){this.$store.commit("setHead",!0)},loadTop:function(){this.$store.dispatch("loadTopProds")},loadMini:function(){this.$store.dispatch("loadCount")},loadOut:function(){this.$store.dispatch("loadDebOut")},loadLow:function(){this.$store.dispatch("loadLowStock")}}},di=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{"grid-list-xl":"",fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg3:"",sm6:"",xs12:""}},[a("mini-statistic",{attrs:{icon:"mdi-alert-decagram",title:t.mini.exp,"sub-title":"Products expiring",color:"secondary",link:"/expiry_reports"}})],1),t._v(" "),a("v-flex",{attrs:{lg3:"",sm6:"",xs12:""}},[a("slide-x-right-transition",[a("mini-statistic",{attrs:{icon:"mdi-tag",title:t.mini.prod,"sub-title":"Products Added",color:"orange darken-3",link:"/stock_manager"}})],1)],1),t._v(" "),a("v-flex",{attrs:{lg3:"",sm6:"",xs12:""}},[a("mini-statistic",{attrs:{icon:"mdi-account-location",title:t.mini.deb,"sub-title":"Debtors available",color:"primary",link:"/debtors"}})],1),t._v(" "),a("v-flex",{attrs:{lg3:"",sm6:"",xs12:""}},[a("mini-statistic",{attrs:{icon:"mdi-account-star",title:t.mini.cred,"sub-title":"Creditors unpaid",color:"grey darken-3",link:"/creditors"}})],1),t._v(" "),a("v-flex",{attrs:{lg12:"",sm12:"",xs12:""}},[a("v-widget",{attrs:{title:"Sales & Expenses","content-bg":"white"}},[a("v-btn",{attrs:{slot:"widget-header-action",icon:""},slot:"widget-header-action"},[a("v-icon",{staticClass:"text--secondary"},[t._v("refresh")])],1),t._v(" "),a("div",{attrs:{slot:"widget-content"},slot:"widget-content"},[a("e-chart",{attrs:{"path-option":[["dataset.source",t.siteTrafficData],["color",["#074D64","#660033"]],["legend.show",!0],["xAxis.axisLabel.show",!0],["yAxis.axisLabel.show",!0],["grid.left","2%"],["grid.bottom","5%"],["grid.right","3%"],["series[0].type","bar"],["series[0].areaStyle",{}],["series[0].smooth",!0],["series[1].smooth",!0],["series[1].type","bar"],["series[1].areaStyle",{}]],height:"400px",width:"100%"}})],1)],1)],1),t._v(" "),t._l(t.debOut,function(t,e){return a("v-flex",{key:"c-trending"+e,attrs:{lg3:"",sm12:"",xs12:""}},[a("circle-statistic",{attrs:{title:t.subheading,"sub-title":t.headline,caption:t.caption,icon:t.icon.label,color:t.linear.color,value:t.linear.value}})],1)}),t._v(" "),a("v-flex",{attrs:{lg8:"",sm12:"",xs12:""}},[a("v-widget",{attrs:{title:"Top Selling Products","content-bg":"white"}},[a("div",{attrs:{slot:"widget-content"},slot:"widget-content"},[a("e-chart",{attrs:{"path-option":[["dataset.source",t.locData],["legend.bottom","0"],["color",["#660033",t.color.indigo.darken3,t.color.red.darken3,t.color.green.darken3,t.color.cyan.darken3,t.color.teal.base]],["xAxis.show",!1],["yAxis.show",!1],["series[0].type","pie"],["series[0].avoidLabelOverlap",!0],["series[0].radius",["50%","70%"]]],height:"400px",width:"100%"}})],1)]),t._v(" "),a("v-divider",{staticClass:"ma-2"}),t._v(" "),a("plain-table")],1),t._v(" "),a("v-flex",{attrs:{lg4:"",sm12:"",xs12:""}},[a("linear-statistic",{attrs:{title:"Sales","sub-title":"Sales increase this month",icon:"trending_up",color:"green darken-3",value:15}}),t._v(" "),a("linear-statistic",{staticClass:"my-4",attrs:{title:"Revenue","sub-title":"Revenue increase this month",icon:"trending_up",color:"primary",value:50}}),t._v(" "),a("linear-statistic",{staticClass:"my-4",attrs:{title:"Expenses","sub-title":"Expenses Increase this month",icon:"trending_up",color:"secondary",value:30}}),t._v(" "),a("linear-statistic",{staticClass:"mt-4",attrs:{title:"Customer","sub-title":"Customer increase",icon:"trending_down",color:"yellow darken-3",value:25}})],1)],2)],1)],1)},ui=[],mi={render:di,staticRenderFns:ui},vi=mi,_i=a("VU/8"),pi=m,hi=_i(ci,vi,!1,pi,null,null),fi=hi.exports,bi=a("gRE1"),gi=a.n(bi),xi=a("Dd8w"),yi=a.n(xi),ki=a("woOf"),wi=a.n(ki),Ci=a("mtWM"),Ii={props:["dialog"],name:"add_cus",$_veeValidate:{validator:"new"},data:function(){return{total:0,fetchup:!1,edit_dialog:!1,loader:!1,title:"Mr.",firstname:"",lastname:"",phone:"",email:"",company:"",address:"",credit:0,discount_percentage:0,discount_amount:0,purchase_date:"01/01/2000",debit_amt:0,markup:1,search:"",su_snackbar:!1,er_snackbar:!1,gender:["Male","Female"],headers:[{text:"No.",align:"left",value:"num"},{text:"Customer Name",align:"left",value:"name"},{text:"Phone No.",align:"left",value:"phone"},{text:"Credit",align:"left",value:"credit"},{text:"Actions",value:"name",align:"centre",sortable:!1}],customers:[],editedIndex:-1,editedItem:{id:"",validate:!0,title:"Mr",firstname:"",lastname:"",phone_no:"",email:"",company:"",address:"",credit:"",discount_percentage:"",discount_amount:"",markup:""},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0},side_items:[{icon:"mdi-history",text:"History",link:"/customer_history"}],emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],phoneRules:[function(t){return!!t||"Phone Number is required"},function(t){return/.+@.+/.test(t)||"Phone Number must be numeric"}]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},apiSet:function(){return this.$store.getters.getApi},formIsValid:function(){return""!==this.title&&""!==this.firstname&&""!==this.lastname&&""!==this.phone&&""!==this.email&&""!==this.company&&""!==this.address&&""!==this.credit&&""!==this.discount_percentage&&""!==this.discount_amount&&""!==this.markup},editFormIsValid:function(){return""!==this.editedItem.firstname&&""!==this.editedItem.lastname&&""!==this.editedItem.phone&&""!==this.editedItem.email&&""!==this.editedItem.company&&""!==this.editedItem.address&&""!==this.editedItem.credit&&""!==this.editedItem.discount_percentage&&""!==this.editedItem.discount_amount&&""!==this.editedItem.markup}},submit_loading:function(){return!0},submitted:function(){return this.$store.state.submittedState},watch:{dialog:function(t){t||this.close()},submitted:function(){this.clearFields(),this.su_snackbar=!0}},methods:{setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!0)},loadCustomers:function(){for(var t=[],e=this.$store.getters.getCustomers,a=0,s=e.length;a<s;a++){var i=e[a].firstname+" "+e[a].lastname;t.push(i)}this.states=t,console.log(t)},onAddCustomer:function(){var t=this;this.$validator.validateAll().then(function(e){if(!e)return Wg.$emit("form_error"),!1;t.loader=!0;var a={outlet_id:t.userData.outlet_id,company_id:t.userData.company_id,title:t.title,firstname:t.firstname,lastname:t.lastname,phone:t.phone,email:t.email,company:t.company,address:t.address,credit:t.credit,discount_percentage:t.discount_percentage,discount_amount:t.discount_amount,markup:t.markup,purchase_date:t.purchase_date,credit_amount:t.debit_amt,credit_state:0},s=t;Ci.post(t.apiSet.singleCustomer,a).then(function(t){console.log(t),s.closeup(),s.su_snackbar=!0,s.loader=!1,s.$store.dispatch("loadCustomers"),Wg.$emit("fetch_cuslist"),Wg.$emit("close_dialog",!1),s.loadCustomers()}).catch(function(t){console.log(t)})})},clearFields:function(){this.title="",this.firstname="",this.lastname="",this.email="",this.phone="",this.company="",this.address="",this.credit="",this.discount_percentage="",this.discount_amount="",this.markup="",this.$store.commit("setSubmitLoadState",!1)},closeup:function(){this.clearFields(),Wg.$emit("close_dialog",!1)},close_edit:function(){this.clearFields(),this.edit_dialog=!1},editItem:function(t){this.editedIndex=this.customers.indexOf(t),this.editedItem=wi()({},t),this.edit_dialog=!0},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Customer",message:"Are you sure you want to Delete Customer?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.customers.indexOf(t);this.customers.splice(s,1),Ci.delete(a+"/customer/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadCustomers(),e.$store.commit("setNetError",!1)}).catch(function(t){e.$store.commit("setNetError",!0),console.log(t)})},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.editedItem=wi()({},t.defaultItem),t.editedIndex=-1},300)}}},Si=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-spacer"),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Add Customer")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.closeup(e)}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Firstname",required:"",box:"","data-vv-name":"firstname","error-messages":t.errors.collect("firstname")},model:{value:t.firstname,callback:function(e){t.firstname=e},expression:"firstname"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Lastname",required:"",box:"","data-vv-name":"lastname","error-messages":t.errors.collect("lastname")},model:{value:t.lastname,callback:function(e){t.lastname=e},expression:"lastname"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric",expression:"'numeric'"}],attrs:{box:"",label:"Phone No.","prepend-icon":"mdi-phone",placeholder:"02XXXXXXXX","data-vv-name":"phone","error-messages":t.errors.collect("phone")},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Email","prepend-icon":"mdi-email",placeholder:"email@email.com"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Address","prepend-icon":"mdi-domain",required:""},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Company","prepend-icon":"mdi-domain",required:""},model:{value:t.company,callback:function(e){t.company=e},expression:"company"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md6:"",sm6:""}},[a("v-text-field",{attrs:{label:"Debit Amount(Ghc)",type:"number",box:"","prepend-icon":"mdi-cash-multiple"},model:{value:t.debit_amt,callback:function(e){t.debit_amt=e},expression:"debit_amt"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md6:"",sm6:""}},[a("v-text-field",{attrs:{box:"",label:"Purchase Date",placeholder:"dd/mm/yyyy",required:"","prepend-icon":"mdi-calendar",mask:"##/##/####","return-masked-value":""},model:{value:t.purchase_date,callback:function(e){t.purchase_date=e},expression:"purchase_date"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md6:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Credit Limit",type:"number",required:"","data-vv-name":"credit","error-messages":t.errors.collect("credit")},model:{value:t.credit,callback:function(e){t.credit=e},expression:"credit"}})],1),a("v-flex",{attrs:{xs12:"",md6:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Discount Percentage",prefix:"%",type:"number","data-vv-name":"discount","error-messages":t.errors.collect("discount")},model:{value:t.discount_percentage,callback:function(e){t.discount_percentage=e},expression:"discount_percentage"}})],1),a("v-flex",{attrs:{xs12:"",md6:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Discount Amount",type:"number","data-vv-name":"discount_amt","error-messages":t.errors.collect("discount_amt")},model:{value:t.discount_amount,callback:function(e){t.discount_amount=e},expression:"discount_amount"}})],1),a("v-flex",{attrs:{xs12:"",md6:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal|required",expression:"'decimal|required'"}],attrs:{label:"Inc. Markup e.g: 1.4",placeholder:"Increase Price by markup",type:"number",required:"","data-vv-name":"markup","error-messages":t.errors.collect("markup")},model:{value:t.markup,callback:function(e){t.markup=e},expression:"markup"}})],1)],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},nativeOn:{click:function(e){return t.closeup(e)}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary",loading:t.loader,disabled:t.loader},on:{click:t.onAddCustomer}},[t._v("Save")])],1)],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.form_error_snack,callback:function(e){t.form_error_snack=e},expression:"form_error_snack"}},[t._v("\n        Error. Sorry!!! Please Correct form errors.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.form_error_snack=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.er_snackbar,callback:function(e){t.er_snackbar=e},expression:"er_snackbar"}},[t._v("\n        Please Enter Customer Details.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.er_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.su_snackbar,callback:function(e){t.su_snackbar=e},expression:"su_snackbar"}},[t._v("\n        Customer Successfully Added.\n        "),a("v-btn",{attrs:{flat:"",color:"green"},nativeOn:{click:function(e){t.su_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},qi=[],Di={render:Si,staticRenderFns:qi},$i=Di,Pi=a("VU/8"),Ti=v,Ei=Pi(Ii,$i,!1,Ti,"data-v-078db185",null),Ni=Ei.exports,Ai=a("5OkI"),Oi=a.n(Ai),Mi=a("mtWM"),Ri={props:["reg_dialog","hold_up"],name:"add_cus",$_veeValidate:{validator:"new"},data:function(){return{open_date:"",cssText:'  @page { size: A4 portrait }\n    .vsmall{\n        font-size:20px;         text-align:center;\n    }\n    p b{\n        font-weight:bold;\n    }\n    .tems{\n        text-align:center;\n        position:relative;\n        bottom:10px;\n        color:grey;\n        font-size:20px;\n    }\n    .mid{\n        text-align:center;\n        position:relative;\n        left:15px;\n    }\n    .round_end{\n        border-radius:5px 5px 0px 0px;\n        border:1px dashed gray;\n        width:auto;\n        height:auto;\n    }\n    .pulse {\n        animation: opacityPulse 1s ease-out;\n        animation-iteration-count: infinite;\n        opacity: 0;\n    }\n    @-webkit-keyframes opacityPulse {\n        0% {opacity: 0.0;}\n        50% {opacity: 1.0;}\n        100% {opacity: 0.0;}\n    }\n    body{\n        background:#EEE;\n        /* font-size:0.9em !important; */\n    }\n    /* reset */\n\n    *\n    {\n        border: 0;\n        color: inherit;\n        font-family: inherit;\n        font-size: inherit;\n        font-style: inherit;\n        font-weight: inherit;\n        list-style: none;\n        line-height: inherit;\n        margin: 0;\n        padding: 0;\n        text-decoration: none;\n        vertical-align: top;\n    }\n\n\n\n    /* table */\n\n    table { font-size: 26pt; line-height: 10mm ;table-layout: fixed; width: 100%; }\n    table { border-collapse: separate; border-spacing: 2px; }\n    th, td { border-width: 1px; padding: 0.5em; position: relative; text-align: left; }\n    th, td { border-radius: 0.25em; border-style: solid; }\n    th { background: #EEE; border-color: #BBB; }\n    td { border-color: #DDD; }\n\n    /* page */\n\n    html { font: 25px/1 \'Open Sans\', sans-serif; overflow: auto; padding: 0.5in; }\n    html { background: #999; cursor: default; }\n\n    body { box-sizing: border-box; height: 11in; margin: 0 auto; padding: 0.5in; width: 8.5in; }\n    body { background: #FFF; border-radius: 1px; box-shadow: 0 0 1in -0.25in rgba(0, 0, 0, 0.5); }\n\n    /* header */\n\n    header { margin: 0 0 1em; }\n    header:after { clear: both; content: ""; display: table; }\n\n    header h1 { background: #e3e3e3; font-size: 30pt;text-align:center; line-height: 10mm; border-radius: 0.25em; color: #000; margin: 0 0 1em; padding: 0.5em 0; }\n    header span, header img { display: block; float: right; }\n    header span { margin: 0 0 1em 1em; max-height: 25%; max-width: 60%; position: relative;font-size: 24pt; line-height: 18mm }\n    header img { max-height: 100%; max-width: 100%; }\n\n    div p {font-size: 20pt; line-height: 12mm;}\n\n    /* article */\n\n    article, article address, table.meta, table.inventory { margin: 0 0 3em; }\n    article:after { clear: both; content: ""; display: table; }\n    article h1 { clip: rect(0 0 0 0); position: absolute; }\n\n    article address { float: left; font-size: 125%; font-weight: bold; }\n\n    /* table meta & balance */\n\n    table.meta, table.balance { float: right; width: 36%; }\n    table.meta:after, table.balance:after { clear: both; content: ""; display: table; }\n\n    /* table meta */\n\n    table.meta th { width: 40%; }\n    table.meta td { width: 60%; }\n\n    /* table items */\n\n    table.inventory { clear: both; width: 85%; }\n    table.inventory th { font-weight: bold; text-align: center; font-size:100% }\n\n    table.inventory th.name { width: 50%; }\n    /*table.inventory th:nth-child(2) { width: 12%; }*/\n\n\n\n    /* table balance */\n    table.balance {position:relative;right:190px}\n    table.balance th,\n    table.balance td { width: 180px; }\n    table.balance tr.grant td { width: 380px; }\n    table.balance tr.grand {font-weight:bold; }\n    table.balance td { text-align: center; }\n\n    /* aside */\n\n    aside h1 { border: none; border-width: 0 0 1px; margin: 0 0 1em; }\n    aside h1 { border-color: #999; border-bottom-style: solid; }\n\n    /* javascript */\n\n    .add, .cut\n    {\n        border-width: 1px;\n        display: block;\n        font-size: .8rem;\n        padding: 0.25em 0.5em;\n        float: left;\n        text-align: center;\n        width: 0.6em;\n    }\n\n    .add, .cut\n    {\n        background: #9AF;\n        box-shadow: 0 1px 2px rgba(0,0,0,0.2);\n        background-image: -moz-linear-gradient(#00ADEE 5%, #0078A5 100%);\n        background-image: -webkit-linear-gradient(#00ADEE 5%, #0078A5 100%);\n        border-radius: 0.5em;\n        border-color: #0076A3;\n        color: #FFF;\n        cursor: pointer;\n        font-weight: bold;\n        text-shadow: 0 -1px 2px rgba(0,0,0,0.333);\n    }\n\n    .add { margin: -2.5em 0 0; }\n\n    .add:hover { background: #00ADEE; }\n\n    .cut { opacity: 0; position: absolute; top: 0; left: -1.5em; }\n    .cut { -webkit-transition: opacity 100ms ease-in; }\n\n    tr:hover .cut { opacity: 1; }\n\n    @media print {\n        * { -webkit-print-color-adjust: exact; }\n        html { background: none; padding: 0; }\n        body { box-shadow: none; margin: 0; }\n        span:empty { display: none; }\n        .add, .cut { display: none; }\n    }\n\n    @page { margin: 0; }\n',ses_area:!0,total:0,menu:!1,snack:!1,snackText:"",snackColor:"",shift_sales:{},ses_raw:[],ses_expenses:0,creg:!1,fetchup:!1,end_init:!0,close_cash:"",sales_session:{outlet:"",shift:"Morning",opening_cash:"",user_id:1,open_date:(new Date).toISOString()},su_snackbar:!1,edit_dialog:!1,loader:!1,shifts:["Morning","Afternoon","Night"],search:"",customers:[],editedIndex:-1,outlet:["Kumanku"]}},computed:{openDate:function(){return Lt()(this.sales_session.open_date).format("MMM Do YYYY")},outty:function(){return this.userData.outlet_name},sessionState:function(){return"Not Set"===this.getSaleSession.shift?"Open Register":"Edit Register"},ses:function(){return"Not Set"!==this.getSaleSession.shift},apiSet:function(){return this.$store.getters.getApi},getSaleSession:function(){return this.$store.getters.getSalesSession},submit_loading:function(){return!0},submitted:function(){return this.$store.state.submittedState},tsale:function(){return this.ses_raw.reduce(function(t,e){return t+e.payment_amount},0)},expCash:function(){return parseFloat(this.getSaleSession.opening_cash)+this.tsale-this.ses_expenses},varCash:function(){return this.close_cash-this.expCash}},watch:{dialog:function(t){t||this.close()},submitted:function(){this.clearFields(),this.su_snackbar=!0}},mounted:function(){},methods:{openRegister:function(){var t=this;this.$store.commit("setIsUp",!0);var e=this,a=Lt()().format("Do MMM YYYY");if(this.ses)return this.sales_session=this.getSaleSession,!1;this.$validator.validateAll().then(function(s){if(!s)return Wg.$emit("form_error"),!1;t.loader=!0;var i=t.sales_session;console.log(i),i.company_id=t.userData.company_id,i.outlet_id=t.userData.outlet_id,i.user_id=t.userData.id,i.user_name=t.userData.user_name,i.session_state=1,i.open_date=a,i.open_time=new Date,console.log(i),Mi.post(t.apiSet.saleSession,i).then(function(t){var a=t.data[1].session_id;i.id=a,e.snack=!0,e.snackText="Shift was Successfully started.",e.snackColor="green",e.$store.commit("setSalesSession",i),Wg.$emit("close_reg",!1),e.loader=!1,e.$store.commit("setIsUp",!1)}).catch(function(t){e.snack=!0,e.snackText="Error.Sorry a network error occured.",e.snackColor="red"})})},init_close:function(){this.end_init=!1},end_shift:function(){var t=this,e=function(){t.end()},a={title:"End Shift?",message:"This will close the register and end your shift.",type:"warning",useConfirmBtn:!0,onConfirm:e};this.$refs.simplert.openSimplert(a);var s=Lt()().format("Do MMM YYYY"),i={user_id:this.userData.id,expense_date:s};Mi.post(this.apiSet.sessionExpense,i).then(function(e){var a=e.data.data;if(a[0].amount){var s=a.reduce(function(t,e){return t+parseFloat(e.amount)},0);t.ses_expenses=s}else t.ses_expenses=0}).catch(function(t){console.log(t)})},end:function(){var t=this;this.$store.commit("setIsUp",!0);var e=this.getSaleSession.id,a={close_cash:this.close_cash};Mi.patch(this.apiSet.closeSession+"/"+e,a).then(function(e){console.log(e),t.loader=!1,t.$validator.reset(),t.end_init=!0,Wg.$emit("close_reg",!1),t.getShiftSales()}).catch(function(e){console.log(e),this.er_snackbar=!0,t.loader=!1})},getShiftSales:function(){var t=this,e=this.getSaleSession.id,a={cash:0,visa:0,cheque:0,momo:0,credit:0,return:0};Mi.get(this.apiSet.sessionSales+"/"+e).then(function(e){console.log(e);var s=e.data;t.ses_raw=s;for(var i=0,n=s.length;i<n;i++)switch(s[i].payment_type){case"CASH":a.cash=s[i].payment_amount;break;case"VISA":a.visa=s[i].payment_amount;break;case"CHEQUE":a.cheque=s[i].payment_amount;break;case"CREDIT":a.credit=s[i].payment_amount;break;case"RETURN":a.returns=s[i].payment_amount;break;case"MoMo":a.momo=s[i].payment_amount;break;default:a.cash=0}a.expenses=t.getExpenses,t.shift_sales=a,Wg.$emit("close_reg",!1),t.creg=!0,t.$store.commit("setIsUp",!1),t.completeSession()}).catch(function(e){console.log(e),this.er_snackbar=!0,t.loader=!1})},completeSession:function(){var t=(Lt()().format("D MMM YYYY"),this.shift_sales),e=this.getSaleSession.id,a=yi()({},t,{total_sales:this.tsale,expenses:this.ses_expenses,closing_date:new Date});Mi.patch(this.apiSet.completeSession+"/"+e,a).then(function(t){console.log(t.data.data)}).catch(function(t){console.log(t)})},printSession:function(){(new Oi.a).print(document.getElementById("session_area"),this.cssText),this.closePrint()},closePrint:function(){var t={shift:"Not Set"};this.$store.commit("setSalesSession",t),this.$store.commit("setIsUp",!1),this.sales_session.opening_cash=0,this.sales_session.shift="",this.close_cash=0,this.creg=!1,Wg.$emit("close_reg",!0)},closeup:function(){this.ses?Wg.$emit("close_reg",!1):this.$router.go(-1)}}},ji=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-spacer"),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.creg,callback:function(e){t.creg=e},expression:"creg"}},[a("v-card",[a("v-toolbar",{attrs:{dense:""}},[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Close Register")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},on:{click:t.closePrint}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-card",[a("v-card-title",[a("v-flex",{attrs:{sm10:""}},[a("h4",[t._v(t._s(t.getSaleSession.shift)+" Shift @ "+t._s(t.moment(t.getSaleSession.open_time).format("MMM Do YYYY"))+"   ")])]),t._v(" "),a("v-flex",{attrs:{sm2:""}},[a("span",{staticClass:"secondary--text align-end"},[a("small",[t._v(t._s(t.getSaleSession.user_name))])])])],1),t._v(" "),a("v-divider"),t._v(" "),a("v-list",{attrs:{dense:""}},[a("v-list-tile",[a("v-list-tile-content",[t._v("Opening Cash:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[t._v("Ghc "+t._s(t.getSaleSession.opening_cash))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",[t._v("Cash Sales:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.shift_sales.cash)+" ")])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",[t._v("Cheque Sales")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.shift_sales.cheque))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",[t._v("Visa Sales:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.shift_sales.visa))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",[t._v("MoMo Sales:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.shift_sales.momo))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",[t._v("Credit Sales:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.shift_sales.credit))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",[t._v("Returns:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.shift_sales.returns))])],1),t._v(" "),a("v-divider"),t._v(" "),a("v-list-tile",[a("v-list-tile-content",{staticClass:"subheading"},[t._v("Total Sales:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.tsale))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",{staticClass:"subheading"},[t._v("Expenses:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.ses_expenses))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",{staticClass:"subheading"},[t._v("Closing Cash:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.close_cash))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",{staticClass:"subheading green--text text-darken-3"},[t._v("Expected Cash:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.expCash))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",{staticClass:"subheading red--text text-darken-3"},[t._v("Variance in Cash:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.varCash))])],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"secondary"},on:{click:t.printSession}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-printer")]),t._v("Print Details")],1)],1)],1)],1)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:t.reg_dialog,callback:function(e){t.reg_dialog=e},expression:"reg_dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Point of Sale")]),t._v(" "),a("v-spacer"),t._v(" "),t.ses?a("v-btn",{attrs:{icon:""},on:{click:t.closeup}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1):t._e()],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-progress-linear",{staticClass:"ma-0",attrs:{active:t.hold_up,color:"red darken-3",height:"2",indeterminate:""}})],1),t._v(" "),a("v-card-text",[t.ses?a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-layout",{attrs:{wrap:"","align-centres":"","justify-centre":""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[t.end_init?a("v-alert",{attrs:{value:!0,color:"primary",icon:"info"}},[t._v("\n                                    Your "+t._s(t.getSaleSession.shift)+" shift is active "),a("v-icon",{staticClass:"pulse green--text text-darken-3",attrs:{small:"",small:""}},[t._v("mdi-checkbox-blank-circle")])],1):t._e()],1),t._v(" "),a("v-flex",{attrs:{sm12:""}},[t.end_init?t._e():a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Total Cash Gh¢ ",type:"number",required:"",box:"","data-vv-name":"close_cash","error-messages":t.errors.collect("close_cash")},model:{value:t.close_cash,callback:function(e){t.close_cash=e},expression:"close_cash"}}),t._v(" "),t.end_init?a("v-btn",{staticClass:"elevation-6",attrs:{dark:"",color:"green darken-3"},on:{click:t.closeup}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-autorenew")]),t._v(" Continue Shift")],1):t._e()],1),t._v(" "),t.end_init?a("v-flex",[a("v-btn",{staticClass:"elevation-6",attrs:{dark:"",color:"red darken-3"},on:{click:t.init_close}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-power")]),t._v(" End Shift")],1)],1):t._e(),t._v(" "),t.end_init?t._e():a("v-flex",{staticClass:"close_reg"},[a("v-btn",{staticClass:"elevation-6",attrs:{dark:"",color:"red darken-3"},on:{click:t.end_shift}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-close-outline")]),t._v(" Close Register")],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md12:"",sm12:""}},[a("v-card",[a("v-card-title",[a("h4",[t._v("Shift Details")])]),t._v(" "),a("v-divider"),t._v(" "),a("v-list",{attrs:{dense:""}},[a("v-list-tile",[a("v-list-tile-content",[t._v("Opening Cash:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[t._v("Ghc "+t._s(t.getSaleSession.opening_cash))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",[t._v("Time started:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[t._v(t._s(t.moment(t.getSaleSession.open_time).fromNow())+" ")])],1)],1)],1),t._v(" "),a("v-alert",{attrs:{value:!0,color:"grey darken-3 ",icon:"info"}},[t._v("\n                                   If you want to change shift details, Please contact Administrator.\n                                ")])],1)],1)],1):a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"mt-0",attrs:{"offset-y":"",items:t.outty,label:"Outlet",placeholder:"Please Select Outlet",box:"","data-vv-name":"outlet","error-messages":t.errors.collect("outlet")},model:{value:t.sales_session.outlet,callback:function(e){t.$set(t.sales_session,"outlet",e)},expression:"sales_session.outlet"}})],1),t._v(" "),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"mt-0",attrs:{"offset-y":"",items:t.shifts,label:"Shift",placeholder:"Please Select Shift",box:"","data-vv-name":"shift","error-messages":t.errors.collect("shift")},model:{value:t.sales_session.shift,callback:function(e){t.$set(t.sales_session,"shift",e)},expression:"sales_session.shift"}})],1),t._v(" "),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.sales_session.open_date,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){return t.$set(t.sales_session,"open_date",e)},"update:return-value":function(e){return t.$set(t.sales_session,"open_date",e)}},model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-text-field",{staticClass:"mt-0 ml-2",attrs:{slot:"activator",box:"",value:t.openDate,label:"Open Date",readonly:""},slot:"activator"}),t._v(" "),a("v-date-picker",{attrs:{"no-title":"",scrollable:"",color:"secondary","header-color":"primary"},model:{value:t.sales_session.open_date,callback:function(e){t.$set(t.sales_session,"open_date",e)},expression:"sales_session.open_date"}},[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.sales_session.open_date)}}},[t._v("OK")])],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md12:"",sm12:""}},[a("v-card",[a("v-card-title",[a("h4",[t._v("Cash In Hand")])]),t._v(" "),a("v-divider"),t._v(" "),a("v-list",[a("v-list-tile",[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Opening Cash Gh¢ ",type:"number",required:"",box:"","data-vv-name":"open_cash","error-messages":t.errors.collect("open_cash")},model:{value:t.sales_session.opening_cash,callback:function(e){t.$set(t.sales_session,"opening_cash",e)},expression:"sales_session.opening_cash"}})],1)],1)],1)],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),t.ses?t._e():a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.closeup}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{color:"secondary",loading:t.loader,disabled:t.loader},on:{click:t.openRegister}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-window-open")]),t._v(t._s(t.sessionState))],1)],1)],1)],1),t._v(" "),a("v-card",{directives:[{name:"show",rawName:"v-show",value:t.ses_area,expression:"ses_area"}],staticStyle:{"z-index":"-1"},attrs:{id:"session_area"}},[a("header",[a("h1",[t._v(t._s(t.getSaleSession.shift)+" Shift @ "+t._s(t.moment(t.getSaleSession.open_time).format("MMM Do YYYY"))+" By "+t._s(t.getSaleSession.user_name))])]),t._v(" "),a("v-divider"),t._v(" "),a("table",{attrs:{dense:""}},[a("tr",[a("td",[t._v("Opening Cash:")]),t._v(" "),a("td",[t._v("Ghc "+t._s(t.getSaleSession.opening_cash))])]),t._v(" "),a("tr",[a("td",[t._v("Cash Sales:")]),t._v(" "),a("td",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.shift_sales.cash)+" ")])]),t._v(" "),a("tr",[a("td",[t._v("Cheque Sales")]),t._v(" "),a("td",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.shift_sales.cheque))])]),t._v(" "),a("tr",[a("td",[t._v("Visa Sales:")]),t._v(" "),a("td",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.shift_sales.visa))])]),t._v(" "),a("tr",[a("td",[t._v("MoMo Sales:")]),t._v(" "),a("td",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.shift_sales.momo))])]),t._v(" "),a("tr",[a("td",[t._v("Credit Sales:")]),t._v(" "),a("td",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.shift_sales.credit))])]),t._v(" "),a("tr",[a("td",[t._v("Returns:")]),t._v(" "),a("td",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.shift_sales.returns))])]),t._v(" "),a("v-divider"),t._v(" "),a("tr",[a("td",{staticClass:"subheading"},[t._v("Total Sales:")]),t._v(" "),a("td",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.tsale))])]),t._v(" "),a("tr",[a("td",{staticClass:"subheading"},[t._v("Expenses:")]),t._v(" "),a("td",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.ses_expenses))])]),t._v(" "),a("tr",[a("td",{staticClass:"subheading"},[t._v("Closing Cash:")]),t._v(" "),a("td",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.close_cash))])]),t._v(" "),a("tr",[a("td",{staticClass:"subheading"},[t._v("Expected Cash:")]),t._v(" "),a("td",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.expCash))])]),t._v(" "),a("tr",[a("td",{staticClass:"subheading"},[t._v("Variance:")]),t._v(" "),a("td",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.varCash))])])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.su_snackbar,callback:function(e){t.su_snackbar=e},expression:"su_snackbar"}},[t._v("\n        Register Successfully Opened.\n        "),a("v-btn",{attrs:{flat:"",color:"green"},nativeOn:{click:function(e){t.su_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},Yi=[],Fi={render:ji,staticRenderFns:Yi},Ui=Fi,zi=a("VU/8"),Vi=p,Bi=zi(Ri,Ui,!1,Vi,"data-v-2ed98f4e",null),Gi=Bi.exports,Hi=a("mtWM"),Li={props:["sus_dialog"],name:"open_sus",$_veeValidate:{validator:"new"},data:function(){return{total:0,fetchup:!1,sales_session:{outlet:"Retail",shift:"Morning",open_cash:0,user_id:1},headers:[{text:"ID.",align:"left",value:"id",sortable:!1},{text:"Customer Name",align:"left",value:"customer_name"},{text:"Suspended Date",align:"left",value:"sale_date"},{text:"Action",align:"left",value:"action"}],suspended:[{num:1,id:2,sale_date:"02/03/2019",customer_name:"Aximilli"}],full_suspended:[],su_snackbar:!1,loader:!1,shifts:["Morning","Afternoon","Night"],search:"",customers:[],editedIndex:-1}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},apiSet:function(){return this.$store.getters.getApi},submit_loading:function(){return!0},submitted:function(){return this.$store.state.submittedState}},mounted:function(){this.loadSuspended()},watch:{dialog:function(t){t||this.close()},submitted:function(){this.clearFields(),this.su_snackbar=!0}},methods:{closeup:function(){Wg.$emit("close_sus",!1)},loadSuspended:function(){var t=this,e=this;this.fetchup=!0;var a={oid:this.userData.outlet_id,cid:this.userData.company_id};Hi.post(this.apiSet.postSuspended,a).then(function(t){for(var a=[],s=t.data.data,i=0,n=s.length;i<n;i++)console.log(s[i].title),a.unshift({id:s[i].id,num:i,customer_name:s[i].name,sale_date:s[i].created_at,sus_code:s[i].sus_code});e.suspended=a,e.full_suspended=s,e.total=a.length,e.fetchup=!1}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},unSus:function(t){var e=this;this.fetchup=!0;var a=[],s=[];Hi.get(this.apiSet.singleSusProduct+"/"+t).then(function(i){for(var n=i.data.data,r=0,o=n.length;r<o;r++)a.unshift({num:r,id:n[r].product_id,company_id:n[r].company_id,outlet_id:n[r].outlet_id,or_quantity:n[r].or_quantity,price:n[r].price,product_name:n[r].product_name,quantity:n[r].quantity,discount:n[r].discount,rt_quantity:n[r].rt_quantity,sub_total:n[r].sub_total,sus_code:n[r].sus_code});var l=e.full_suspended.filter(function(e){return e.sus_code===t});s.push({sus_det:l[0],products:a}),Wg.$emit("susRelease",s),e.fetchup=!1,e.closeup()}).catch(function(t){console.log(t),e.fetchup=!1})}}},Wi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"800px"},model:{value:t.sus_dialog,callback:function(e){t.sus_dialog=e},expression:"sus_dialog"}},[a("v-card",{staticClass:"elevation-4"},[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Suspended Sales")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.closeup(e)}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-title",[a("v-chip",[t._v("Total: "+t._s(t.total))]),t._v(" "),a("v-btn",{staticClass:"elevation-6",attrs:{color:"secondary",small:""},on:{click:t.loadSuspended}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-refresh")]),t._v(" Refresh")],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search",outline:"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-2",attrs:{headers:t.headers,items:t.suspended,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.customer_name))]),t._v(" "),a("td",[t._v(t._s(t.moment(e.item.sale_date).fromNow()))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"mr-2 teal--text cpoint",attrs:{flat:"",small:""},on:{click:function(a){return t.unSus(e.item.sus_code)}}},[a("v-icon",[t._v("\n                            mdi-playlist-play\n                        ")]),t._v(" Unsuspend")],1),t._v(" "),a("v-btn",{staticClass:"red--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.deleteItem(e.item)}}},[a("v-icon",[t._v("\n                            mdi-delete\n                        ")]),t._v(" Delete")],1)],1)]}}])},[t._v(" "),a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.loadSuspended}},[t._v("Refresh")])],1),t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                    Your search for "'+t._s(t.search)+'" found no results.\n                ')])],2),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"secondary",dark:""},nativeOn:{click:function(e){return t.closeup(e)}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-close")]),t._v("Close")],1)],1)],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.su_snackbar,callback:function(e){t.su_snackbar=e},expression:"su_snackbar"}},[t._v("\n        Register Successfully Opened.\n        "),a("v-btn",{attrs:{flat:"",color:"green"},nativeOn:{click:function(e){t.su_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},Qi=[],Zi={render:Wi,staticRenderFns:Qi},Xi=Zi,Ji=a("VU/8"),Ki=h,tn=Ji(Li,Xi,!1,Ki,"data-v-43d49fa6",null),en=tn.exports,an=a("mtWM"),sn={props:["pay_dialog"],name:"open_sus",$_veeValidate:{validator:"new"},data:function(){return{total:0,fetchup:!1,tendSet:!0,credit_ex:!1,credit_limit:0,cus_type:"CASH CUSTOMER",cus_color:"green--text text--darken-3",payup:{pay_comments:"",pay_method:"CASH",cheque_no:"",momo_no:"",visa_bank:""},headers:[{text:"AMOUNT DUE",align:"left",sortable:!1,class:"body-2",value:"amount"},{text:"TENDERED",sortable:!1,class:"body-2",value:"calories"},{text:"CHANGE",sortable:!1,class:"body-2",value:"fat"}],sales_payment:[{amount_due:"0.00",tendered:0,change:"0.00"}],loader:!1}},mounted:function(){var t=this;Wg.$on("set_due",function(e){t.setDue()})},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},pay_met:function(){var t=["CASH","CREDIT","VISA","CHEQUE","MoMo"],e=["CASH","VISA","CHEQUE","MoMo"];return this.getSaleCus.credit>0?t:e},bankList:function(){for(var t=this.$store.getters.getBankDrop,e=[],a=0,s=t.length;a<s;a++)e.push(t[a].bank_name);return e},apiSet:function(){return this.$store.getters.getApi},tendered:function(){return this.sales_payment[0].tendered},payMet:function(){return this.payup.pay_method},getCurrentSales:function(){return this.$store.getters.getCurrentSales},getCurrentProducts:function(){return this.$store.getters.getCurrentProducts},getSession:function(){return this.$store.getters.getSalesSession},getSaleCus:function(){return this.$store.getters.getSaleCustomer},getUserData:function(){return this.$store.getters.getUserData},cusID:function(){return this.$store.getters.getCustomerID},submit_loading:function(){return!0},submitted:function(){return this.$store.state.submittedState}},watch:{dialog:function(t){t||this.close()},submitted:function(){this.clearFields(),this.su_snackbar=!0},tendered:function(){var t=this.sales_payment[0].tendered-this.sales_payment[0].amount_due;t>=0&&!this.credit_ex?(this.sales_payment[0].change=t.toFixed(2),this.tendSet=!1):(this.sales_payment[0].change=0,this.tendSet=!0)},payMet:function(t){if(this.sales_payment[0].tendered=0,"CREDIT"===t){var e=this.getSaleCus.credit;e-this.sales_payment[0].amount_due<0?(this.credit_limit=e,this.tendSet=!0,this.credit_ex=!0):(this.tendSet=!1,this.credit_ex=!1)}else this.credit_ex=!1;switch(t){case"CREDIT":this.cus_type="CREDIT CUSTOMER",this.cus_color="secondary--text text--darken-3";break;case"CASH":this.cus_type="CASH CUSTOMER",this.cus_color="green--text text--darken-3";break;case"VISA":this.cus_type="VISA CUSTOMER",this.cus_color="orange--text text--darken-3";break;case"CHEQUE":this.cus_type="CHEQUE CUSTOMER",this.cus_color="teal--text text--darken-3";break;case"MoMo":this.cus_type="MOBILE MONEY CUSTOMER",this.cus_color="lime--text text--darken-4";break;default:this.cus_type="CASH CUSTOMER",this.cus_color="green--text text--darken-3"}}},methods:{setDue:function(){this.sales_payment[0].amount_due=this.getCurrentSales.total},addTend:function(t){0===this.sales_payment[0].tendered&&(this.sales_payment[0].tendered=""),this.sales_payment[0].tendered+=""+t},sumTend:function(t){this.sales_payment[0].tendered=parseFloat(this.sales_payment[0].tendered)+t},spliceTend:function(){var t=this.sales_payment[0].tendered.toString(),e=t.slice(0,-1);this.sales_payment[0].tendered=e},clearScreen:function(){this.sales_payment[0].tendered=0,this.sales_payment[0].change=0},generateInv:function(){var t=this,e=this;this.loader=!0,this.$validator.validateAll().then(function(a){if(a){var s={customer_id:t.cusID,outlet_id:t.userData.outlet_id,company_id:t.userData.company_id,user_id:t.userData.id,sale_status:0};console.log(s),an.post(t.apiSet.singleSaleTransaction,s).then(function(t){var a=t.data[1].sale_trans_id;e.doSalePayment(a)}).catch(function(t){console.log(t)})}else t.loader=!1})},doSalePayment:function(t){var e=this,a=this.userData.company_name.charAt(0)+"-"+t+this.getCurrentSales.outlet_id,s={invoice_no:a,payment_type:this.payup.pay_method,amount_tendered:this.sales_payment[0].tendered,amount_due:this.sales_payment[0].amount_due,change_due:this.sales_payment[0].change};this.$store.commit("setAddData",s);var i={customer_id:this.cusID,outlet_id:this.userData.outlet_id,company_id:this.userData.company_id,user_id:this.userData.id,sale_status:0,sale_transaction_id:t,payment_type:this.payup.pay_method,payment_amount:this.sales_payment[0].amount_due,return_amount:0,amount_tendered:this.sales_payment[0].tendered,amount_due:this.sales_payment[0].amount_due,change_due:this.sales_payment[0].change,total_items:this.getCurrentSales.total_items,invoice_no:a,session:this.getSession.id,momo_no:this.payup.momo_no,cheque_no:this.payup.cheque_no,visa_bank:this.payup.visa_bank,pay_comments:this.payup.pay_comments,date_received:new Date};an.post(this.apiSet.singleSalePayment,i).then(function(s){var i=s.data[1].sale_payment_id;e.doSaleItems(t,i,a)}).catch(function(t){console.log(t)})},doSaleItems:function(t,e,a){for(var s={},i=this.getCurrentProducts,n=0,r=i.length;n<r;n++)s={customer_id:this.cusID,outlet_id:this.userData.outlet_id,company_id:this.userData.company_id,user_id:this.userData.id,sale_status:1,sale_transaction_id:t,sale_payment_id:e,product_id:i[n].id,product_name:i[n].product_name,quantity:i[n].quantity,item_cost_price:i[n].price,item_selling_price:i[n].price,invoice_no:a,discount_percentage:i[n].discount,tax:i[n].price,sus_code:i[n].sus_code},an.post(this.apiSet.singleSaleItem,s).then(function(t){console.log(t)}).catch(function(t){console.log(t),this.er_snackbar=!0});this.loader=!1,this.closeup(),this.$router.push("/sale_invoice")},closeup:function(){this.payup.pay_method="CASH",this.sales_payment[0].tendered=0,Wg.$emit("close_pay",!1)}}},nn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-spacer"),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"960px"},model:{value:t.pay_dialog,callback:function(e){t.pay_dialog=e},expression:"pay_dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dense:""}},[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Make Payment ["),a("i",{class:t.cus_color},[t._v(t._s(t.cus_type))]),t._v("]")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.closeup(e)}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-layout",[a("v-flex",{attrs:{sm6:""}},[a("v-flex",{attrs:{sm8:"","offset-sm2":""}},[a("p",[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:t.pay_met,box:"",label:"Payment Method","full-width":"",required:"","offset-y":"","data-vv-name":"pay_method","error-messages":t.errors.collect("pay_method")},model:{value:t.payup.pay_method,callback:function(e){t.$set(t.payup,"pay_method",e)},expression:"payup.pay_method"}})],1),t._v(" "),"CREDIT"===t.payup.pay_method?a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-alert",{attrs:{dismissible:"",type:"error"},model:{value:t.credit_ex,callback:function(e){t.credit_ex=e},expression:"credit_ex"}},[t._v("Credit Limit ["),a("i",{staticClass:"green--text text--darken-3"},[t._v("Ghc "+t._s(t.credit_limit))]),t._v("] Exceeded.\n                                ")])],1):t._e(),t._v(" "),"CHEQUE"===t.payup.pay_method?a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"","data-vv-name":"cheque","error-messages":t.errors.collect("cheque"),label:"Cheque Number"},model:{value:t.payup.cheque_no,callback:function(e){t.$set(t.payup,"cheque_no",e)},expression:"payup.cheque_no"}})],1):t._e(),t._v(" "),"MoMo"===t.payup.pay_method?a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],attrs:{box:"","data-vv-name":"momo_no",placeholder:"024XXXXXXX","error-messages":t.errors.collect("momo_no"),label:"Mobile Money Number"},model:{value:t.payup.momo_no,callback:function(e){t.$set(t.payup,"momo_no",e)},expression:"payup.momo_no"}})],1):t._e(),t._v(" "),"VISA"===t.payup.pay_method?a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:t.bankList,box:"",label:"Select Receiving Bank","full-width":"",required:"","offset-y":"","data-vv-name":"visa_bank","error-messages":t.errors.collect("visa_bank")},model:{value:t.payup.visa_bank,callback:function(e){t.$set(t.payup,"visa_bank",e)},expression:"payup.visa_bank"}})],1):t._e(),t._v(" "),a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-textarea",{attrs:{box:"",name:"input-7-4",label:"Additional Comments/ Note",value:""},model:{value:t.payup.pay_comments,callback:function(e){t.$set(t.payup,"pay_comments",e)},expression:"payup.pay_comments"}})],1)],1)],1),t._v(" "),a("v-flex",{attrs:{sm6:""}},[a("v-container",{attrs:{"elevation-3":""}},[a("v-data-table",{staticClass:"elevation-1 mb-0",attrs:{headers:t.headers,items:t.sales_payment,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"subheading"},[t._v(t._s(e.item.amount_due))]),t._v(" "),a("td",{staticClass:"subheading"},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal:4",expression:"'decimal:4'"}],staticClass:"blue--text",attrs:{autofocus:"",width:"20","data-vv-name":"tendered","error-messages":t.errors.collect("tendered")},model:{value:e.item.tendered,callback:function(a){t.$set(e.item,"tendered",a)},expression:"props.item.tendered"}})],1),t._v(" "),a("td",{staticClass:"subheading"},[t._v(t._s(e.item.change))])]}}])}),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"calc-body"},[a("div",{staticClass:"calc-button-row"},[a("div",{staticClass:"button",on:{click:function(e){return t.addTend(7)}}},[t._v("7")]),t._v(" "),a("div",{staticClass:"button",on:{click:function(e){return t.addTend(8)}}},[t._v("8")]),t._v(" "),a("div",{staticClass:"button",on:{click:function(e){return t.addTend(9)}}},[t._v("9")]),t._v(" "),a("div",{staticClass:"button l small",on:{click:function(e){return t.sumTend(10)}}},[t._v("+10")])]),t._v(" "),a("div",{staticClass:"calc-button-row"},[a("div",{staticClass:"button",on:{click:function(e){return t.addTend(4)}}},[t._v("4")]),t._v(" "),a("div",{staticClass:"button",on:{click:function(e){return t.addTend(5)}}},[t._v("5")]),t._v(" "),a("div",{staticClass:"button",on:{click:function(e){return t.addTend(6)}}},[t._v("6")]),t._v(" "),a("div",{staticClass:"button l small",on:{click:function(e){return t.sumTend(20)}}},[t._v("+20")])]),t._v(" "),a("div",{staticClass:"calc-button-row"},[a("div",{staticClass:"button",on:{click:function(e){return t.addTend(1)}}},[t._v("1")]),t._v(" "),a("div",{staticClass:"button",on:{click:function(e){return t.addTend(2)}}},[t._v("2")]),t._v(" "),a("div",{staticClass:"button",on:{click:function(e){return t.addTend(3)}}},[t._v("3")]),t._v(" "),a("div",{staticClass:"button l small",on:{click:function(e){return t.sumTend(50)}}},[t._v("+50")])]),t._v(" "),a("div",{staticClass:"calc-button-row"},[a("div",{staticClass:"button c",on:{click:t.clearScreen}},[t._v("C")]),t._v(" "),a("div",{staticClass:"button",on:{click:function(e){return t.addTend(0)}}},[t._v("0")]),t._v(" "),a("div",{staticClass:"button",on:{click:function(e){return t.addTend(".")}}},[t._v(".")]),t._v(" "),a("div",{staticClass:"button l",on:{click:t.spliceTend}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-arrow-left")])],1)]),t._v(" "),a("div",{staticClass:"calc-button-row"},[a("v-btn",{staticClass:"pushr grey--text text--darken-4",attrs:{loading:t.loader,disabled:t.tendSet,large:""},on:{click:t.generateInv}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-map")]),t._v("Generate Invoice")],1)],1)])])],1)],1)],1)],1)],1)],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},rn=[],on={render:nn,staticRenderFns:rn},ln=on,cn=a("VU/8"),dn=f,un=cn(sn,ln,!1,dn,"data-v-f4cc5172",null),mn=un.exports,vn=a("mtWM"),_n={props:["cpay_dialog"],name:"open_cpayment",$_veeValidate:{validator:"new"},data:function(){return{total:0,fetchup:!1,tendSet:!0,credit_ex:!1,credit_limit:0,cus_type:"CASH CUSTOMER",cus_color:"green--text text--darken-3",payup:{pay_comments:"",pay_method:"CASH",cheque_no:"",momo_no:"",visa_bank:""},headers:[{text:"AMOUNT DUE",align:"left",sortable:!1,class:"body-2",value:"amount"},{text:"TENDERED",sortable:!1,class:"body-2",value:"calories"},{text:"CHANGE",sortable:!1,class:"body-2",value:"fat"}],sales_payment:[{amount_due:"0.00",tendered:0,change:"0.00"}],loader:!1}},mounted:function(){var t=this;Wg.$on("set_due",function(e){t.setDue()})},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},pay_met:function(){var t=["CASH","CREDIT","VISA","CHEQUE","MoMo"],e=["CASH","VISA","CHEQUE","MoMo"];return this.getSaleCus.credit>0?t:e},bankList:function(){for(var t=this.$store.getters.getBankDrop,e=[],a=0,s=t.length;a<s;a++)e.push(t[a].bank_name);return e},apiSet:function(){return this.$store.getters.getApi},tendered:function(){return this.sales_payment[0].tendered},payMet:function(){return this.payup.pay_method},getCurrentSales:function(){return this.$store.getters.getCurrentSales},getCurrentProducts:function(){return this.$store.getters.getCurrentProducts},getSession:function(){return this.$store.getters.getSalesSession},getSaleCus:function(){return this.$store.getters.getSaleCustomer},getUserData:function(){return this.$store.getters.getUserData},cusID:function(){return this.$store.getters.getCustomerID},submit_loading:function(){return!0},submitted:function(){return this.$store.state.submittedState}},watch:{dialog:function(t){t||this.close()},submitted:function(){this.clearFields(),this.su_snackbar=!0},tendered:function(){var t=this.sales_payment[0].tendered-this.sales_payment[0].amount_due;t>=0&&!this.credit_ex?(this.sales_payment[0].change=t.toFixed(4),this.tendSet=!1):(this.sales_payment[0].change=0,this.tendSet=!0)},payMet:function(t){if(this.sales_payment[0].tendered=0,"CREDIT"===t){var e=this.getSaleCus.credit;e-this.sales_payment[0].amount_due<0?(this.credit_limit=e,this.tendSet=!0,this.credit_ex=!0):(this.tendSet=!1,this.credit_ex=!1)}else this.credit_ex=!1;switch(t){case"CREDIT":this.cus_type="CREDIT CUSTOMER",this.cus_color="secondary--text text--darken-3";break;case"CASH":this.cus_type="CASH CUSTOMER",this.cus_color="green--text text--darken-3";break;case"VISA":this.cus_type="VISA CUSTOMER",this.cus_color="orange--text text--darken-3";break;case"CHEQUE":this.cus_type="CHEQUE CUSTOMER",this.cus_color="teal--text text--darken-3";break;case"MoMo":this.cus_type="MOBILE MONEY CUSTOMER",this.cus_color="lime--text text--darken-4";break;default:this.cus_type="CASH CUSTOMER",this.cus_color="green--text text--darken-3"}}},methods:{setDue:function(){this.sales_payment[0].amount_due=this.getCurrentSales.total},addTend:function(t){0===this.sales_payment[0].tendered&&(this.sales_payment[0].tendered=""),this.sales_payment[0].tendered+=""+t},sumTend:function(t){this.sales_payment[0].tendered=parseFloat(this.sales_payment[0].tendered)+t},spliceTend:function(){var t=this.sales_payment[0].tendered.toString(),e=t.slice(0,-1);this.sales_payment[0].tendered=e},clearScreen:function(){this.sales_payment[0].tendered=0,this.sales_payment[0].change=0},generateInv:function(){var t=this,e=this;this.loader=!0;var a=this.getCurrentSales.invoice_no;this.$validator.validateAll().then(function(s){if(s){var i={invoice_no:a,payment_type:t.payup.pay_method,amount_tendered:t.sales_payment[0].tendered,amount_due:t.sales_payment[0].amount_due,change_due:t.sales_payment[0].change};t.$store.commit("setAddData",i);var n={customer_id:t.cusID,outlet_id:t.userData.outlet_id,company_id:t.userData.company_id,user_id:t.userData.id,sale_status:1,payment_type:t.payup.pay_method,payment_amount:t.sales_payment[0].amount_due,return_amount:0,amount_tendered:t.sales_payment[0].tendered,amount_due:t.sales_payment[0].amount_due,change_due:t.sales_payment[0].change,total_items:t.getCurrentSales.total_items,session:t.getSession.id,momo_no:t.payup.momo_no,cheque_no:t.payup.cheque_no,visa_bank:t.payup.visa_bank,pay_comments:t.payup.pay_comments,date_received:new Date,invoice_no:a};vn.post(t.apiSet.cSalePayment,n).then(function(t){e.loader=!1,e.closeup(),e.$router.push("/sale_invoice")}).catch(function(t){console.log(t)})}else t.loader=!1})},closeup:function(){this.payup.pay_method="CASH",this.sales_payment[0].tendered=0,Wg.$emit("close_cpay",!1)}}},pn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-spacer"),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"960px"},model:{value:t.cpay_dialog,callback:function(e){t.cpay_dialog=e},expression:"cpay_dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dense:""}},[a("v-toolbar-title",{staticClass:"primary--text"},[a("i",{staticClass:"secondary--text"},[t._v("#"+t._s(t.getCurrentSales.invoice_no))]),t._v("\n\n                    Make Payment ["),a("i",{class:t.cus_color},[t._v(t._s(t.cus_type))]),t._v("]\n\n                ")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.closeup(e)}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-layout",[a("v-flex",{attrs:{sm6:""}},[a("v-flex",{attrs:{sm8:"","offset-sm2":""}},[a("p",[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:t.pay_met,box:"",label:"Payment Method","full-width":"",required:"","offset-y":"","data-vv-name":"pay_method","error-messages":t.errors.collect("pay_method")},model:{value:t.payup.pay_method,callback:function(e){t.$set(t.payup,"pay_method",e)},expression:"payup.pay_method"}})],1),t._v(" "),"CREDIT"===t.payup.pay_method?a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-alert",{attrs:{dismissible:"",type:"error"},model:{value:t.credit_ex,callback:function(e){t.credit_ex=e},expression:"credit_ex"}},[t._v("Credit Limit ["),a("i",{staticClass:"green--text text--darken-3"},[t._v("Ghc "+t._s(t.credit_limit))]),t._v("] Exceeded.\n                                ")])],1):t._e(),t._v(" "),"CHEQUE"===t.payup.pay_method?a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"","data-vv-name":"cheque","error-messages":t.errors.collect("cheque"),label:"Cheque Number"},model:{value:t.payup.cheque_no,callback:function(e){t.$set(t.payup,"cheque_no",e)},expression:"payup.cheque_no"}})],1):t._e(),t._v(" "),"MoMo"===t.payup.pay_method?a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|numeric",expression:"'required|numeric'"}],attrs:{box:"","data-vv-name":"momo_no",placeholder:"024XXXXXXX","error-messages":t.errors.collect("momo_no"),label:"Mobile Money Number"},model:{value:t.payup.momo_no,callback:function(e){t.$set(t.payup,"momo_no",e)},expression:"payup.momo_no"}})],1):t._e(),t._v(" "),"VISA"===t.payup.pay_method?a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:t.bankList,box:"",label:"Select Receiving Bank","full-width":"",required:"","offset-y":"","data-vv-name":"visa_bank","error-messages":t.errors.collect("visa_bank")},model:{value:t.payup.visa_bank,callback:function(e){t.$set(t.payup,"visa_bank",e)},expression:"payup.visa_bank"}})],1):t._e(),t._v(" "),a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-textarea",{attrs:{box:"",name:"input-7-4",label:"Additional Comments/ Note",value:""},model:{value:t.payup.pay_comments,callback:function(e){t.$set(t.payup,"pay_comments",e)},expression:"payup.pay_comments"}})],1)],1)],1),t._v(" "),a("v-flex",{attrs:{sm6:""}},[a("v-container",{attrs:{"elevation-3":""}},[a("v-data-table",{staticClass:"elevation-1 mb-0",attrs:{headers:t.headers,items:t.sales_payment,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"subheading"},[t._v(t._s(e.item.amount_due))]),t._v(" "),a("td",{staticClass:"subheading"},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal:2|required",expression:"'decimal:2|required'"}],staticClass:"blue--text",attrs:{autofocus:"",width:"20","data-vv-name":"tendered","error-messages":t.errors.collect("tendered")},model:{value:e.item.tendered,callback:function(a){t.$set(e.item,"tendered",a)},expression:"props.item.tendered"}})],1),t._v(" "),a("td",{staticClass:"subheading"},[t._v(t._s(e.item.change))])]}}])}),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"calc-body"},[a("div",{staticClass:"calc-button-row"},[a("div",{staticClass:"button",on:{click:function(e){return t.addTend(7)}}},[t._v("7")]),t._v(" "),a("div",{staticClass:"button",on:{click:function(e){return t.addTend(8)}}},[t._v("8")]),t._v(" "),a("div",{staticClass:"button",on:{click:function(e){return t.addTend(9)}}},[t._v("9")]),t._v(" "),a("div",{staticClass:"button l small",on:{click:function(e){return t.sumTend(10)}}},[t._v("+10")])]),t._v(" "),a("div",{staticClass:"calc-button-row"},[a("div",{staticClass:"button",on:{click:function(e){return t.addTend(4)}}},[t._v("4")]),t._v(" "),a("div",{staticClass:"button",on:{click:function(e){return t.addTend(5)}}},[t._v("5")]),t._v(" "),a("div",{staticClass:"button",on:{click:function(e){return t.addTend(6)}}},[t._v("6")]),t._v(" "),a("div",{staticClass:"button l small",on:{click:function(e){return t.sumTend(20)}}},[t._v("+20")])]),t._v(" "),a("div",{staticClass:"calc-button-row"},[a("div",{staticClass:"button",on:{click:function(e){return t.addTend(1)}}},[t._v("1")]),t._v(" "),a("div",{staticClass:"button",on:{click:function(e){return t.addTend(2)}}},[t._v("2")]),t._v(" "),a("div",{staticClass:"button",on:{click:function(e){return t.addTend(3)}}},[t._v("3")]),t._v(" "),a("div",{staticClass:"button l small",on:{click:function(e){return t.sumTend(50)}}},[t._v("+50")])]),t._v(" "),a("div",{staticClass:"calc-button-row"},[a("div",{staticClass:"button c",on:{click:t.clearScreen}},[t._v("C")]),t._v(" "),a("div",{staticClass:"button",on:{click:function(e){return t.addTend(0)}}},[t._v("0")]),t._v(" "),a("div",{staticClass:"button",on:{click:function(e){return t.addTend(".")}}},[t._v(".")]),t._v(" "),a("div",{staticClass:"button l",on:{click:t.spliceTend}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-arrow-left")])],1)]),t._v(" "),a("div",{staticClass:"calc-button-row"},[a("v-btn",{staticClass:"pushr grey--text text--darken-4",attrs:{loading:t.loader,disabled:t.tendSet,large:""},on:{click:t.generateInv}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-map")]),t._v("Generate Invoice")],1)],1)])])],1)],1)],1)],1)],1)],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},hn=[],fn={render:pn,staticRenderFns:hn},bn=fn,gn=a("VU/8"),xn=b,yn=gn(_n,bn,!1,xn,"data-v-17d29344",null),kn=yn.exports,wn=a("mtWM"),Cn={props:["return_dialog"],name:"open_cpayment",$_veeValidate:{validator:"new"},data:function(){return{show:!1,snack:!1,snackText:"",snackColor:"",total:0,fetchup:!1,tendSet:!0,search:"",new_amt:0,ret_amt:0,headers:[{text:"Product Name",align:"left",sortable:!1,class:"body-2",value:"product_name"},{text:"Price(GHc)",sortable:!1,class:"body-2",value:"price"},{text:"Original Quantity",sortable:!1,class:"body-2",value:"or_quantity"},{text:"Return Quantity",sortable:!1,class:"body-2",value:"fat"},{text:"New Quantity",sortable:!1,class:"body-2",value:"new_quantity"},{text:"",sortable:!1,class:"body-2",value:"actions"}],returnees:[{product_name:"Chalk Box",or_quantity:400,ret_quantity:20,new_quantity:380}],sales_payment:[{amount_due:"0.00",tendered:0,change:"0.00"}],loader:!1}},mounted:function(){var t=this;Wg.$on("set_due",function(e){t.setDue()})},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},apiSet:function(){return this.$store.getters.getApi},tendered:function(){return this.sales_payment[0].tendered},payMet:function(){return this.payup.pay_method},getCurrentSales:function(){return this.$store.getters.getCurrentSales},getCurrentProducts:function(){return this.$store.getters.getCurrentProducts},getSession:function(){return this.$store.getters.getSalesSession},getSaleCus:function(){return this.$store.getters.getSaleCustomer},getUserData:function(){return this.$store.getters.getUserData},getRet:function(){return this.$store.getters.getReturnees},cusID:function(){return this.$store.getters.getCustomerID},submit_loading:function(){return!0},submitted:function(){return this.$store.state.submittedState}},watch:{dialog:function(t){t||this.close()},submitted:function(){this.clearFields(),this.su_snackbar=!0}},methods:{setDue:function(){this.sales_payment[0].amount_due=this.getCurrentSales.total},generateInv:function(){var t=this,e=this;this.loader=!0,this.$validator.validateAll().then(function(a){if(a){var s={customer_id:t.cusID,outlet_id:t.userData.outlet_id,company_id:t.userData.company_id,user_id:t.userData.id,sale_status:0};console.log(s),wn.post(t.apiSet.singleSaleTransaction,s).then(function(t){console.log(t.data[1].sale_trans_id);var a=t.data[1].sale_trans_id;e.doSalePayment(a)}).catch(function(t){console.log(t)})}else t.loader=!1})},doSalePayment:function(t){var e=this,a=this.userData.company_name.charAt(0)+"-"+t+this.getCurrentSales.outlet_id,s=this.getCurrentSales.invoice_no,i={invoice_no:a,old_invoice_no:s,payment_type:"RETURN",amount_tendered:0,amount_due:0,change_due:0};this.$store.commit("setAddData",i);var n={customer_id:this.cusID,outlet_id:this.userData.outlet_id,company_id:this.userData.company_id,user_id:this.userData.id,sale_status:1,sale_transaction_id:t,payment_type:"RETURN",payment_amount:this.getCurrentSales.ret_total,return_amount:this.getCurrentSales.ret_total,amount_tendered:0,amount_due:0,change_due:0,total_items:this.getCurrentSales.total_items,invoice_no:a,old_invoice_no:s,session:this.getSession.id,momo_no:0,cheque_no:0,visa_bank:"",pay_comments:"THIS IS A RETURN SALE",date_received:new Date};wn.post(this.apiSet.singleSalePayment,n).then(function(i){var n=i.data[1].sale_payment_id;e.doSaleItems(t,n,a,s)}).catch(function(t){console.log(t)})},doSaleItems:function(t,e,a,s){for(var i={},n=this.getCurrentProducts,r=0,o=n.length;r<o;r++)i={customer_id:this.cusID,outlet_id:this.userData.outlet_id,company_id:this.userData.company_id,user_id:this.userData.id,sale_status:0,sale_transaction_id:t,sale_payment_id:e,product_id:n[r].id,product_name:n[r].product_name,quantity:n[r].quantity,return_quantity:n[r].ret_quantity,item_cost_price:n[r].price,item_selling_price:n[r].price,invoice_no:a,old_invoice_no:s,discount_percentage:n[r].discount,tax:n[r].price,sus_code:n[r].sus_code},wn.post(this.apiSet.returnSaleItems,i).then(function(t){console.log(t)}).catch(function(t){console.log(t),this.er_snackbar=!0});this.loader=!1,this.closeup(),this.$router.push("/sale_invoice")},ret_save:function(t,e){var a=this.getRet.indexOf(t),s=this.getRet[a].or_quantity-parseInt(e);if(s<0)return this.snack=!0,this.snackText="Sorry! return value too large",this.snackColor="red darken-3",this.getRet[a].ret_quantity="0",this.getRet[a].new_quantity=this.getRet[a].or_quantity,!1;this.getRet[a].new_quantity=s,this.getRet[a].indiv_new_amt=s*this.getRet[a].price,this.getRet[a].indiv_ret_amt=e*this.getRet[a].price;var i={indy:a,ret_quantity:parseInt(e),rem_quantity:s};this.$store.commit("setReturnProds",i);var n=this.getRet.reduce(function(t,e){return t+e.indiv_new_amt},0),r=this.getRet.reduce(function(t,e){return t+e.indiv_ret_amt},0);this.new_amt=n,this.ret_amt=r;var o={indy:a,rem_total:n,ret_total:-r};this.$store.commit("setReturnSales",o)},ret_all:function(t,e){var a=this.getRet.indexOf(t),s=this.getRet[a].or_quantity-parseInt(e);if(s<0)return this.snack=!0,this.snackText="Sorry! return value too large",this.snackColor="red darken-3",this.getRet[a].ret_quantity="0",this.getRet[a].new_quantity=this.getRet[a].or_quantity,!1;this.getRet[a].ret_quantity=e,this.getRet[a].new_quantity=s,this.getRet[a].indiv_new_amt=s*this.getRet[a].price,this.getRet[a].indiv_ret_amt=e*this.getRet[a].price;var i={indy:a,ret_quantity:parseInt(e),rem_quantity:s};this.$store.commit("setReturnProds",i);var n=this.getRet.reduce(function(t,e){return t+e.indiv_new_amt},0),r=this.getRet.reduce(function(t,e){return t+e.indiv_ret_amt},0);this.new_amt=n,this.ret_amt=r;var o={indy:a,rem_total:n,ret_total:-r};this.$store.commit("setReturnSales",o)},cancel_ret:function(t,e){var a=this.getRet.indexOf(t),s=this.getRet[a].or_quantity-parseInt(e);if(s<0)return this.snack=!0,this.snackText="Sorry! return value too large",this.snackColor="red darken-3",this.getRet[a].ret_quantity="0",this.getRet[a].new_quantity=this.getRet[a].or_quantity,!1;this.getRet[a].ret_quantity=e,this.getRet[a].new_quantity=s,this.getRet[a].indiv_new_amt=s*this.getRet[a].price,this.getRet[a].indiv_ret_amt=e*this.getRet[a].price;var i={indy:a,ret_quantity:parseInt(e),rem_quantity:s};this.$store.commit("setReturnProds",i);var n=this.getRet.reduce(function(t,e){return t+e.indiv_new_amt},0),r=this.getRet.reduce(function(t,e){return t+e.indiv_ret_amt},0);this.new_amt=n,this.ret_amt=r;var o={indy:a,rem_total:n,ret_total:-r};this.$store.commit("setReturnSales",o)},ret_full:function(){for(var t=0;t<this.getRet.length;t++){var e=this.getRet[t].or_quantity;this.getRet[t].ret_quantity=e,this.getRet[t].new_quantity=0,this.getRet[t].indiv_new_amt=0*this.getRet[t].price,this.getRet[t].indiv_ret_amt=e*this.getRet[t].price;var a={indy:t,ret_quantity:parseInt(e),rem_quantity:0};this.$store.commit("setReturnProds",a)}var s=this.getRet.reduce(function(t,e){return t+e.indiv_new_amt},0),i=this.getRet.reduce(function(t,e){return t+e.indiv_ret_amt},0);this.new_amt=s,this.ret_amt=i;var n={rem_total:s,ret_total:-i};this.$store.commit("setReturnSales",n)},cancel_full:function(){for(var t=0;t<this.getRet.length;t++){var e=this.getRet[t].or_quantity;this.getRet[t].ret_quantity=0,this.getRet[t].new_quantity=e,this.getRet[t].indiv_new_amt=e*this.getRet[t].price,this.getRet[t].indiv_ret_amt=0*this.getRet[t].price;var a={indy:t,ret_quantity:parseInt(0),rem_quantity:e};this.$store.commit("setReturnProds",a)}var s=this.getRet.reduce(function(t,e){return t+e.indiv_new_amt},0),i=this.getRet.reduce(function(t,e){return t+e.indiv_ret_amt},0);this.new_amt=s,this.ret_amt=i;var n={rem_total:s,ret_total:-i};this.$store.commit("setReturnSales",n)},doReturn:function(){},closeup:function(){Wg.$emit("close_return",!1),this.ret_amt=0,this.new_amt=0,this.getRet=[]},cancel:function(){this.snack=!0,this.snackColor="error",this.snackText="Canceled"},open:function(){this.snack=!0,this.snackColor="info",this.snackText="Return opened"},close:function(){console.log("Dialog closed")}}},In=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-spacer"),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"1260px"},model:{value:t.return_dialog,callback:function(e){t.return_dialog=e},expression:"return_dialog"}},[a("v-card",{staticClass:"pa-2"},[a("v-toolbar",{attrs:{dense:""}},[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("\n\n                        Return Items ["),a("i",{staticClass:"secondary--text"},[t._v("#"+t._s(t.getCurrentSales.invoice_no))]),t._v("\n                        ]\n\n                    ")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",icon:""},nativeOn:{click:function(e){return t.closeup(e)}},slot:"activator"},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1),t._v(" "),a("span",[t._v("Reset & Close")])],1)],1),t._v(" "),a("v-card-title",[a("v-btn",{staticClass:"elevation-6",attrs:{color:"secondary",small:""},on:{click:t.ret_full}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-refresh")]),t._v(" Return All Items")],1),t._v(" "),a("v-btn",{staticClass:"elevation-6",attrs:{color:"primary",small:""},on:{click:t.cancel_full}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-close")]),t._v(" Reset")],1),t._v(" "),a("v-chip",{staticClass:"elevation-3"},[t._v("Total: "+t._s(t.getRet.length))]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search",outline:"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-tooltip",{attrs:{top:""}},[a("v-data-table",{staticClass:"elevation-2",attrs:{slot:"activator",headers:t.headers,items:t.getRet,search:t.search,loading:t.fetchup},slot:"activator",scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.product_name))]),t._v(" "),a("td",[t._v(t._s(e.item.price))]),t._v(" "),a("td",[t._v(t._s(e.item.or_quantity))]),t._v(" "),a("td",[a("v-edit-dialog",{attrs:{"return-value":e.item.ret_quantity,large:"",lazy:"",persistent:""},on:{"update:returnValue":function(a){return t.$set(e.item,"ret_quantity",a)},"update:return-value":function(a){return t.$set(e.item,"ret_quantity",a)},save:function(a){return t.ret_save(e.item,e.item.ret_quantity)},cancel:t.cancel,open:t.open,close:t.close}},[a("div",[t._v(t._s(e.item.ret_quantity))]),t._v(" "),a("div",{staticClass:"mt-3 title",attrs:{slot:"input"},slot:"input"},[t._v("Return Quantity")]),t._v(" "),a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{slot:"input",label:"Edit","single-line":"",autofocus:"","data-vv-name":"quantity",required:"","error-messages":t.errors.collect("quantity")},slot:"input",model:{value:e.item.ret_quantity,callback:function(a){t.$set(e.item,"ret_quantity",a)},expression:"props.item.ret_quantity"}})],1)],1),t._v(" "),a("td",[t._v(t._s(e.item.new_quantity))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"mr-2 red--text cpoint",attrs:{flat:"",small:""},on:{click:function(a){return t.ret_all(e.item,e.item.or_quantity)}}},[a("v-icon",[t._v("\n                                    mdi-playlist-play\n                                ")]),t._v("\n                                Return all\n                            ")],1),t._v(" "),a("v-btn",{staticClass:"mr-2 primary--text cpoint",attrs:{flat:"",small:""},on:{click:function(a){return t.cancel_ret(e.item,0)}}},[a("v-icon",[t._v("\n                                    mdi-close\n                                ")]),t._v(" Cancel")],1)],1)]}}])},[t._v(" "),a("template",{slot:"no-data"},[a("v-progress-linear")],1),t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                        Your search for "'+t._s(t.search)+'" found no results.\n                    ')])],2),t._v(" "),a("span",[t._v("Click on return quantity to set it.")])],1),t._v(" "),a("v-card-text",[a("v-layout",[a("v-flex",{attrs:{sm7:""}}),t._v(" "),a("v-flex",{attrs:{sm5:""}},[a("v-container",{attrs:{"elevation-3":""}},[a("v-list",{attrs:{dense:""}},[a("v-list-tile",[a("v-list-tile-content",[t._v("Total Items:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[t._v(t._s(t.getRet.length))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",[t._v("Discount:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.getCurrentSales.discount_amount)+" [%"+t._s(t.getCurrentSales.discount_percentage)+"]")])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",[t._v("Original Cost:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.getCurrentSales.total))])],1),t._v(" "),a("v-divider"),t._v(" "),a("v-list-tile",[a("v-list-tile-content",{staticClass:"subheading"},[t._v("New Amount:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end subheading green--text text--darken-3"},[t._v("GH¢"+t._s(t.new_amt))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",{staticClass:"headline"},[t._v("Return Amt:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end headline red--text text--darken-3 "},[t._v("GH¢ "+t._s(t.ret_amt))])],1)],1)],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"orange darken-3",large:"",dark:""},nativeOn:{click:function(e){return t.generateInv(e)}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-undo-variant")]),t._v("Return Items")],1)],1)],1)],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}}),t._v(" "),a("v-snackbar",{attrs:{timeout:8e3,top:!0,right:"right"===t.x},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1)],1)},Sn=[],qn={render:In,staticRenderFns:Sn},Dn=qn,$n=a("VU/8"),Pn=g,Tn=$n(Cn,Dn,!1,Pn,"data-v-2f1a3780",null),En=Tn.exports,Nn=a("mtWM"),An={name:"make_sale",$_veeValidate:{validator:"new"},data:function(){return{ret_up:!1,loader:!1,hold_up:!1,hold_load:!1,reg_modes:["Sales Receipt","Proforma Invoice","Return","Cashier","Attendant"],reg_mode:"Proforma Invoice",loading:!1,inv_loading:!1,sales_active:!1,products:[],sale_invoices:[],invoicy:"",slug:"Make Payment",slug_color:"green darken-3",slug_icon:"mdi-cash-multiple",holdup:!0,inv_products:[],dialog:!1,reg_dialog:!1,pay_dialog:!1,cpay_dialog:!1,sus_dialog:!1,return_dialog:!1,c_invoice:"",customers:[],form_error_snack:!1,inv_search:!1,search:null,search_cus:null,select:null,inv_select:null,customer:null,side_items:[],select_cus:null,sales_foot:[{icon:!0,title:"Amount Due (Gh¢ ):",totalup:"Total Items:",total_items:0,total:"",discup:"Discount:",discount:"0%"}],sale_head:[{text:"Product",sortable:!1,value:"product_name",class:"subheading"},{text:"Qty",value:"quantity",class:"subheading"},{text:"Sub Total",value:"subtotal",class:"subheading"}],sale_up:[],items2:[{title:"Travis Howard",avatar:"https://cdn.vuetifyjs.com/images/lists/5.jpg"}],cus_list:[],product_list:[],invoice_list:[],sale_products:[],snack:!1,snackColor:"",snackText:"Sorry!!! Please Correct form errors.",max25chars:function(t){return t.length<=25||"Input too long!"},pagination:{},headers:[{text:"No.",align:"left",sortable:!1,value:"num",class:"subheading"},{text:"Product",align:"left",sortable:!1,value:"name",class:"subheading"},{text:"Price (GH¢)",align:"left",sortable:!1,value:"price",class:"subheading"},{text:"Form",align:"left",sortable:!1,value:"rt_unit",class:"subheading"},{text:"Av. Quantity",align:"left",sortable:!1,value:"rt_quantity",class:"subheading"},{text:"Sale Quantity",sortable:!1,value:"quantity",class:"subheading"},{text:"Discount",sortable:!1,value:"discount",class:"subheading"},{text:"Delete",sortable:!1,value:"action"}],sale_prod:[]}},mounted:function(){var t=this;"Not Set"!==this.getSession&&void 0!==this.getSession||(this.reg_dialog=!0),Wg.$on("fetch_cuslist",function(){t.loadCustomers()}),Wg.$on("close_dialog",function(e){t.dialog=e}),Wg.$on("form_error",function(e){t.form_error_snack=!0}),Wg.$on("close_dialog",function(e){t.snackbar=e}),Wg.$on("close_reg",function(e){t.reg_dialog=e}),Wg.$on("close_sus",function(e){t.sus_dialog=e}),Wg.$on("close_pay",function(e){t.pay_dialog=e}),Wg.$on("close_cpay",function(e){t.cpay_dialog=e}),Wg.$on("close_return",function(e){t.return_dialog=e}),Wg.$on("hold_up",function(e){t.hold_up=e}),Wg.$on("susRelease",function(e){if(t.sales_active)return t.snack=!0,t.snackText="Active Sale. Please Complete or clear current sale.",t.snackColor="red",!1;t.sales_active=!0;var a=e[0].sus_det;t.sale_prod=e[0].products,t.sale_up=e[0].products;var s=t.sale_prod.length,i=t.sale_prod.reduce(function(t,e){return t+parseFloat(e.sub_total)},0);t.sales_foot[0].total_items=s,t.sales_foot[0].discount=e[0].products[0].discount,t.sales_foot[0].total=i;var n={address:a.address,company:a.company,credit:a.credit,discount_amount:a.discount_amount,discount_percentage:a.discount_amount,email:a.email,firstname:a.firstname,id:a.cid,lastname:a.lastname,markup:a.markup,name:a.name,phone_no:a.phone_no,title:a.title};t.$store.commit("setSaleCustomer",n),Wg.$emit("changeCus")}),this.fetchSession(),this.setSide(),this.loadCustomers(),this.loadProducts(),this.loadBankAccounts(),this.setRegMode(),this.showHead(),this.$store.commit("setCurrentSales",[])},watch:{search:function(t){t&&t!==this.select&&this.querySelections(t)},inv_search:function(t){t&&t!==this.select&&this.inv_querySelections(t)},inv_select:function(t){var e=this.sale_invoices.filter(function(e){return e.invoice_no===t});if(this.sale_prod.filter(function(t){return t.invoice_no===e[0].invoice_no}).length>0)return this.sales_active=!1,this.snack=!0,this.snackColor="red",this.snackText="Sorry #"+e[0].invoice_no+" has already been added.",!1;this.sales_active=!0;var a={};this.sale_prod=[],this.sale_up=[];for(var s=0,i=e.length;s<i;s++){a=e[s];var n=a.quantity*a.price,r=yi()({},a,{sub_total:n,or_sub_total:n});this.sale_prod.unshift(r),this.sale_up.unshift(r)}var o=this.sale_prod.length,l=gi()(this.sale_prod).reduce(function(t,e){return t+parseFloat(e.sub_total)},0);this.sales_foot[0].total_items=o,this.sales_foot[0].total=l.toFixed(4),this.inv_select=null,this.c_invoice=a.invoice_no},search_cus:function(t){t&&t!==this.select_cus&&this.queryCus(t)},select:function(t){var e=this.sale_products.filter(function(e){return e.product_name===t});if(e[0].rt_quantity<=0)return alert("Sorry no quantities available for this product."),this.sales_active=!1,this.snack=!0,this.snackColor="red",this.snackText="Sorry Product "+e[0].product_name+" has "+e[0].rt_quantity+" quantity.",!1;if(this.sale_prod.filter(function(t){return t.product_name===e[0].product_name}).length>0)return this.sales_active=!1,this.snack=!0,this.snackColor="red",this.snackText="Sorry Product "+e[0].product_name+" has already been added.",!1;this.sales_active=!0;var a={};a=e[0];var s=a.quantity*a.price,i=yi()({},a,{sub_total:s,or_sub_total:s});this.sale_prod.unshift(i),this.sale_up.unshift(i);var n=this.sale_prod.length,r=gi()(this.sale_prod).reduce(function(t,e){return t+parseFloat(e.sub_total)},0),o=r.toFixed(2);this.sales_foot[0].total_items=n,this.sales_foot[0].total=o},reg_mode:function(t){switch(t){case"Sales Receipt":this.slug="MAKE PAYMENT",this.slug_color="green darken-3",this.slug_icon="mdi-cash-multiple",this.holdup=!0,this.ret_up=!1,this.cancelSale(),this.setProducts();break;case"Proforma Invoice":this.slug="GENERATE INVOICE",this.slug_color="grey darken-3",this.slug_icon="mdi-file-send",this.holdup=!1,this.ret_up=!1,this.cancelSale();break;case"Return":this.slug="RETURN ITEM",this.slug_color="orange darken-3",this.slug_icon="mdi-undo-variant",this.holdup=!1,this.ret_up=!0,this.cancelSale(),this.loadInvoice();break;case"Cashier":this.slug="RECEIVE PAYMENT",this.slug_color="secondary",this.slug_icon="mdi-cash-multiple",this.holdup=!1,this.ret_up=!0,this.cancelSale(),this.loadPendingInvoice();break;case"Attendant":this.slug="PRINT INVOICE",this.slug_color="orange darken-3",this.slug_icon="mdi-file-send",this.holdup=!0,this.ret_up=!1,this.cancelSale(),this.setProducts();break;default:this.slug="MAKE PAYMENT",this.slug_color="green darken-3",this.slug_icon="mdi-cash-multiple",this.holdup=!0,this.ret_up=!1,this.cancelSale()}}},computed:{apiSet:function(){return this.$store.getters.getApi},cusDialog:function(){return this.dialog},cusID:function(){return this.$store.getters.getCustomerID},getSession:function(){return this.$store.getters.getSalesSession.shift},getFullSession:function(){return this.$store.getters.getSalesSession},getCurrentProducts:function(){return this.$store.getters.getCurrentProducts},getCurrentSales:function(){return this.$store.getters.getCurrentSales},getSaleCus:function(){return this.$store.getters.getSaleCustomer},getUserData:function(){return this.$store.getters.getUserData},isUpdating:function(){return this.$store.getters.getIsUp},sale_prod_rt_quantity:function(){return this.sale_prod.rt_quantity}},methods:{showHead:function(){this.$store.commit("setHead",!0)},barcode_sale:function(){this.$router.push("/make_sale_barcode"),this.$store.commit("setSnack",{t:"Switched to - Search By Barcode",c:"green darken-3"})},setCashCus:function(){Wg.$emit("changeCus")},openCusDialog:function(){this.dialog=!0},openSessionDialog:function(){this.reg_dialog=!0},openSusDialog:function(){this.sus_dialog=!0},setRegMode:function(){return"W"===this.userData.role?(this.reg_mode="Sales Receipt",this.reg_modes=["Sales Receipt","Proforma Invoice","Return","Cashier"],!1):"C"===this.userData.role?(this.reg_mode="Cashier",this.reg_modes=["Sales Receipt","Proforma Invoice","Return","Cashier"],!1):"P"===this.userData.role?(this.reg_mode="Sales Receipt",this.reg_modes=["Sales Receipt","Proforma Invoice","Attendant"],!1):"PA"===this.userData.role?(this.reg_mode="Attendant",this.reg_modes=["Proforma Invoice","Attendant"],!1):"X"===this.userData.role?(this.reg_mode="Sales Receipt",this.reg_modes=["Sales Receipt","Proforma Invoice","Return","Cashier","Attendant"],!1):"A"===this.userData.role?(this.reg_mode="Sales Receipt",this.reg_modes=["Sales Receipt","Proforma Invoice","Return","Cashier","Attendant"],!1):void 0},openPayment:function(){if(this.loader=!0,!this.cusID)return this.snack=!0,this.snackText="Please select Customer ",this.snackColor="red",this.loader=!1,!1;if(this.sales_active){if(this.addCurr(),Wg.$emit("set_due",!1),"GENERATE INVOICE"===this.slug)return this.addCurr(),Wg.$emit("set_due",!1),this.$router.push("/proforma_invoice"),this.loader=!1,!1;if("PRINT INVOICE"===this.slug)return this.generateInv(),this.loader=!1,!1;if("RETURN ITEM"===this.slug)return this.addCurr(),Wg.$emit("set_due",!1),this.setCurrentProds(),this.loader=!1,this.return_dialog=!0,!1;if("RECEIVE PAYMENT"===this.slug)return this.addCurr(),Wg.$emit("set_due",!1),this.loader=!1,this.cpay_dialog=!0,!1;this.loader=!1,this.pay_dialog=!0}else this.snack=!0,this.snackText="Please add a product ",this.snackColor="red",this.loader=!1},generateInv:function(){var t=this;this.loader=!0,this.$store.commit("setIsUp",!0);var e={customer_id:this.cusID,outlet_id:this.userData.outlet_id,company_id:this.userData.company_id,user_id:this.userData.id,sale_status:0};Nn.post(this.apiSet.singleSaleTransaction,e).then(function(e){var a=e.data[1].sale_trans_id;t.doSalePayment(a)}).catch(function(t){console.log(t)})},setCurrentProds:function(){for(var t=this.getCurrentProducts,e=[],a=0;a<t.length;a++)e.push({product_name:t[a].product_name,or_quantity:t[a].quantity,ret_quantity:0,new_quantity:t[a].quantity,invoice_no:t[a].invoice_no,price:t[a].price,indiv_new_amt:t[a].price*t[a].quantity,indiv_ret_amt:0});this.$store.commit("setReturnees",e)},doSalePayment:function(t){var e=this,a=this.userData.company_name.charAt(0)+"-"+t+this.getCurrentSales.outlet_id,s={customer_id:this.cusID,outlet_id:this.userData.outlet_id,company_id:this.userData.company_id,user_id:this.userData.id,sale_status:0,sale_transaction_id:t,total_items:this.getCurrentSales.total_items,invoice_no:a,session:this.getFullSession.id,date_received:new Date};Nn.post(this.apiSet.singleSalePayment,s).then(function(s){var i=s.data[1].sale_payment_id;e.doSaleItems(t,i,a)}).catch(function(t){console.log(t)})},doSaleItems:function(t,e,a){var s={},i=this.getCurrentProducts;this.$store.commit("setInvoiceCS",a);for(var n=0,r=i.length;n<r;n++)s={customer_id:this.cusID,outlet_id:this.userData.outlet_id,company_id:this.userData.company_id,user_id:this.userData.id,sale_status:0,pack_size:i[n].rt_pack_size,sale_transaction_id:t,sale_payment_id:e,product_id:i[n].id,product_name:i[n].product_name,quantity:i[n].quantity,item_cost_price:i[n].price,item_selling_price:i[n].price,invoice_no:a,discount_percentage:i[n].discount,tax:i[n].price},Nn.post(this.apiSet.singleSaleItem,s).then(function(t){}).catch(function(t){console.log(t),this.er_snackbar=!0});this.loader=!1,this.$store.commit("setIsUp",!1),this.$router.push("/attendant_invoice")},fetchSession:function(){var t=this;this.hold_up=!0;var e=Lt()().format("Do MMM YYYY"),a={user_id:this.userData.id,ses_date:e};Nn.post(this.apiSet.singleSession,a).then(function(e){var a=e.data.data[0];a?(t.hold_up=!1,t.$store.commit("setSalesSession",a)):(t.reg_dialog=!0,t.hold_up=!1)}).catch(function(t){console.log(t)})},addCurr:function(){var t=this.sale_up,e=this.sales_foot[0],a=this.getSaleCus,s=this.getFullSession,i=this.getUserData;e.invoice_no=this.c_invoice;var n=yi()({},e,a,s,i);this.$store.commit("setCurrentSales",n),this.$store.commit("setCurrentProducts",t)},holdSale:function(){var t=this;if(this.hold_load=!0,!this.cusID)return this.snack=!0,this.snackText="Please select Customer ",this.snackColor="red",this.hold_load=!1,!1;if(this.sales_active){var e=(this.sale_up,this.sales_foot[0]),a=this.getSaleCus,s=(this.getFullSession,this.getUserData,new Date),i=s.getTime(),n=yi()({},e,a,{sus_code:i,company_id:this.userData.company_id,outlet_id:this.userData.outlet_id});console.log(n),Nn.post(this.apiSet.singleSuspended,n).then(function(e){console.log(e),t.snack=!0,t.snackText="Success. Sale was successfully suspended.",t.snackColor="green",t.hold_load=!1,t.sus_products(i)}).catch(function(e){t.snack=!0,t.snackText="Error.Sorry a network error occured.",t.snackColor="red",this.hold_load=!1})}else this.snack=!0,this.snackText="Please add a product ",this.snackColor="red",this.hold_load=!1},sus_products:function(t){for(var e=this.sale_prod,a=[],s=0,i=e.length;s<i;s++)a.push({company_id:this.userData.company_id,outlet_id:this.userData.outlet_id,product_id:e[s].id,product_name:e[s].product_name,quantity:e[s].quantity,or_quantity:e[s].or_quantity,rt_quantity:e[s].rt_quantity,price:e[s].price,discount:e[s].discount,sus_code:t,sub_total:e[s].sub_total});for(var n=0,r=a.length;n<r;n++)Nn.post(this.apiSet.singleSusProduct,a[n]).then(function(t){console.log(t),self.snack=!0,self.snackText="Success.Product Suspended.",self.snackColor="green",this.hold_load=!1}).catch(function(t){console.log(t),this.er_snackbar=!0,this.hold_load=!1});this.cancelSale()},cancelSale:function(){this.sale_up=[],this.sale_prod=[],this.search="",this.inv_search="",this.sales_foot=[{icon:!0,title:"Amount Due (Gh¢ ):",totalup:"Total Items:",total_items:0,total:"",discup:"Discount(%):",discount:"0%"}],this.sales_active=!1},setProducts:function(){for(var t=[],e=this.sale_products,a=0,s=e.length;a<s;a++)t.push(e[a].product_name);this.product_list=t,console.log(t)},loadProducts:function(){var t=this,e=this;Nn.get(this.apiSet.allProducts).then(function(t){var a=[];console.log(t.data.data);for(var s=t.data.data,i=0,n=s.length;i<n;i++)console.log(s[i].title),a.push({id:s[i].id,num:i,product_name:s[i].product_name,rt_quantity:s[i].rt_quantity,or_quantity:s[i].rt_quantity,quantity:1,rt_unit:s[i].rt_unit,price:s[i].selling_price,discount:0,expiry:s[i].expiry});e.sale_products=a,e.setProducts()}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},setInvoice:function(){for(var t=[],e=this.sale_invoices,a=0,s=e.length;a<s;a++)t.push(e[a].invoice_no);this.invoice_list=t},loadInvoice:function(){var t=this,e=this;this.invoice_list=[];var a={cid:this.userData.company_id,oid:this.userData.outlet_id};Nn.post(this.apiSet.postSaleInvoices,a).then(function(t){var a=[];console.log(t.data.data);for(var s=t.data.data,i=0,n=s.length;i<n;i++)console.log(s[i].title),a.push({id:s[i].product_id,num:i,product_name:s[i].product.product_name,rt_quantity:s[i].product.rt_quantity,or_quantity:s[i].product.rt_quantity,quantity:s[i].quantity,price:s[i].product.selling_price,discount:s[i].discount,invoice_no:s[i].invoice_no});e.sale_invoices=a,e.setInvoice()}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},loadPendingInvoice:function(){var t=this,e=this;this.invoice_list=[];var a={cid:this.userData.company_id,oid:this.userData.outlet_id};Nn.post(this.apiSet.pendingSaleInvoices,a).then(function(t){var a=[];console.log(t.data.data);for(var s=t.data.data,i=0,n=s.length;i<n;i++)console.log(s[i].title),a.push({id:s[i].product_id,num:i,product_name:s[i].product.product_name,rt_quantity:s[i].product.rt_quantity,or_quantity:s[i].product.rt_quantity,quantity:s[i].quantity,price:s[i].product.selling_price,discount:s[i].discount,invoice_no:s[i].invoice_no});e.sale_invoices=a,e.setInvoice()}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},loadCustomers:function(){for(var t=[],e=this.$store.getters.getCustomers,a=0,s=e.length;a<s;a++)console.log(e[a].title),t.push({name:e[a].firstname+" "+e[a].lastname});self.cus_list=t},setSide:function(){this.$store.commit("setDrawer",!1),this.$store.commit("setSideItems",this.side_items)},querySelections:function(t){var e=this;this.loading=!0,setTimeout(function(){e.products=e.product_list.filter(function(e){return(e||"").toLowerCase().indexOf((t||"").toLowerCase())>-1}),e.loading=!1},500)},inv_querySelections:function(t){var e=this;this.loading=!0,setTimeout(function(){e.inv_products=e.invoice_list,e.loading=!1},500)},q_save:function(t,e,a){var s=this,i=this.sale_up.indexOf(t);this.$validator.validateAll().then(function(t){if(!t)return s.form_error_snack=!0,s.snackText="Sorry you entered Invalid Quantity Value.",s.sale_prod[i].rt_quantity=1,!1;var n=parseFloat(a)-parseFloat(e);if(n<0)return alert("Sorry no quantities available for this product."),!1;var r=s.sale_up[i].quantity*s.sale_up[i].price;s.sale_up[i].sub_total=r.toFixed(4),s.sale_prod[i].rt_quantity=n;var o=gi()(s.sale_up).reduce(function(t,e){return t+parseFloat(e.sub_total)},0);s.sales_foot[0].total=o.toFixed(2),console.log(s.sale_up[i].sub_total)})},price_save:function(t,e,a){var s=this,i=this.sale_up.indexOf(t);this.$validator.validateAll().then(function(t){if(!t)return s.form_error_snack=!0,s.snackText="Sorry you entered Invalid Quantity Value.",s.sale_prod[i].rt_quantity=1,!1;var a=parseInt(s.sale_up[i].or_quantity)-parseInt(s.sale_prod[i].quantity),n=s.sale_up[i].quantity*e;s.sale_up[i].sub_total=n.toFixed(4),s.sale_prod[i].rt_quantity=a.toFixed(2);var r=gi()(s.sale_up).reduce(function(t,e){return t+parseFloat(e.sub_total)},0);s.sales_foot[0].total=r.toFixed(2)})},dis_save:function(t,e){var a=this,s=this.sale_up.indexOf(t);this.$validator.validateAll().then(function(t){if(!t)return a.form_error_snack=!0,a.snackText="Sorry you entered Invalid Discount Value.",a.sale_prod[s].discount=0,!1;var i=a.sale_up[s].or_sub_total*(1-.01*e);a.sale_up[s].sub_total=i;var n=gi()(a.sale_up).reduce(function(t,e){return t+parseFloat(e.sub_total)},0);a.sales_foot[0].total=n.toFixed(2),a.sales_foot[0].discount=e,console.log(a.sale_up[s].sub_total)})},del:function(t){var e=this.sale_up.indexOf(t);this.sale_up.splice(e,1),this.sale_prod.splice(e,1);var a=this.sale_prod.length,s=gi()(this.sale_up).reduce(function(t,e){return t+e.sub_total},0);this.sales_foot[0].total_items=a,this.sales_foot[0].total=s,0===a&&(this.sales_active=!1)},loadBankAccounts:function(){var t=this,e=this;Nn.get(this.apiSet.allBankAccounts).then(function(t){var a=t.data.data;e.$store.commit("setBankDrop",a)}).catch(function(e){console.log(e),t.err.push(e)})},cancel:function(){this.snack=!0,this.snackColor="error",this.snackText="Canceled"},open:function(){this.snack=!0,this.snackColor="info",this.snackText="Quantity opened"},close:function(){console.log("Dialog closed")}},components:{AddCus:Ni,OpenReg:Gi,OpenSus:en,OpenPayment:mn,OpenSpayment:kn,OpenReturn:En}},On=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("open-sus",{attrs:{sus_dialog:t.sus_dialog}}),t._v(" "),a("open-payment",{attrs:{pay_dialog:t.pay_dialog}}),t._v(" "),a("open-spayment",{attrs:{cpay_dialog:t.cpay_dialog}}),t._v(" "),a("open-return",{attrs:{return_dialog:t.return_dialog}}),t._v(" "),a("add-cus",{attrs:{dialog:t.dialog}}),t._v(" "),a("v-card",[a("v-flex",{attrs:{xs12:""}},[a("v-progress-linear",{staticClass:"ma-0",attrs:{active:t.isUpdating,color:"secondary",height:"2",indeterminate:""}})],1),t._v(" "),a("v-container",{attrs:{fluid:"","grid-list-lg":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs8:"",sm8:"",md8:""}},[a("v-card",{staticClass:"white--text",attrs:{color:"elevation-5 grey lighten-2"}},[a("v-card-actions",{staticClass:"pa-1"},[a("v-flex",{attrs:{sm4:""}},[a("v-select",{staticClass:"reg_mode pa-1",attrs:{items:t.reg_modes,label:"Register Mode",solo:"","offset-y":""},model:{value:t.reg_mode,callback:function(e){t.reg_mode=e},expression:"reg_mode"}})],1),t._v(" "),a("v-spacer"),t._v(" "),a("div",{staticClass:"mb-4"},[a("v-btn",{attrs:{small:"",dark:""},on:{click:t.openSessionDialog}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-av-timer")]),t._v(t._s(t.getSession)+" Shift")],1),t._v(" "),a("v-btn",{attrs:{dark:"",small:"",color:"secondary"},on:{click:t.openSusDialog}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-pause-circle-outline")]),t._v(" Suspended Sales")],1),t._v(" "),a("v-btn",{attrs:{dark:"",small:"",color:"primary"},on:{click:function(e){return t.$router.push("/my_sales")}}},[a("v-icon",{attrs:{color:"",left:""}},[t._v("mdi-cart-outline")]),t._v(" Daily Sales")],1)],1)],1),t._v(" "),a("transition",{attrs:{"enter-class":"fadeIn","enter-active-class":"flipInX","leave-active-class":"flipOutX","leave-class":"fadeOut",mode:"out-in",appear:""}},[t.ret_up?a("v-toolbar",{key:"inv",attrs:{dark:"",color:"secondary lighten-1","elevation-8":""}},[a("v-toolbar-title",[t._v("Find Invoice:")]),t._v(" "),a("v-autocomplete",{staticClass:"mx-3",attrs:{loading:t.inv_loading,items:t.inv_products,"search-input":t.inv_search,flat:"",clearable:"","hide-no-data":"","hide-details":"",label:"Start typing invoice number...","solo-inverted":""},on:{"update:searchInput":function(e){t.inv_search=e},"update:search-input":function(e){t.inv_search=e}},model:{value:t.inv_select,callback:function(e){t.inv_select=e},expression:"inv_select"}}),t._v(" "),a("v-btn",{attrs:{icon:""},on:{click:t.loadInvoice}},[a("v-icon",[t._v("refresh")])],1)],1):a("v-toolbar",{key:"prod",attrs:{dark:"",color:"primary lighten-1","elevation-8":""}},[a("v-toolbar-title",[t._v("Find Product:")]),t._v(" "),a("v-autocomplete",{staticClass:"mx-3",attrs:{loading:t.loading,items:t.products,"search-input":t.search,flat:"","persistent-hint":"",hint:"Please scan product","prepend-icon":"mdi-cart-plus",clearable:"","hide-no-data":"","hide-details":"",label:"Start typing product name...","solo-inverted":""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}}),t._v(" "),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",icon:""},on:{click:t.barcode_sale},slot:"activator"},[a("v-icon",[t._v("mdi-barcode-scan")])],1),t._v(" "),a("span",[t._v("Find Product Using Barcode")])],1)],1)],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.sale_prod,loading:!1,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.num))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.product_name))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[a("v-edit-dialog",{attrs:{"return-value":e.item.price,large:"",lazy:"",persistent:""},on:{"update:returnValue":function(a){return t.$set(e.item,"price",a)},"update:return-value":function(a){return t.$set(e.item,"price",a)},save:function(a){return t.price_save(e.item,e.item.price,e.item.or_price)},cancel:t.cancel,open:t.open,close:t.close}},[a("v-btn",{attrs:{small:"",color:"secondary",dark:""}},[t._v(t._s(e.item.price))]),t._v(" "),a("div",{staticClass:"mt-3 title",attrs:{slot:"input"},slot:"input"},[t._v("Update price")]),t._v(" "),a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal:4|required",expression:"'decimal:4|required'"}],attrs:{slot:"input",label:"Edit","single-line":"",autofocus:"","data-vv-name":"price",required:"","error-messages":t.errors.collect("price")},slot:"input",model:{value:e.item.price,callback:function(a){t.$set(e.item,"price",a)},expression:"props.item.price"}})],1)],1),t._v(" "),a("td",[t._v(t._s(e.item.rt_unit))]),t._v(" "),a("td",[t._v(t._s(e.item.rt_quantity))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[a("v-edit-dialog",{attrs:{"return-value":e.item.quantity,large:"",lazy:"",persistent:""},on:{"update:returnValue":function(a){return t.$set(e.item,"quantity",a)},"update:return-value":function(a){return t.$set(e.item,"quantity",a)},save:function(a){return t.q_save(e.item,e.item.quantity,e.item.or_quantity)},cancel:t.cancel,open:t.open,close:t.close}},[a("v-btn",{attrs:{small:"",color:"secondary",dark:""}},[t._v(t._s(e.item.quantity))]),t._v(" "),a("div",{staticClass:"mt-3 title",attrs:{slot:"input"},slot:"input"},[t._v("Update Quantity")]),t._v(" "),a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{slot:"input",label:"Edit","single-line":"",autofocus:"","data-vv-name":"quantity",required:"","error-messages":t.errors.collect("quantity")},slot:"input",model:{value:e.item.quantity,callback:function(a){t.$set(e.item,"quantity",a)},expression:"props.item.quantity"}})],1)],1),t._v(" "),a("td",{staticClass:"text-xs-left"},[a("v-edit-dialog",{attrs:{"return-value":e.item.discount,large:"",lazy:"",persistent:""},on:{"update:returnValue":function(a){return t.$set(e.item,"discount",a)},"update:return-value":function(a){return t.$set(e.item,"discount",a)},save:function(a){return t.dis_save(e.item,e.item.discount)},cancel:t.cancel,open:t.open,close:t.close}},[a("v-btn",{attrs:{color:"secondary",dark:"",small:""}},[t._v(t._s(e.item.discount))]),t._v(" "),a("div",{staticClass:"mt-3 title",attrs:{slot:"input"},slot:"input"},[t._v("Set Discount")]),t._v(" "),a("v-text-field",{attrs:{slot:"input",label:"Edit","single-line":"",autofocus:""},slot:"input",model:{value:e.item.discount,callback:function(a){t.$set(e.item,"discount",a)},expression:"props.item.discount"}})],1)],1),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{attrs:{color:"red",small:""},on:{click:function(a){return t.del(e.item)}}},[t._v("\n                                            mdi-delete\n                                        ")])],1)]}},{key:"pageText",fn:function(e){var a=e.pageStart,s=e.pageStop;return[t._v("\n                                    From "+t._s(a)+" to "+t._s(s)+"\n                                ")]}}])},[a("v-progress-linear",{attrs:{slot:"progress",height:"2",color:"blue",indeterminate:""},slot:"progress"}),t._v(" "),t._v(" "),a("template",{slot:"no-data"},[a("v-alert",{attrs:{value:!0,color:"grey lighten-1",icon:"warning"}},[t._v("\n                                        No Products Added, Please add products.\n                                    ")])],1)],2)],1)],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-card",{staticClass:"white--text pa-0",attrs:{color:"grey lighten-2"}},[a("v-flex",{attrs:{sm12:"",md12:""}},[t.cusID?t._e():a("v-btn",{staticClass:"primary enchill",attrs:{small:""},on:{click:t.openCusDialog}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-account-plus")]),t._v("New Customer")],1),t._v(" "),t.cusID?t._e():a("v-btn",{staticClass:"enchill",attrs:{small:"",flat:"",outline:""},on:{click:t.setCashCus}},[a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-rotate-right")]),t._v("Set Walk-in Customer")],1)],1),t._v(" "),a("v-spacer"),t._v(" "),a("set-customer"),t._v(" "),a("v-card-title",{attrs:{"primary-title":""}}),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.sale_head,items:t.sale_up,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.product_name))]),t._v(" "),a("td",[t._v(t._s(e.item.quantity))]),t._v(" "),a("td",[t._v(t._s(e.item.sub_total))])]}}])},[t._v(" "),a("template",{slot:"no-data"},[a("div",{staticClass:"centre grey--text"},[t._v("Please add a product")])])],2),t._v(" "),t.sales_active?a("v-list",{attrs:{"three-line":""}},t._l(t.sales_foot,function(e){return a("v-list-tile",{key:e.title,attrs:{avatar:""},on:{click:function(t){}}},[a("v-list-tile-content",[a("v-list-tile-title",{domProps:{textContent:t._s(e.totalup)}}),t._v(" "),a("v-list-tile-title",{domProps:{textContent:t._s(e.discup)}}),t._v(" "),a("v-list-tile-title",{domProps:{textContent:t._s(e.title)}})],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",{domProps:{textContent:t._s(e.total_items)}}),t._v(" "),a("v-list-tile-title",{domProps:{textContent:t._s(e.discount)}}),t._v(" "),a("v-list-tile-title",{staticClass:"green--text body text--darken-3",attrs:{"elevation-5":""},domProps:{textContent:t._s(e.total)}})],1)],1)}),1):t._e(),t._v(" "),a("v-spacer"),t._v(" "),a("v-divider",{}),t._v(" "),a("v-layout",[a("v-flex",{staticClass:"pt-0",attrs:{sm4:""}},[t.holdup?a("v-btn",{attrs:{dark:"",small:"",outline:"",loading:t.hold_load,color:"black"},on:{click:t.holdSale}},[a("v-icon",[t._v("mdi-pause")]),t._v("Hold")],1):t._e(),t._v(" "),a("v-btn",{attrs:{dark:"",small:"",flat:"",outline:"",color:"red darken-4"},on:{click:t.cancelSale}},[a("v-icon",[t._v("mdi-close")]),t._v("cancel")],1)],1),t._v(" "),a("v-flex",{attrs:{sm8:""}},[a("v-btn",{attrs:{large:"",loading:t.loader,color:t.slug_color,dark:""},on:{click:t.openPayment}},[a("v-icon",{attrs:{left:""}},[t._v(t._s(t.slug_icon))]),t._v(" "+t._s(t.slug))],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),a("open-reg",{attrs:{reg_dialog:t.reg_dialog,hold_up:t.hold_up}}),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.form_error_snack,callback:function(e){t.form_error_snack=e},expression:"form_error_snack"}},[t._v("\n            "+t._s(t.snackText)+"\n            "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.form_error_snack=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:8e3,top:!0,right:"right"===t.x},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n            "+t._s(t.snackText)+"\n            "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},Mn=[],Rn={render:On,staticRenderFns:Mn},jn=Rn,Yn=a("VU/8"),Fn=x,Un=Yn(An,jn,!1,Fn,"data-v-3346c6c0",null),zn=Un.exports,Vn=a("mtWM"),Bn={name:"make-sale-barcode",$_veeValidate:{validator:"new"},data:function(){return{ret_up:!1,loader:!1,hold_up:!1,hold_load:!1,reg_modes:["Sales Receipt","Proforma Invoice","Return","Cashier","Attendant"],reg_mode:"Proforma Invoice",loading:!1,inv_loading:!1,sales_active:!1,products:[],sale_invoices:[],invoicy:"",slug:"Make Payment",slug_color:"green darken-3",slug_icon:"mdi-cash-multiple",holdup:!0,inv_products:[],dialog:!1,reg_dialog:!1,pay_dialog:!1,cpay_dialog:!1,sus_dialog:!1,return_dialog:!1,c_invoice:"",customers:[],form_error_snack:!1,inv_search:!1,search:null,search_cus:null,select:null,inv_select:null,customer:null,side_items:[],select_cus:null,sales_foot:[{icon:!0,title:"Amount Due (Gh¢ ):",totalup:"Total Items:",total_items:0,total:"",discup:"Discount:",discount:"0%"}],sale_head:[{text:"Product",sortable:!1,value:"product_name",class:"subheading"},{text:"Qty",value:"quantity",class:"subheading"},{text:"Sub Total",value:"subtotal",class:"subheading"}],sale_up:[],items2:[{title:"Travis Howard",avatar:"https://cdn.vuetifyjs.com/images/lists/5.jpg"}],cus_list:[],product_list:[],invoice_list:[],sale_products:[],snack:!1,snackColor:"",snackText:"Sorry!!! Please Correct form errors.",max25chars:function(t){return t.length<=25||"Input too long!"},pagination:{},headers:[{text:"No.",align:"left",sortable:!1,value:"num",class:"subheading"},{text:"Product",align:"left",sortable:!1,value:"name",class:"subheading"},{text:"Price (GH¢)",align:"left",sortable:!1,value:"price",class:"subheading"},{text:"Form",align:"left",sortable:!1,value:"rt_unit",class:"subheading"},{text:"Av. Quantity",align:"left",sortable:!1,value:"rt_quantity",class:"subheading"},{text:"Sale Quantity",sortable:!1,value:"quantity",class:"subheading"},{text:"Discount",sortable:!1,value:"discount",class:"subheading"},{text:"Delete",sortable:!1,value:"action"}],sale_prod:[]}},mounted:function(){var t=this;"Not Set"!==this.getSession&&void 0!==this.getSession||(this.reg_dialog=!0),Wg.$on("fetch_cuslist",function(){t.loadCustomers()}),Wg.$on("close_dialog",function(e){t.dialog=e}),Wg.$on("form_error",function(e){t.form_error_snack=!0}),Wg.$on("close_dialog",function(e){t.snackbar=e}),Wg.$on("close_reg",function(e){t.reg_dialog=e}),Wg.$on("close_sus",function(e){t.sus_dialog=e}),Wg.$on("close_pay",function(e){t.pay_dialog=e}),Wg.$on("close_cpay",function(e){t.cpay_dialog=e}),Wg.$on("close_return",function(e){t.return_dialog=e}),Wg.$on("hold_up",function(e){t.hold_up=e}),Wg.$on("susRelease",function(e){if(t.sales_active)return t.snack=!0,t.snackText="Active Sale. Please Complete or clear current sale.",t.snackColor="red",!1;t.sales_active=!0;var a=e[0].sus_det;t.sale_prod=e[0].products,t.sale_up=e[0].products;var s=t.sale_prod.length,i=t.sale_prod.reduce(function(t,e){return t+parseFloat(e.sub_total)},0);t.sales_foot[0].total_items=s,t.sales_foot[0].discount=e[0].products[0].discount,t.sales_foot[0].total=i;var n={address:a.address,company:a.company,credit:a.credit,discount_amount:a.discount_amount,discount_percentage:a.discount_amount,email:a.email,firstname:a.firstname,id:a.cid,lastname:a.lastname,markup:a.markup,name:a.name,phone_no:a.phone_no,title:a.title};t.$store.commit("setSaleCustomer",n),Wg.$emit("changeCus")}),this.fetchSession(),this.setSide(),this.loadCustomers(),this.loadProducts(),this.loadBankAccounts(),this.setRegMode(),this.showHead(),this.$store.commit("setCurrentSales",[])},watch:{search:function(t){t&&t!==this.select&&this.querySelections(t)},inv_search:function(t){t&&t!==this.select&&this.inv_querySelections(t)},inv_select:function(t){var e=this.sale_invoices.filter(function(e){return e.invoice_no===t});if(this.sale_prod.filter(function(t){return t.invoice_no===e[0].invoice_no}).length>0)return this.sales_active=!1,this.snack=!0,this.snackColor="red",this.snackText="Sorry #"+e[0].invoice_no+" has already been added.",!1;this.sales_active=!0;var a={};this.sale_prod=[],this.sale_up=[];for(var s=0,i=e.length;s<i;s++){a=e[s];var n=a.quantity*a.price,r=yi()({},a,{sub_total:n,or_sub_total:n});this.sale_prod.unshift(r),this.sale_up.unshift(r)}var o=this.sale_prod.length,l=gi()(this.sale_prod).reduce(function(t,e){return t+parseFloat(e.sub_total)},0);this.sales_foot[0].total_items=o,this.sales_foot[0].total=l.toFixed(4),this.inv_select=null,this.c_invoice=a.invoice_no},search_cus:function(t){t&&t!==this.select_cus&&this.queryCus(t)},select:function(t){var e=this.sale_products.filter(function(e){return e.barcode===t});if(e[0].rt_quantity<=0)return alert("Sorry no quantities available for this product."),this.sales_active=!1,this.snack=!0,this.snackColor="red",this.snackText="Sorry Product "+e[0].product_name+" has "+e[0].rt_quantity+" quantity.",!1;if(this.sale_prod.filter(function(t){return t.product_name===e[0].product_name}).length>0)return this.sales_active=!1,this.snack=!0,this.snackColor="red",this.snackText="Sorry Product "+e[0].product_name+" has already been added.",!1;this.sales_active=!0;var a={};a=e[0];var s=a.quantity*a.price,i=yi()({},a,{sub_total:s,or_sub_total:s});this.sale_prod.unshift(i),this.sale_up.unshift(i);var n=this.sale_prod.length,r=gi()(this.sale_prod).reduce(function(t,e){return t+parseFloat(e.sub_total)},0),o=r.toFixed(2);this.sales_foot[0].total_items=n,this.sales_foot[0].total=o},reg_mode:function(t){switch(t){case"Sales Receipt":this.slug="MAKE PAYMENT",this.slug_color="green darken-3",this.slug_icon="mdi-cash-multiple",this.holdup=!0,this.ret_up=!1,this.cancelSale(),this.setProducts();break;case"Proforma Invoice":this.slug="GENERATE INVOICE",this.slug_color="grey darken-3",this.slug_icon="mdi-file-send",this.holdup=!1,this.ret_up=!1,this.cancelSale();break;case"Return":this.slug="RETURN ITEM",this.slug_color="orange darken-3",this.slug_icon="mdi-undo-variant",this.holdup=!1,this.ret_up=!0,this.cancelSale(),this.loadInvoice();break;case"Cashier":this.slug="RECEIVE PAYMENT",this.slug_color="secondary",this.slug_icon="mdi-cash-multiple",this.holdup=!1,this.ret_up=!0,this.cancelSale(),this.loadPendingInvoice();break;case"Attendant":this.slug="PRINT INVOICE",this.slug_color="orange darken-3",this.slug_icon="mdi-file-send",this.holdup=!0,this.ret_up=!1,this.cancelSale(),this.setProducts();break;default:this.slug="MAKE PAYMENT",this.slug_color="green darken-3",this.slug_icon="mdi-cash-multiple",this.holdup=!0,this.ret_up=!1,this.cancelSale()}}},computed:{apiSet:function(){return this.$store.getters.getApi},cusDialog:function(){return this.dialog},cusID:function(){return this.$store.getters.getCustomerID},getSession:function(){return this.$store.getters.getSalesSession.shift},getFullSession:function(){return this.$store.getters.getSalesSession},getCurrentProducts:function(){return this.$store.getters.getCurrentProducts},getCurrentSales:function(){return this.$store.getters.getCurrentSales},getSaleCus:function(){return this.$store.getters.getSaleCustomer},getUserData:function(){return this.$store.getters.getUserData},isUpdating:function(){return this.$store.getters.getIsUp},sale_prod_rt_quantity:function(){return this.sale_prod.rt_quantity}},methods:{showHead:function(){this.$store.commit("setHead",!0)},name_sale:function(){this.hold_up=!0,this.$router.push("/make_sale"),this.$store.commit("setSnack",{t:"Switched to - Search By Product Name",c:"green darken-3"})},setCashCus:function(){Wg.$emit("changeCus")},openCusDialog:function(){this.dialog=!0},openSessionDialog:function(){this.reg_dialog=!0},openSusDialog:function(){this.sus_dialog=!0},setRegMode:function(){return"W"===this.userData.role?(this.reg_mode="Sales Receipt",this.reg_modes=["Sales Receipt","Proforma Invoice","Return","Cashier"],!1):"C"===this.userData.role?(this.reg_mode="Cashier",this.reg_modes=["Sales Receipt","Proforma Invoice","Return","Cashier"],!1):"P"===this.userData.role?(this.reg_mode="Sales Receipt",this.reg_modes=["Sales Receipt","Proforma Invoice","Attendant"],!1):"PA"===this.userData.role?(this.reg_mode="Attendant",this.reg_modes=["Proforma Invoice","Attendant"],!1):"X"===this.userData.role?(this.reg_mode="Sales Receipt",this.reg_modes=["Sales Receipt","Proforma Invoice","Return","Cashier","Attendant"],!1):"A"===this.userData.role?(this.reg_mode="Sales Receipt",this.reg_modes=["Sales Receipt","Proforma Invoice","Return","Cashier","Attendant"],!1):void 0},openPayment:function(){if(this.loader=!0,!this.cusID)return this.snack=!0,this.snackText="Please select Customer ",this.snackColor="red",this.loader=!1,!1;if(this.sales_active){if(this.addCurr(),Wg.$emit("set_due",!1),"GENERATE INVOICE"===this.slug)return this.addCurr(),Wg.$emit("set_due",!1),this.$router.push("/proforma_invoice"),this.loader=!1,!1;if("PRINT INVOICE"===this.slug)return this.generateInv(),this.loader=!1,!1;if("RETURN ITEM"===this.slug)return this.addCurr(),Wg.$emit("set_due",!1),this.setCurrentProds(),this.loader=!1,this.return_dialog=!0,!1;if("RECEIVE PAYMENT"===this.slug)return this.addCurr(),Wg.$emit("set_due",!1),this.loader=!1,this.cpay_dialog=!0,!1;this.loader=!1,this.pay_dialog=!0}else this.snack=!0,this.snackText="Please add a product ",this.snackColor="red",this.loader=!1},generateInv:function(){var t=this;this.loader=!0,this.$store.commit("setIsUp",!0);var e={customer_id:this.cusID,outlet_id:this.userData.outlet_id,company_id:this.userData.company_id,user_id:this.userData.id,sale_status:0};Vn.post(this.apiSet.singleSaleTransaction,e).then(function(e){var a=e.data[1].sale_trans_id;t.doSalePayment(a)}).catch(function(t){console.log(t)})},setCurrentProds:function(){for(var t=this.getCurrentProducts,e=[],a=0;a<t.length;a++)e.push({product_name:t[a].product_name,or_quantity:t[a].quantity,ret_quantity:0,new_quantity:t[a].quantity,invoice_no:t[a].invoice_no,price:t[a].price,indiv_new_amt:t[a].price*t[a].quantity,indiv_ret_amt:0});this.$store.commit("setReturnees",e)},doSalePayment:function(t){var e=this,a=this.userData.company_name.charAt(0)+"-"+t+this.getCurrentSales.outlet_id,s={customer_id:this.cusID,outlet_id:this.userData.outlet_id,company_id:this.userData.company_id,user_id:this.userData.id,sale_status:0,sale_transaction_id:t,total_items:this.getCurrentSales.total_items,invoice_no:a,session:this.getFullSession.id,date_received:new Date};Vn.post(this.apiSet.singleSalePayment,s).then(function(s){var i=s.data[1].sale_payment_id;e.doSaleItems(t,i,a)}).catch(function(t){console.log(t)})},doSaleItems:function(t,e,a){var s={},i=this.getCurrentProducts;this.$store.commit("setInvoiceCS",a);for(var n=0,r=i.length;n<r;n++)s={customer_id:this.cusID,outlet_id:this.userData.outlet_id,company_id:this.userData.company_id,user_id:this.userData.id,sale_status:0,pack_size:i[n].rt_pack_size,sale_transaction_id:t,sale_payment_id:e,product_id:i[n].id,product_name:i[n].product_name,quantity:i[n].quantity,item_cost_price:i[n].price,item_selling_price:i[n].price,invoice_no:a,discount_percentage:i[n].discount,tax:i[n].price},Vn.post(this.apiSet.singleSaleItem,s).then(function(t){}).catch(function(t){console.log(t),this.er_snackbar=!0});this.loader=!1,this.$store.commit("setIsUp",!1),this.$router.push("/attendant_invoice")},fetchSession:function(){var t=this;this.hold_up=!0;var e=Lt()().format("Do MMM YYYY"),a={user_id:this.userData.id,ses_date:e};Vn.post(this.apiSet.singleSession,a).then(function(e){var a=e.data.data[0];a?(t.hold_up=!1,t.$store.commit("setSalesSession",a)):(t.reg_dialog=!0,t.hold_up=!1)}).catch(function(t){console.log(t)})},addCurr:function(){var t=this.sale_up,e=this.sales_foot[0],a=this.getSaleCus,s=this.getFullSession,i=this.getUserData;e.invoice_no=this.c_invoice;var n=yi()({},e,a,s,i);this.$store.commit("setCurrentSales",n),this.$store.commit("setCurrentProducts",t)},holdSale:function(){var t=this;if(this.hold_load=!0,!this.cusID)return this.snack=!0,this.snackText="Please select Customer ",this.snackColor="red",this.hold_load=!1,!1;if(this.sales_active){var e=(this.sale_up,this.sales_foot[0]),a=this.getSaleCus,s=(this.getFullSession,this.getUserData,new Date),i=s.getTime(),n=yi()({},e,a,{sus_code:i,company_id:this.userData.company_id,outlet_id:this.userData.outlet_id});Vn.post(this.apiSet.singleSuspended,n).then(function(e){t.snack=!0,t.snackText="Success. Sale was successfully suspended.",t.snackColor="green",t.hold_load=!1,t.sus_products(i)}).catch(function(e){t.snack=!0,t.snackText="Error.Sorry a network error occured.",t.snackColor="red",this.hold_load=!1})}else this.snack=!0,this.snackText="Please add a product ",this.snackColor="red",this.hold_load=!1},sus_products:function(t){for(var e=this.sale_prod,a=[],s=0,i=e.length;s<i;s++)a.push({company_id:this.userData.company_id,outlet_id:this.userData.outlet_id,product_id:e[s].id,product_name:e[s].product_name,quantity:e[s].quantity,or_quantity:e[s].or_quantity,rt_quantity:e[s].rt_quantity,price:e[s].price,discount:e[s].discount,sus_code:t,sub_total:e[s].sub_total});for(var n=0,r=a.length;n<r;n++)Vn.post(this.apiSet.singleSusProduct,a[n]).then(function(t){self.snack=!0,self.snackText="Success.Product Suspended.",self.snackColor="green",this.hold_load=!1}).catch(function(t){console.log(t),this.er_snackbar=!0,this.hold_load=!1});this.cancelSale()},cancelSale:function(){this.sale_up=[],this.sale_prod=[],this.search="",this.inv_search="",this.sales_foot=[{icon:!0,title:"Amount Due (Gh¢ ):",totalup:"Total Items:",total_items:0,total:"",discup:"Discount(%):",discount:"0%"}],this.sales_active=!1},setProducts:function(){for(var t=[],e=this.sale_products,a=0,s=e.length;a<s;a++)t.push(e[a].barcode);this.product_list=t},loadProducts:function(){var t=this,e=this;Vn.get(this.apiSet.allProducts).then(function(t){for(var a=[],s=t.data.data,i=0,n=s.length;i<n;i++)a.push({id:s[i].id,num:i,product_name:s[i].product_name,rt_quantity:s[i].rt_quantity,or_quantity:s[i].rt_quantity,quantity:1,rt_unit:s[i].rt_unit,barcode:s[i].barcode,price:s[i].selling_price,discount:0,expiry:s[i].expiry});e.sale_products=a,e.setProducts()}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},setInvoice:function(){for(var t=[],e=this.sale_invoices,a=0,s=e.length;a<s;a++)t.push(e[a].invoice_no);this.invoice_list=t},loadInvoice:function(){var t=this,e=this;this.invoice_list=[];var a={cid:this.userData.company_id,oid:this.userData.outlet_id};Vn.post(this.apiSet.postSaleInvoices,a).then(function(t){for(var a=[],s=t.data.data,i=0,n=s.length;i<n;i++)a.push({id:s[i].product_id,num:i,product_name:s[i].product.product_name,rt_quantity:s[i].product.rt_quantity,or_quantity:s[i].product.rt_quantity,quantity:s[i].quantity,price:s[i].product.selling_price,discount:s[i].discount,invoice_no:s[i].invoice_no});e.sale_invoices=a,e.setInvoice()}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},loadPendingInvoice:function(){var t=this,e=this;this.invoice_list=[];var a={cid:this.userData.company_id,oid:this.userData.outlet_id};Vn.post(this.apiSet.pendingSaleInvoices,a).then(function(t){for(var a=[],s=t.data.data,i=0,n=s.length;i<n;i++)a.push({id:s[i].product_id,num:i,product_name:s[i].product.product_name,rt_quantity:s[i].product.rt_quantity,or_quantity:s[i].product.rt_quantity,quantity:s[i].quantity,price:s[i].product.selling_price,discount:s[i].discount,invoice_no:s[i].invoice_no});e.sale_invoices=a,e.setInvoice()}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},loadCustomers:function(){for(var t=[],e=this.$store.getters.getCustomers,a=0,s=e.length;a<s;a++)t.push({name:e[a].firstname+" "+e[a].lastname});self.cus_list=t},setSide:function(){this.$store.commit("setDrawer",!1),this.$store.commit("setSideItems",this.side_items)},querySelections:function(t){var e=this;this.loading=!0,setTimeout(function(){e.products=e.product_list.filter(function(e){return(e||"").toLowerCase().indexOf((t||"").toLowerCase())>-1}),e.loading=!1,e.search=""},500)},inv_querySelections:function(t){var e=this;this.loading=!0,setTimeout(function(){e.inv_products=e.invoice_list,e.loading=!1},500)},barcodeGet:function(t){alert(t);var e=this.sale_products.filter(function(e){return e.barcode===t});if(e[0].rt_quantity<=0)return alert("Sorry no quantities available for this product."),this.sales_active=!1,this.snack=!0,this.snackColor="red",this.snackText="Sorry Product "+e[0].product_name+" has "+e[0].rt_quantity+" quantity.",!1;if(this.sale_prod.filter(function(t){return t.product_name===e[0].product_name}).length>0)return this.sales_active=!1,this.snack=!0,this.snackColor="red",this.snackText="Sorry Product "+e[0].product_name+" has already been added.",!1;this.sales_active=!0;var a={};a=e[0];var s=a.quantity*a.price,i=yi()({},a,{sub_total:s,or_sub_total:s});this.sale_prod.unshift(i),this.sale_up.unshift(i);var n=this.sale_prod.length,r=gi()(this.sale_prod).reduce(function(t,e){return t+parseFloat(e.sub_total)},0),o=r.toFixed(2);this.sales_foot[0].total_items=n,this.sales_foot[0].total=o},q_save:function(t,e,a){var s=this,i=this.sale_up.indexOf(t);this.$validator.validateAll().then(function(t){if(!t)return s.form_error_snack=!0,s.snackText="Sorry you entered Invalid Quantity Value.",s.sale_prod[i].rt_quantity=1,!1;var n=parseFloat(a)-parseFloat(e);if(n<0)return alert("Sorry no quantities available for this product."),!1;var r=s.sale_up[i].quantity*s.sale_up[i].price;s.sale_up[i].sub_total=r.toFixed(4),s.sale_prod[i].rt_quantity=n;var o=gi()(s.sale_up).reduce(function(t,e){return t+parseFloat(e.sub_total)},0);s.sales_foot[0].total=o.toFixed(2)})},price_save:function(t,e,a){var s=this,i=this.sale_up.indexOf(t);this.$validator.validateAll().then(function(t){if(!t)return s.form_error_snack=!0,s.snackText="Sorry you entered Invalid Quantity Value.",s.sale_prod[i].rt_quantity=1,!1;var a=parseInt(s.sale_up[i].or_quantity)-parseInt(s.sale_prod[i].quantity),n=s.sale_up[i].quantity*e;s.sale_up[i].sub_total=n.toFixed(4),s.sale_prod[i].rt_quantity=a.toFixed(2);var r=gi()(s.sale_up).reduce(function(t,e){return t+parseFloat(e.sub_total)},0);s.sales_foot[0].total=r.toFixed(2)})},dis_save:function(t,e){var a=this,s=this.sale_up.indexOf(t);this.$validator.validateAll().then(function(t){if(!t)return a.form_error_snack=!0,a.snackText="Sorry you entered Invalid Discount Value.",a.sale_prod[s].discount=0,!1;var i=a.sale_up[s].or_sub_total*(1-.01*e);a.sale_up[s].sub_total=i;var n=gi()(a.sale_up).reduce(function(t,e){return t+parseFloat(e.sub_total)},0);a.sales_foot[0].total=n.toFixed(2),a.sales_foot[0].discount=e})},del:function(t){var e=this.sale_up.indexOf(t);this.sale_up.splice(e,1),this.sale_prod.splice(e,1);var a=this.sale_prod.length,s=gi()(this.sale_up).reduce(function(t,e){return t+e.sub_total},0);this.sales_foot[0].total_items=a,this.sales_foot[0].total=s,0===a&&(this.sales_active=!1)},loadBankAccounts:function(){var t=this,e=this;Vn.get(this.apiSet.allBankAccounts).then(function(t){var a=t.data.data;e.$store.commit("setBankDrop",a)}).catch(function(e){console.log(e),t.err.push(e)})},cancel:function(){this.snack=!0,this.snackColor="error",this.snackText="Canceled"},open:function(){this.snack=!0,this.snackColor="info",this.snackText="Quantity opened"},close:function(){console.log("Dialog closed")}},components:{AddCus:Ni,OpenReg:Gi,OpenSus:en,OpenPayment:mn,OpenSpayment:kn,OpenReturn:En}},Gn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("open-sus",{attrs:{sus_dialog:t.sus_dialog}}),t._v(" "),a("open-payment",{attrs:{pay_dialog:t.pay_dialog}}),t._v(" "),a("open-spayment",{attrs:{cpay_dialog:t.cpay_dialog}}),t._v(" "),a("open-return",{attrs:{return_dialog:t.return_dialog}}),t._v(" "),a("add-cus",{attrs:{dialog:t.dialog}}),t._v(" "),a("v-card",[a("v-flex",{attrs:{xs12:""}},[a("v-progress-linear",{staticClass:"ma-0",attrs:{active:t.isUpdating,color:"secondary",height:"2",indeterminate:""}})],1),t._v(" "),a("v-container",{attrs:{fluid:"","grid-list-lg":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs8:"",sm8:"",md8:""}},[a("v-card",{staticClass:"white--text",attrs:{color:"elevation-5 grey lighten-2"}},[a("v-card-actions",{staticClass:"pa-1"},[a("v-flex",{attrs:{sm4:""}},[a("v-select",{staticClass:"reg_mode pa-1",attrs:{items:t.reg_modes,label:"Register Mode",solo:"","offset-y":""},model:{value:t.reg_mode,callback:function(e){t.reg_mode=e},expression:"reg_mode"}})],1),t._v(" "),a("v-spacer"),t._v(" "),a("div",{staticClass:"mb-4"},[a("v-btn",{attrs:{small:"",dark:""},on:{click:t.openSessionDialog}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-av-timer")]),t._v(t._s(t.getSession)+" Shift")],1),t._v(" "),a("v-btn",{attrs:{dark:"",small:"",color:"secondary"},on:{click:t.openSusDialog}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-pause-circle-outline")]),t._v(" Suspended Sales")],1),t._v(" "),a("v-btn",{attrs:{dark:"",small:"",color:"primary"},on:{click:function(e){return t.$router.push("/my_sales")}}},[a("v-icon",{attrs:{color:"",left:""}},[t._v("mdi-cart-outline")]),t._v(" Daily Sales")],1)],1)],1),t._v(" "),a("transition",{attrs:{"enter-class":"fadeIn","enter-active-class":"flipInX","leave-active-class":"flipOutX","leave-class":"fadeOut",mode:"out-in",appear:""}},[t.ret_up?a("v-toolbar",{key:"inv",attrs:{dark:"",color:"secondary lighten-1","elevation-8":""}},[a("v-toolbar-title",[t._v("Find Invoice:")]),t._v(" "),a("v-autocomplete",{staticClass:"mx-3",attrs:{loading:t.inv_loading,items:t.inv_products,"search-input":t.inv_search,flat:"",clearable:"","hide-no-data":"","hide-details":"",label:"Start typing invoice number...","solo-inverted":""},on:{"update:searchInput":function(e){t.inv_search=e},"update:search-input":function(e){t.inv_search=e}},model:{value:t.inv_select,callback:function(e){t.inv_select=e},expression:"inv_select"}}),t._v(" "),a("v-btn",{attrs:{icon:""},on:{click:t.loadInvoice}},[a("v-icon",[t._v("refresh")])],1)],1):a("v-toolbar",{key:"prod",attrs:{dark:"",color:"primary lighten-1","elevation-8":""}},[a("v-toolbar-title",[t._v("Find Product:")]),t._v(" "),a("v-autocomplete",{staticClass:"mx-3",attrs:{loading:t.loading,items:t.products,"search-input":t.search,"prepend-icon":"mdi-barcode",flat:"","auto-focus":"",clearable:"","hide-no-data":"","hide-details":"",label:"Scan Barcode here ...","solo-inverted":""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}}),t._v(" "),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",icon:""},on:{click:t.name_sale},slot:"activator"},[a("v-icon",[t._v("mdi-cart-plus")])],1),t._v(" "),a("span",[t._v("Find Product Using Product Name")])],1)],1)],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.sale_prod,loading:!1,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.num))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.product_name))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[a("v-edit-dialog",{attrs:{"return-value":e.item.price,large:"",lazy:"",persistent:""},on:{"update:returnValue":function(a){return t.$set(e.item,"price",a)},"update:return-value":function(a){return t.$set(e.item,"price",a)},save:function(a){return t.price_save(e.item,e.item.price,e.item.or_price)},cancel:t.cancel,open:t.open,close:t.close}},[a("v-btn",{attrs:{small:"",color:"secondary",dark:""}},[t._v(t._s(e.item.price))]),t._v(" "),a("div",{staticClass:"mt-3 title",attrs:{slot:"input"},slot:"input"},[t._v("Update price")]),t._v(" "),a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal:4|required",expression:"'decimal:4|required'"}],attrs:{slot:"input",label:"Edit","single-line":"",autofocus:"","data-vv-name":"price",required:"","error-messages":t.errors.collect("price")},slot:"input",model:{value:e.item.price,callback:function(a){t.$set(e.item,"price",a)},expression:"props.item.price"}})],1)],1),t._v(" "),a("td",[t._v(t._s(e.item.rt_unit))]),t._v(" "),a("td",[t._v(t._s(e.item.rt_quantity))]),t._v(" "),a("td",{staticClass:"text-xs-left"},[a("v-edit-dialog",{attrs:{"return-value":e.item.quantity,large:"",lazy:"",persistent:""},on:{"update:returnValue":function(a){return t.$set(e.item,"quantity",a)},"update:return-value":function(a){return t.$set(e.item,"quantity",a)},save:function(a){return t.q_save(e.item,e.item.quantity,e.item.or_quantity)},cancel:t.cancel,open:t.open,close:t.close}},[a("v-btn",{attrs:{small:"",color:"secondary",dark:""}},[t._v(t._s(e.item.quantity))]),t._v(" "),a("div",{staticClass:"mt-3 title",attrs:{slot:"input"},slot:"input"},[t._v("Update Quantity")]),t._v(" "),a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{slot:"input",label:"Edit","single-line":"",autofocus:"","data-vv-name":"quantity",required:"","error-messages":t.errors.collect("quantity")},slot:"input",model:{value:e.item.quantity,callback:function(a){t.$set(e.item,"quantity",a)},expression:"props.item.quantity"}})],1)],1),t._v(" "),a("td",{staticClass:"text-xs-left"},[a("v-edit-dialog",{attrs:{"return-value":e.item.discount,large:"",lazy:"",persistent:""},on:{"update:returnValue":function(a){return t.$set(e.item,"discount",a)},"update:return-value":function(a){return t.$set(e.item,"discount",a)},save:function(a){return t.dis_save(e.item,e.item.discount)},cancel:t.cancel,open:t.open,close:t.close}},[a("v-btn",{attrs:{color:"secondary",dark:"",small:""}},[t._v(t._s(e.item.discount))]),t._v(" "),a("div",{staticClass:"mt-3 title",attrs:{slot:"input"},slot:"input"},[t._v("Set Discount")]),t._v(" "),a("v-text-field",{attrs:{slot:"input",label:"Edit","single-line":"",autofocus:""},slot:"input",model:{value:e.item.discount,callback:function(a){t.$set(e.item,"discount",a)},expression:"props.item.discount"}})],1)],1),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{attrs:{color:"red",small:""},on:{click:function(a){return t.del(e.item)}}},[t._v("\n                                            mdi-delete\n                                        ")])],1)]}},{key:"pageText",fn:function(e){var a=e.pageStart,s=e.pageStop;return[t._v("\n                                    From "+t._s(a)+" to "+t._s(s)+"\n                                ")]}}])},[a("v-progress-linear",{attrs:{slot:"progress",height:"2",color:"blue",indeterminate:""},slot:"progress"}),t._v(" "),t._v(" "),a("template",{slot:"no-data"},[a("v-alert",{attrs:{value:!0,color:"grey lighten-1",icon:"warning"}},[t._v("\n                                        No Products Added, Please add products.\n                                    ")])],1)],2)],1)],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm4:"",md4:""}},[a("v-card",{staticClass:"white--text pa-0",attrs:{color:"grey lighten-2"}},[a("v-flex",{attrs:{sm12:"",md12:""}},[t.cusID?t._e():a("v-btn",{staticClass:"primary enchill",attrs:{small:""},on:{click:t.openCusDialog}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-account-plus")]),t._v("New Customer")],1),t._v(" "),t.cusID?t._e():a("v-btn",{staticClass:"enchill",attrs:{small:"",flat:"",outline:""},on:{click:t.setCashCus}},[a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-rotate-right")]),t._v("Set Walk-in Customer")],1)],1),t._v(" "),a("v-spacer"),t._v(" "),a("set-customer"),t._v(" "),a("v-card-title",{attrs:{"primary-title":""}}),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.sale_head,items:t.sale_up,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.product_name))]),t._v(" "),a("td",[t._v(t._s(e.item.quantity))]),t._v(" "),a("td",[t._v(t._s(e.item.sub_total))])]}}])},[t._v(" "),a("template",{slot:"no-data"},[a("div",{staticClass:"centre grey--text"},[t._v("Please add a product")])])],2),t._v(" "),t.sales_active?a("v-list",{attrs:{"three-line":""}},t._l(t.sales_foot,function(e){return a("v-list-tile",{key:e.title,attrs:{avatar:""},on:{click:function(t){}}},[a("v-list-tile-content",[a("v-list-tile-title",{domProps:{textContent:t._s(e.totalup)}}),t._v(" "),a("v-list-tile-title",{domProps:{textContent:t._s(e.discup)}}),t._v(" "),a("v-list-tile-title",{domProps:{textContent:t._s(e.title)}})],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",{domProps:{textContent:t._s(e.total_items)}}),t._v(" "),a("v-list-tile-title",{domProps:{textContent:t._s(e.discount)}}),t._v(" "),a("v-list-tile-title",{staticClass:"green--text body text--darken-3",attrs:{"elevation-5":""},domProps:{textContent:t._s(e.total)}})],1)],1)}),1):t._e(),t._v(" "),a("v-spacer"),t._v(" "),a("v-divider",{}),t._v(" "),a("v-layout",[a("v-flex",{staticClass:"pt-0",attrs:{sm4:""}},[t.holdup?a("v-btn",{attrs:{dark:"",small:"",outline:"",loading:t.hold_load,color:"black"},on:{click:t.holdSale}},[a("v-icon",[t._v("mdi-pause")]),t._v("Hold")],1):t._e(),t._v(" "),a("v-btn",{attrs:{dark:"",small:"",flat:"",outline:"",color:"red darken-4"},on:{click:t.cancelSale}},[a("v-icon",[t._v("mdi-close")]),t._v("cancel")],1)],1),t._v(" "),a("v-flex",{attrs:{sm8:""}},[a("v-btn",{attrs:{large:"",loading:t.loader,color:t.slug_color,dark:""},on:{click:t.openPayment}},[a("v-icon",{attrs:{left:""}},[t._v(t._s(t.slug_icon))]),t._v(" "+t._s(t.slug))],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),a("open-reg",{attrs:{reg_dialog:t.reg_dialog,hold_up:t.hold_up}}),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.form_error_snack,callback:function(e){t.form_error_snack=e},expression:"form_error_snack"}},[t._v("\n            "+t._s(t.snackText)+"\n            "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.form_error_snack=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:8e3,top:!0,right:"right"===t.x},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n            "+t._s(t.snackText)+"\n            "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},Hn=[],Ln={render:Gn,staticRenderFns:Hn},Wn=Ln,Qn=a("VU/8"),Zn=y,Xn=Qn(Bn,Wn,!1,Zn,"data-v-7429b209",null),Jn=Xn.exports,Kn={name:"Invoice",computed:{csales:function(){return this.$store.getters.getCurrentSales},cprod:function(){return this.$store.getters.getCurrentProducts},userData:function(){return this.$store.getters.getUserData},apiSet:function(){return this.$store.getters.getApi}},mounted:function(){this.hideHead(),this.doSaleBuffer()},methods:{doSaleBuffer:function(){var t=this,e={invoice_no:this.csales.invoice_no,cid:this.userData.company_id,oid:this.userData.outlet_id,uid:this.userData.id,user_name:this.csales.user_name,payment_type:this.csales.payment_type,total_items:this.csales.total_items,total:this.csales.total,amount_tendered:this.csales.amount_tendered,change_due:this.csales.change_due,discount:this.csales.discount,name:this.csales.name,date_printed:new Date};axios.post(this.apiSet.c_sales,e).then(function(e){t.doProdBuffer(t.csales.invoice_no)}).catch(function(t){console.log(t)})},doProdBuffer:function(t){for(var e={},a=this.cprod,s=0,i=a.length;s<i;s++)e={oid:this.userData.outlet_id,cid:this.userData.company_id,product_name:a[s].product_name,quantity:a[s].quantity,price:a[s].price,invoice_no:t,discount:a[s].discount},axios.post(this.apiSet.c_prod,e).then(function(t){console.log(t)}).catch(function(t){console.log(t),this.er_snackbar=!0})},print:function(){window.print()},hideHead:function(){this.$store.commit("setHead",!1)}}},tr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-invoice scrollable"},[a("v-flex",{staticClass:"animated toolbar fadeInRight mb-2"},[a("v-btn",{attrs:{color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-arrow-left-thick")]),t._v("Go Back")],1),t._v(" "),a("v-btn",{attrs:{color:"secondary",small:""},on:{click:t.print}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-printer")]),t._v("Print")],1)],1),t._v(" "),a("div",{staticClass:"invoice"},[a("header",[a("h2",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.userData.company_name))]),t._v(" "),a("v-layout",[a("v-flex",[a("span",{staticStyle:{"text-align":"center"}},[a("p",{staticClass:"head head_font"},[t._v("Tel: "+t._s(t.userData.company_phone_no)),a("br"),t._v("\n                    Outlet: "+t._s(t.userData.outlet_name)+" "),a("br"),t._v(" "),t._v("\n                    Date: "+t._s((new Date).toDateString())+"\n                ")])])])],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{sm6:""}},[a("div",[a("p",{staticClass:"head_font"},[a("b",[t._v("#Invoice No: ")]),t._v(t._s(t.csales.invoice_no)+" "),a("br"),t._v(" "),a("b",[t._v("Cashier Name:")]),t._v(" "+t._s(t.csales.user_name)),a("br"),t._v(" "),a("b",[t._v("Payment Mode:")]),t._v(" "+t._s(t.csales.payment_type)+"\n                        ")])])])],1)],1),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"invoice-bottom"},[a("table",[t._m(0),t._v(" "),a("tbody",[t._l(t.cprod,function(e,s){return a("tr",{staticClass:"ench"},[a("td",{staticClass:"name"},[t._v(t._s(e.product_name))]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(e.quantity))]),t._v(" "),a("td",[t._v(t._s(e.price))]),t._v(" "),a("td",{staticStyle:{"text-align":"center",width:"20px"}},[a("span",{staticStyle:{width:"20px"}},[t._v(t._s(parseFloat(e.price)*parseFloat(e.quantity)))])])])}),t._v(" "),a("hr",{staticClass:"mt-2 white"}),t._v(" "),a("tr",{staticClass:"mt-2"},[a("td"),t._v(" "),a("td"),t._v(" "),t._m(1),t._v(" "),a("td",[a("span"),a("span",[t._v(t._s(t.csales.total))])])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td"),t._v(" "),t._m(2),t._v(" "),a("td",[a("span"),a("span",[t._v(t._s(t.csales.amount_tendered))])])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td"),t._v(" "),t._m(3),t._v(" "),a("td",[t._v(t._s(t.csales.change_due))])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td"),t._v(" "),t._m(4),t._v(" "),a("td",[t._v(t._s(t.csales.discount))])])],2),t._v(" "),a("tfoot",[a("tr",[a("td"),t._v(" "),a("td"),t._v(" "),t._m(5),t._v(" "),a("td",{staticClass:"payment"},[a("h3",[t._v(" "+t._s(t.csales.total))])])])])]),t._v(" "),a("aside",[a("v-divider"),t._v(" "),a("div",{staticClass:"tems mt-4"},[t._v("\n                    "+t._s(t.userData.company_slogan)+"\n                ")]),t._v(" "),t._m(6)],1)])])],1)},er=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Product")]),t._v(" "),a("th",[t._v("Qty")]),t._v(" "),a("th",[t._v("Price")]),t._v(" "),a("th",[t._v("Total")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("b",[t._v("Amt Due")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("b",[t._v("Tendered")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("b",[t._v("Change")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("b",[t._v("Discount")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticClass:"Rate"},[a("h3",[t._v("Total GH¢")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-4"},[a("small",{staticClass:"vsmall grey--text "},[t._v("Powered By WorkIT Facility Management System")])])}],ar={render:tr,staticRenderFns:er},sr=ar,ir=a("VU/8"),nr=k,rr=ir(Kn,sr,!1,nr,"data-v-7fc64ee9",null),or=rr.exports,lr={name:"Invoice",computed:{csales:function(){return this.$store.getters.getCurrentSales},cprod:function(){return this.$store.getters.getCurrentProducts},userData:function(){return this.$store.getters.getUserData},apiSet:function(){return this.$store.getters.getApi}},mounted:function(){this.hideHead(),this.doSaleBuffer()},methods:{doSaleBuffer:function(){var t=this,e={invoice_no:this.csales.invoice_no,cid:this.userData.company_id,oid:this.userData.outlet_id,uid:this.userData.id,user_name:this.csales.user_name,payment_type:this.csales.payment_type,total_items:this.csales.total_items,total:this.csales.total,amount_tendered:this.csales.amount_tendered,change_due:this.csales.change_due,discount:this.csales.discount,name:this.csales.name,date_printed:new Date};axios.post(this.apiSet.c_sales,e).then(function(e){t.doProdBuffer(t.csales.invoice_no)}).catch(function(t){console.log(t)})},doProdBuffer:function(t){for(var e={},a=this.cprod,s=0,i=a.length;s<i;s++)e={oid:this.userData.outlet_id,cid:this.userData.company_id,product_name:a[s].product_name,quantity:a[s].quantity,price:a[s].price,invoice_no:t,discount:a[s].discount},axios.post(this.apiSet.c_prod,e).then(function(t){console.log(t)}).catch(function(t){console.log(t),this.er_snackbar=!0})},print:function(){window.print()},hideHead:function(){this.$store.commit("setHead",!1)}}},cr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-invoice scrollable"},[a("v-flex",{staticClass:"animated toolbar fadeInRight mb-2"},[a("v-btn",{attrs:{color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-arrow-left-thick")]),t._v("Go Back")],1),t._v(" "),a("v-btn",{attrs:{color:"secondary",small:""},on:{click:t.print}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-printer")]),t._v("Print")],1)],1),t._v(" "),a("div",{staticClass:"invoice"},[a("header",[a("h1",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.userData.company_name))]),t._v(" "),a("v-layout",[a("v-flex",[a("span",{staticStyle:{"text-align":"center"}},[a("p",{staticClass:"head head_font"},[t._v("Tel: "+t._s(t.userData.company_phone_no)),a("br"),t._v("\n                    Outlet: "+t._s(t.userData.outlet_name)+" "),a("br"),t._v(" "),t._v("\n                    Date: "+t._s((new Date).toDateString())+"\n                ")])])])],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{sm6:""}},[a("div",[a("p",{staticClass:"head_font"},[a("b",[t._v("#Invoice No: ")]),t._v(t._s(t.csales.invoice_no)+" "),a("br"),t._v(" "),a("b",[t._v("Cashier Name:")]),t._v(" "+t._s(t.csales.user_name)),a("br"),t._v(" "),a("b",[t._v("Payment Mode:")]),t._v(" "+t._s(t.csales.payment_type)+"\n                        ")])])])],1)],1),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"invoice-bottom"},[a("table",[t._m(0),t._v(" "),a("tbody",[t._l(t.cprod,function(e,s){return a("tr",[a("td",{staticClass:"name"},[a("span",[t._v(t._s(e.product_name))])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("span",[t._v(t._s(e.quantity))])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("span",[t._v(t._s(e.price))])]),t._v(" "),a("td",{staticStyle:{"text-align":"center",width:"20px"}},[a("span",{staticStyle:{width:"20px"}},[t._v(t._s(parseFloat(e.price)*parseFloat(e.quantity)))])])])}),t._v(" "),a("tr",[a("td"),t._v(" "),a("td"),t._v(" "),t._m(1),t._v(" "),a("td",[a("span"),a("span",[t._v(t._s(t.csales.total))])])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td"),t._v(" "),t._m(2),t._v(" "),a("td",[a("span"),a("span",[t._v(t._s(t.csales.amount_tendered))])])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td"),t._v(" "),t._m(3),t._v(" "),a("td",[t._v(t._s(t.csales.discount))])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td"),t._v(" "),t._m(4),t._v(" "),a("td",[t._v(t._s(t.csales.change_due))])])],2),t._v(" "),a("tfoot",[a("tr",[a("td"),t._v(" "),a("td"),t._v(" "),t._m(5),t._v(" "),a("td",{staticClass:"payment"},[a("h2",[t._v(" "+t._s(t.csales.total))])])])])]),t._v(" "),a("p",{staticClass:"head_font pull"},[a("b",[t._v("Amount Due:")]),t._v(" "),a("i",[t._v(t._s(t.csales.total)+" 2323")]),a("br"),t._v(" "),a("b",[t._v("Tendered:")]),t._v(" "+t._s(t.csales.amount_tendered)+" 2323"),a("br"),t._v(" "),a("b",[t._v("Change Due:")]),t._v(" "+t._s(t.csales.change_due)+" 2323"),a("br"),t._v(" "),a("b",[t._v("Discount:")]),t._v(" "+t._s(t.csales.discount)+" 2323"),a("br")]),t._v(" "),a("aside",[a("v-divider"),t._v(" "),a("div",{staticClass:"tems mt-4"},[t._v("\n                    "+t._s(t.userData.company_slogan)+"\n                ")]),t._v(" "),t._m(6)],1)])])],1)},dr=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Product")]),t._v(" "),a("th",[t._v("Qty")]),t._v(" "),a("th",[t._v("Price")]),t._v(" "),a("th",[t._v("Sub-total")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("b",[t._v("Amt Due")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("b",[t._v("Tendered")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("b",[t._v("Change")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("b",[t._v("Discount")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticClass:"Rate"},[a("h2",[t._v("Total GH¢")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-4"},[a("small",{staticClass:"vsmall grey--text "},[t._v("Powered By WorkIT Facility Management System")])])}],ur={render:cr,staticRenderFns:dr},mr=ur,vr=a("VU/8"),_r=w,pr=vr(lr,mr,!1,_r,"data-v-ec132ba0",null),hr=pr.exports,fr=a("mtWM"),br={name:"purchase_view",data:function(){return{cssText:'  @page { size: A4 portrait }\n    .vsmall{\n        font-size:20px;         text-align:center;\n    }\n    p b{\n        font-weight:bold;\n    }\n    .tems{\n        text-align:center;\n        position:relative;\n        bottom:10px;\n        color:grey;\n        font-size:20px;\n    }\n    .mid{\n        text-align:center;\n        position:relative;\n        left:15px;\n    }\n    .round_end{\n        border-radius:5px 5px 0px 0px;\n        border:1px dashed gray;\n        width:auto;\n        height:auto;\n    }\n    .pulse {\n        animation: opacityPulse 1s ease-out;\n        animation-iteration-count: infinite;\n        opacity: 0;\n    }\n    @-webkit-keyframes opacityPulse {\n        0% {opacity: 0.0;}\n        50% {opacity: 1.0;}\n        100% {opacity: 0.0;}\n    }\n    body{\n        background:#EEE;\n        /* font-size:0.9em !important; */\n    }\n    /* reset */\n\n    *\n    {\n        border: 0;\n        color: inherit;\n        font-family: inherit;\n        font-size: inherit;\n        font-style: inherit;\n        font-weight: inherit;\n        list-style: none;\n        line-height: inherit;\n        margin: 0;\n        padding: 0;\n        text-decoration: none;\n        vertical-align: top;\n    }\n\n\n    h1 { font: bold 100% sans-serif; letter-spacing: 0.3em; text-align: center; text-transform: uppercase; }\n\n    /* table */\n\n    table { font-size: 15pt; line-height: 10mm ;table-layout: fixed; width: 100%; }\n    table { border-collapse: separate; border-spacing: 2px; }\n    th, td { border-width: 1px; padding: 0.5em; position: relative; text-align: left; }\n    th, td { border-radius: 0.25em; border-style: solid; }\n    th { background: #EEE; border-color: #BBB; }\n    td { border-color: #DDD; }\n\n    /* page */\n\n    html { font: 18px/1 \'Open Sans\', sans-serif; overflow: auto; padding: 0.5in; }\n    html { background: #999; cursor: default; }\n\n    body { box-sizing: border-box; height: 11in; margin: 0 auto; padding: 0.5in; width: 8.5in; }\n    body { background: #FFF; border-radius: 1px; box-shadow: 0 0 1in -0.25in rgba(0, 0, 0, 0.5); }\n\n    /* header */\n\n    header { margin: 0 0 1em; }\n    header:after { clear: both; content: ""; display: table; }\n\n    header h1 { background: #e3e3e3; font-size: 30pt; line-height: 10mm; border-radius: 0.25em; color: #000; margin: 0 0 1em; padding: 0.5em 0; }\n    header span, header img { display: block; float: right; }\n    header span { margin: 0 0 1em 1em; max-height: 25%; max-width: 60%; position: relative;font-size: 24pt; line-height: 18mm }\n    header img { max-height: 100%; max-width: 100%; }\n\n    div p {font-size: 20pt; line-height: 12mm;}\n\n    /* article */\n\n    article, article address, table.meta, table.inventory { margin: 0 0 3em; }\n    article:after { clear: both; content: ""; display: table; }\n    article h1 { clip: rect(0 0 0 0); position: absolute; }\n\n    article address { float: left; font-size: 125%; font-weight: bold; }\n\n    /* table meta & balance */\n\n    table.meta, table.balance { float: right; width: 36%; }\n    table.meta:after, table.balance:after { clear: both; content: ""; display: table; }\n\n    /* table meta */\n\n    table.meta th { width: 40%; }\n    table.meta td { width: 60%; }\n\n    /* table items */\n\n    table.inventory { clear: both; width: 85%; }\n    table.inventory th { font-weight: bold; text-align: center; font-size:100% }\n\n    table.inventory th.name { width: 40%; }\n    /*table.inventory th:nth-child(2) { width: 12%; }*/\n\n\n\n    /* table balance */\n    table.balance {position:relative;right:190px}\n    table.balance th,\n    table.balance td { width: 180px; }\n    table.balance tr.grant td { width: 380px; }\n    table.balance tr.grand {font-weight:bold; }\n    table.balance td { text-align: center; }\n\n    /* aside */\n\n    aside h1 { border: none; border-width: 0 0 1px; margin: 0 0 1em; }\n    aside h1 { border-color: #999; border-bottom-style: solid; }\n\n    /* javascript */\n\n    .add, .cut\n    {\n        border-width: 1px;\n        display: block;\n        font-size: .8rem;\n        padding: 0.25em 0.5em;\n        float: left;\n        text-align: center;\n        width: 0.6em;\n    }\n\n    .add, .cut\n    {\n        background: #9AF;\n        box-shadow: 0 1px 2px rgba(0,0,0,0.2);\n        background-image: -moz-linear-gradient(#00ADEE 5%, #0078A5 100%);\n        background-image: -webkit-linear-gradient(#00ADEE 5%, #0078A5 100%);\n        border-radius: 0.5em;\n        border-color: #0076A3;\n        color: #FFF;\n        cursor: pointer;\n        font-weight: bold;\n        text-shadow: 0 -1px 2px rgba(0,0,0,0.333);\n    }\n\n    .add { margin: -2.5em 0 0; }\n\n    .add:hover { background: #00ADEE; }\n\n    .cut { opacity: 0; position: absolute; top: 0; left: -1.5em; }\n    .cut { -webkit-transition: opacity 100ms ease-in; }\n\n    tr:hover .cut { opacity: 1; }\n\n    @media print {\n        * { -webkit-print-color-adjust: exact; }\n        html { background: none; padding: 0; }\n        body { box-shadow: none; margin: 0; }\n        span:empty { display: none; }\n        .add, .cut { display: none; }\n    }\n\n    @page { margin: 0; }\n',d:null}},computed:{csales:function(){return this.$store.getters.getCurrentSales},cprod:function(){return this.$store.getters.getCurrentProducts},userData:function(){return this.$store.getters.getUserData},apiSet:function(){return this.$store.getters.getApi}},mounted:function(){this.doSaleBuffer()},methods:{printSales:function(){(new Oi.a).print(document.getElementById("sale_area"),this.cssText)},doSaleBuffer:function(){var t=this,e={invoice_no:this.csales.invoice_no,cid:this.userData.company_id,oid:this.userData.outlet_id,uid:this.userData.id,user_name:this.csales.user_name,payment_type:this.csales.payment_type,total_items:this.csales.total_items,total:this.csales.total,amount_tendered:this.csales.amount_tendered,change_due:this.csales.change_due,discount:this.csales.discount,name:this.csales.name,date_printed:new Date};fr.post(this.apiSet.c_sales,e).then(function(e){t.doProdBuffer(t.csales.invoice_no)}).catch(function(t){console.log(t)})},doProdBuffer:function(t){for(var e={},a=this.cprod,s=0,i=a.length;s<i;s++)e={oid:this.userData.outlet_id,cid:this.userData.company_id,product_name:a[s].product_name,quantity:a[s].quantity,price:a[s].price,invoice_no:t,discount:a[s].discount},fr.post(this.apiSet.c_prod,e).then(function(t){console.log(t)}).catch(function(t){console.log(t),this.er_snackbar=!0})}}},gr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm5:"","offset-sm3":""}},[a("v-btn",{attrs:{color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")]),t._v("Go Back")],1),t._v(" "),a("v-btn",{attrs:{color:"secondary",small:""},on:{click:t.printSales}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-printer")]),t._v("Print")],1)],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{sm5:"","offset-sm3":""}},[a("v-card",{attrs:{color:"pa-4 mt-2 round_end",id:"sale_area"}},[a("header",[a("h1",[t._v(t._s(t.userData.company_name))]),t._v(" "),a("v-layout",[a("v-flex",{staticClass:"ml-3",attrs:{sm7:""}},[a("span",{staticStyle:{"text-align":"center"}},[a("p",[t._v("Tel: "+t._s(t.userData.company_phone_no))]),t._v(" "),a("p",[t._v("Outlet: "+t._s(t.userData.outlet_name))]),t._v(" "),a("p",[t._v("Location: "+t._s(t.userData.outlet_location))]),t._v(" "),a("p",[t._v("Date: "+t._s((new Date).toDateString()))])])])],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{sm6:"","offset-sm1":""}},[a("div",[a("p",[a("b",[t._v("#Invoice No: ")]),t._v(t._s(t.csales.invoice_no))]),t._v(" "),a("p",[a("b",[t._v("Cashier Name:")]),t._v(" "+t._s(t.csales.user_name))]),t._v(" "),a("p",[a("b",[t._v("Payment Mode:")]),t._v(" "+t._s(t.csales.payment_type))])])])],1)],1),t._v(" "),a("article",[a("table",{staticClass:"inventory"},[a("thead",[a("tr",[a("th",{staticClass:"name"},[a("span",[t._v("Product Name")])]),t._v(" "),a("th",[a("span",[t._v("Quantity")])]),t._v(" "),a("th",[a("span",[t._v(" Price")])]),t._v(" "),a("th",[a("span",[t._v(" Subtotal")])])])]),t._v(" "),a("tbody",t._l(t.cprod,function(e,s){return a("tr",[a("td",{staticClass:"name"},[a("span",[t._v(t._s(e.product_name))])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("span",[t._v(t._s(e.quantity))])]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("span",[t._v("Gh¢ "+t._s(e.price))])]),t._v(" "),a("td",{staticStyle:{"text-align":"center",width:"20px"}},[a("span",{staticStyle:{width:"20px"}},[t._v("Gh¢ "+t._s(parseInt(e.price)*parseInt(e.quantity)))])])])}),0)]),t._v(" "),a("table",{staticClass:"balance"},[a("tr",[a("th",[a("span",[t._v("Amount Due")])]),t._v(" "),a("td",[a("span",{attrs:{"data-prefix":""}},[t._v("GH¢ ")]),a("span",[t._v(t._s(t.csales.total))])])]),t._v(" "),a("tr",[a("th",[a("span",[t._v("Tendered:")])]),t._v(" "),a("td",[a("span",{attrs:{"data-prefix":""}},[t._v("GH¢ ")]),a("span",[t._v(t._s(t.csales.amount_tendered))])])]),t._v(" "),a("tr",[a("th",[a("span",[t._v("Change Due")])]),t._v(" "),a("td",[a("span",{attrs:{"data-prefix":""}},[t._v("GH¢ ")]),a("span",[t._v(t._s(t.csales.change_due))])])]),t._v(" "),a("tr",[a("th",[a("span",[t._v("Discount:")])]),t._v(" "),a("td",[a("span",{attrs:{"data-prefix":""}}),a("span",[t._v(t._s(t.csales.discount))])])]),t._v(" "),a("tr",[a("th",[a("span",{staticClass:"headline"},[t._v("Grand Total")])]),t._v(" "),a("td",{staticClass:"green--text text--darken-3"},[a("span",{staticClass:"headline green--text darken-3",attrs:{"data-prefix":""}},[t._v("GH¢ ")]),a("span",{staticClass:"headline green--te darken-3"},[t._v(t._s(t.csales.total))])])])])]),t._v(" "),a("span",{staticClass:"mid"},[a("p",[t._v("Tax Summary")]),t._v(" "),a("p",[t._v("------------------------------------------------------------------------------")]),t._v(" "),a("p",[t._v("Vatable Sale: Yes ")]),t._v(" "),a("p",[t._v("VAT Exemp: "+t._s(t.csales.outlet))]),t._v(" "),a("p",[t._v("Zero Rated Sale: True")]),t._v(" "),a("p",[t._v(t._s(t.userData.vat)+"% Vat Amt: Ghc "+t._s(.01*t.userData.vat*t.csales.total)+" ")]),t._v(" "),a("p",[t._v("------------------------------------------------------------------------------")]),t._v(" "),a("p",[a("b",[t._v("Customer:")]),t._v(" "+t._s(t.csales.name))])]),t._v(" "),a("aside",[a("v-divider"),t._v(" "),a("div",{staticClass:"tems mt-4"},[t._v("\n                        "+t._s(t.userData.company_slogan)+"\n                    ")]),t._v(" "),a("div",{staticClass:"mt-4"},[a("small",{staticClass:"vsmall grey--text "},[t._v("Powered By WorkIT Facility Management System")])])],1)])],1)],1)],1)},xr=[],yr={render:gr,staticRenderFns:xr},kr=yr,wr=a("VU/8"),Cr=C,Ir=wr(br,kr,!1,Cr,"data-v-857e1a54",null),Sr=Ir.exports,qr={name:"Invoice",computed:{csales:function(){return this.$store.getters.getCurrentSales[0]},cprod:function(){return this.$store.getters.getCurrentProducts},userData:function(){return this.$store.getters.getUserData},apiSet:function(){return this.$store.getters.getApi}},mounted:function(){this.hideHead(),this.doSaleBuffer()},methods:{doSaleBuffer:function(){var t=this,e={invoice_no:this.csales.invoice_no,cid:this.userData.company_id,oid:this.userData.outlet_id,uid:this.userData.id,user_name:this.csales.user_name,payment_type:this.csales.payment_type,total_items:this.csales.total_items,total:this.csales.total,amount_tendered:this.csales.amount_tendered,change_due:this.csales.change_due,discount:this.csales.discount,name:this.csales.name,date_printed:new Date};axios.post(this.apiSet.c_sales,e).then(function(e){t.doProdBuffer(t.csales.invoice_no)}).catch(function(t){console.log(t)})},doProdBuffer:function(t){for(var e={},a=this.cprod,s=0,i=a.length;s<i;s++)e={oid:this.userData.outlet_id,cid:this.userData.company_id,product_name:a[s].product_name,quantity:a[s].quantity,price:a[s].price,invoice_no:t,discount:a[s].discount},axios.post(this.apiSet.c_prod,e).then(function(t){console.log(t)}).catch(function(t){console.log(t),this.er_snackbar=!0})},print:function(){window.print()},hideHead:function(){this.$store.commit("setHead",!1)}}},Dr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-invoice scrollable"},[a("v-flex",{staticClass:"animated toolbar fadeInRight mb-2"},[a("v-btn",{attrs:{color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-arrow-left-thick")]),t._v("Go Back")],1),t._v(" "),a("v-btn",{attrs:{color:"secondary",small:""},on:{click:t.print}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-printer")]),t._v("Print")],1)],1),t._v(" "),a("div",{staticClass:"invoice"},[a("header",[a("h2",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.userData.company_name))]),t._v(" "),a("v-layout",[a("v-flex",[a("span",{staticStyle:{"text-align":"center"}},[a("p",{staticClass:"head head_font"},[t._v("Tel: "+t._s(t.userData.company_phone_no)),a("br"),t._v("\n                    Outlet: "+t._s(t.userData.outlet_name)+" "),a("br"),t._v(" "),t._v("\n                    Date: "+t._s((new Date).toDateString())+"\n                ")])])])],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{sm6:""}},[a("div",[a("p",{staticClass:"head_font"},[a("b",[t._v("#Invoice No: ")]),t._v(t._s(t.csales.invoice_no)+" "),a("br"),t._v(" "),a("b",[t._v("Cashier Name:")]),t._v(" "+t._s(t.csales.user_name)),a("br"),t._v(" "),a("b",[t._v("Payment Mode:")]),t._v(" "+t._s(t.csales.payment_type)+"\n                        ")])])])],1)],1),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"invoice-bottom"},[a("table",[t._m(0),t._v(" "),a("tbody",[t._l(t.cprod,function(e,s){return a("tr",{staticClass:"ench"},[a("td",{staticClass:"name"},[t._v(t._s(e.product_name))]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(e.quantity))]),t._v(" "),a("td",[t._v(t._s(e.price))]),t._v(" "),a("td",{staticStyle:{"text-align":"center",width:"20px"}},[a("span",{staticStyle:{width:"20px"}},[t._v(t._s(parseFloat(e.price)*parseFloat(e.quantity)))])])])}),t._v(" "),a("hr",{staticClass:"mt-2 white"}),t._v(" "),a("tr",{staticClass:"mt-2"},[a("td"),t._v(" "),a("td"),t._v(" "),t._m(1),t._v(" "),a("td",[a("span"),a("span",[t._v(t._s(t.csales.total))])])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td"),t._v(" "),t._m(2),t._v(" "),a("td",[a("span"),a("span",[t._v(t._s(t.csales.amount_tendered))])])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td"),t._v(" "),t._m(3),t._v(" "),a("td",[t._v(t._s(t.csales.change_due))])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td"),t._v(" "),t._m(4),t._v(" "),a("td",[t._v(t._s(t.csales.discount))])])],2),t._v(" "),a("tfoot",[a("tr",[a("td"),t._v(" "),a("td"),t._v(" "),t._m(5),t._v(" "),a("td",{staticClass:"payment"},[a("h3",[t._v(" "+t._s(t.csales.total))])])])])]),t._v(" "),a("aside",[a("v-divider"),t._v(" "),a("div",{staticClass:"tems mt-4"},[t._v("\n                    "+t._s(t.userData.company_slogan)+"\n                ")]),t._v(" "),t._m(6)],1)])])],1)},$r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Product")]),t._v(" "),a("th",[t._v("Qty")]),t._v(" "),a("th",[t._v("Price")]),t._v(" "),a("th",[t._v("Total")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("b",[t._v("Amt Due")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("b",[t._v("Tendered")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("b",[t._v("Change")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("b",[t._v("Discount")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticClass:"Rate"},[a("h3",[t._v("Total GH¢")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-4"},[a("small",{staticClass:"vsmall grey--text "},[t._v("Powered By WorkIT Facility Management System")])])}],Pr={render:Dr,staticRenderFns:$r},Tr=Pr,Er=a("VU/8"),Nr=I,Ar=Er(qr,Tr,!1,Nr,"data-v-6ab8a67a",null),Or=Ar.exports,Mr=a("mtWM"),Rr={name:"outlets",data:function(){return{loader:!1,ac:"",ses:{id:1,shift:"Afternoon",user_name:"aximilli",opening_cash:"3000",open_date:"24/07/2019",open_time:"3 minutes ago",session_state:"Active"},search:"",ses_area:!1,side_items:[],headers:[{text:"ID",align:"left",value:"id",class:"subheading"},{text:"Invoice",align:"left",value:"invoice_no",class:"subheading"},{text:"Customer Name",align:"left",value:"name",class:"subheading"},{text:"Type",align:"left",value:"payment_type",class:"subheading"},{text:"Items",align:"left",value:"total_items",class:"subheading"},{text:"Cost",align:"left",value:"total",class:"subheading"},{text:"Date Printed",align:"center",value:"date_printed",class:"subheading"},{text:"Time Printed",align:"center",value:"date_printed",class:"subheading"},{text:"Actions",align:"center",value:"session_state",class:"subheading"}],dialog:!1,fetchup:!1,snack:!1,total:"",snackText:!1,snackColor:"",editedIndex:-1,sesData:[]}},computed:{apiSet:function(){return this.$store.getters.getApi}},mounted:function(){this.setSide(),this.loadSesData(),this.showHead()},methods:{showHead:function(){this.$store.commit("setHead",!0)},setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!1)},stateup:function(t){return"1"===t?"Active":"0"===t?"In-Active":void 0},loadSesData:function(){var t=this,e=this;this.fetchup=!0;var a={oid:this.userData.outlet_id,cid:this.userData.company_id,uid:this.userData.id};Mr.post(this.apiSet.post_csales,a).then(function(a){var s=a.data.data;e.sesData=s,e.total=s.length,e.fetchup=!1,t.snack=!0,t.snackText="Data Was Successfully loaded.",t.snackColor="green"}).catch(function(a){console.log(a),e.loader=!1,t.snack=!0,t.snackText="Sorry network error occurred.",t.snackColor="red",t.err.push(a)})},viewInvoice:function(t){var e=this,a=this;this.fetchup=!0;var s=this.sesData.filter(function(e){return e.invoice_no===t});this.$store.commit("setCurrentSales",s);var i={invoice_no:t};Mr.post(this.apiSet.post_cprod,i).then(function(t){var e=t.data.data;a.$store.commit("setCurrentProducts",e),a.fetchup=!1,a.$router.push("/buffer_invoice")}).catch(function(t){console.log(t),a.loader=!1,e.snack=!0,e.snackText="Sorry network error occurred.",e.snackColor="red",e.err.push(t)})},editItem:function(t){this.editedIndex=this.sesData.indexOf(t);var e=this.sesData.indexOf(t),a=this.sesData[e];this.ses=wi()({},a),this.dialog=!0},closeup:function(){this.dialog=!1,this.out.outlet_name="",this.out.location="",this.out.phone_no="",this.out.company_id=1,this.editedIndex=-1},printSession:function(){(new Oi.a).print(document.getElementById("session_area"),this.cssText),this.closePrint()},closePrint:function(){this.dialog=!1},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Shift?",message:"Are you sure you want to Delete Shift?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.sesData.indexOf(t);this.sesData.splice(s,1),Mr.delete(a+"/outlet/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadsesData(),e.snack=!0,e.snackText="Data Successfully Deleted",e.snackColor="red"}).catch(function(t){e.snack=!0,e.snackText="Sorry. Network Error occured.",e.snackColor="red",console.log(t)})}}},jr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:"",small:""},on:{click:function(e){return t.$router.push("/my_sales")}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-cash")]),t._v(" View My Sales")],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("My Invoice List [ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ]")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-8",attrs:{headers:t.headers,items:t.sesData,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.invoice_no))]),t._v(" "),a("td",[t._v(t._s(e.item.name))]),t._v(" "),a("td",[t._v(t._s(e.item.payment_type))]),t._v(" "),a("td",[t._v(t._s(e.item.total_items))]),t._v(" "),a("td",[t._v(t._s(e.item.total))]),t._v(" "),a("td",[t._v(t._s(t.moment(e.item.date_printed).format("MMMM Do YYYY")))]),t._v(" "),a("td",[t._v(t._s(t.moment(e.item.date_printed).format("h:mm a"))+" [ "+t._s(t.moment(e.item.date_printed).fromNow())+" ] ")]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"primary--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.viewInvoice(e.item.invoice_no)}}},[a("v-icon",[t._v("\n                        mdi-open-in-new\n                    ")]),t._v(" View")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},Yr=[],Fr={render:jr,staticRenderFns:Yr},Ur=Fr,zr=a("VU/8"),Vr=S,Br=zr(Rr,Ur,!1,Vr,"data-v-7ed6ad8a",null),Gr=Br.exports,Hr=a("mtWM"),Lr={name:"outlets",data:function(){return{loader:!1,ac:"",ses:{id:1,shift:"Afternoon",user_name:"aximilli",opening_cash:"3000",open_date:"24/07/2019",open_time:"3 minutes ago",session_state:"Active"},search:"",ses_area:!1,side_items:[],headers:[{text:"ID",align:"left",value:"id",class:"subheading"},{text:"Invoice",align:"left",value:"invoice_no",class:"subheading"},{text:"Customer Name",align:"left",value:"name",class:"subheading"},{text:"Type",align:"left",value:"payment_type",class:"subheading"},{text:"Items",align:"left",value:"total_items",class:"subheading"},{text:"Cost",align:"left",value:"total",class:"subheading"},{text:"Date Printed",align:"center",value:"date_printed",class:"subheading"},{text:"Time Printed",align:"center",value:"date_printed",class:"subheading"},{text:"Actions",align:"center",value:"session_state",class:"subheading"}],dialog:!1,fetchup:!1,snack:!1,total:"",snackText:!1,snackColor:"",editedIndex:-1,sesData:[]}},computed:{apiSet:function(){return this.$store.getters.getApi}},mounted:function(){this.setSide(),this.loadSesData(),this.showHead()},methods:{showHead:function(){this.$store.commit("setHead",!0)},setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!1)},stateup:function(t){return"1"===t?"Active":"0"===t?"In-Active":void 0},loadSesData:function(){var t=this,e=this;this.fetchup=!0;this.userData.outlet_id,this.userData.company_id,this.userData.id;Hr.get(this.apiSet.c_sales).then(function(a){var s=a.data.data;e.sesData=s,e.total=s.length,e.fetchup=!1,t.snack=!0,t.snackText="Data Was Successfully loaded.",t.snackColor="green"}).catch(function(a){console.log(a),e.loader=!1,t.snack=!0,t.snackText="Sorry network error occurred.",t.snackColor="red",t.err.push(a)})},viewInvoice:function(t){var e=this,a=this;this.fetchup=!0;var s=this.sesData.filter(function(e){return e.invoice_no===t});this.$store.commit("setCurrentSales",s);var i={invoice_no:t};Hr.post(this.apiSet.post_cprod,i).then(function(t){var e=t.data.data;a.$store.commit("setCurrentProducts",e),a.fetchup=!1,a.$router.push("/buffer_invoice")}).catch(function(t){console.log(t),a.loader=!1,e.snack=!0,e.snackText="Sorry network error occurred.",e.snackColor="red",e.err.push(t)})},editItem:function(t){this.editedIndex=this.sesData.indexOf(t);var e=this.sesData.indexOf(t),a=this.sesData[e];this.ses=wi()({},a),this.dialog=!0},closeup:function(){this.dialog=!1,this.out.outlet_name="",this.out.location="",this.out.phone_no="",this.out.company_id=1,this.editedIndex=-1},printSession:function(){(new Oi.a).print(document.getElementById("session_area"),this.cssText),this.closePrint()},closePrint:function(){this.dialog=!1},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Shift?",message:"Are you sure you want to Delete Shift?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.sesData.indexOf(t);this.sesData.splice(s,1),Hr.delete(a+"/outlet/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadsesData(),e.snack=!0,e.snackText="Data Successfully Deleted",e.snackColor="red"}).catch(function(t){e.snack=!0,e.snackText="Sorry. Network Error occured.",e.snackColor="red",console.log(t)})}}},Wr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:"",small:""},on:{click:function(e){return t.$router.push("/sales_report")}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-cash")]),t._v(" View Sales Report")],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("All Invoices Generated [ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ]")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-8",attrs:{headers:t.headers,items:t.sesData,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.invoice_no))]),t._v(" "),a("td",[t._v(t._s(e.item.name))]),t._v(" "),a("td",[t._v(t._s(e.item.payment_type))]),t._v(" "),a("td",[t._v(t._s(e.item.total_items))]),t._v(" "),a("td",[t._v(t._s(e.item.total))]),t._v(" "),a("td",[t._v(t._s(t.moment(e.item.date_printed).format("MMMM Do YYYY")))]),t._v(" "),a("td",[t._v(t._s(t.moment(e.item.date_printed).format("h:mm a"))+" [ "+t._s(t.moment(e.item.date_printed).fromNow())+" ] ")]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"primary--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.viewInvoice(e.item.invoice_no)}}},[a("v-icon",[t._v("\n                        mdi-open-in-new\n                    ")]),t._v(" View")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},Qr=[],Zr={render:Wr,staticRenderFns:Qr},Xr=Zr,Jr=a("VU/8"),Kr=q,to=Jr(Lr,Xr,!1,Kr,"data-v-4577c784",null),eo=to.exports,ao={name:"Invoice",computed:{csales:function(){return this.$store.getters.getCurrentSales},cprod:function(){return this.$store.getters.getCurrentProducts},userData:function(){return this.$store.getters.getUserData},apiSet:function(){return this.$store.getters.getApi}},mounted:function(){this.hideHead(),this.doSaleBuffer()},methods:{doSaleBuffer:function(){var t=this,e={invoice_no:this.csales.invoice_no,cid:this.userData.company_id,oid:this.userData.outlet_id,uid:this.userData.id,user_name:this.csales.user_name,payment_type:this.csales.payment_type,total_items:this.csales.total_items,total:this.csales.total,amount_tendered:this.csales.amount_tendered,change_due:this.csales.change_due,discount:this.csales.discount,name:this.csales.name,date_printed:new Date};axios.post(this.apiSet.c_sales,e).then(function(e){t.doProdBuffer(t.csales.invoice_no)}).catch(function(t){console.log(t)})},doProdBuffer:function(t){for(var e={},a=this.cprod,s=0,i=a.length;s<i;s++)e={oid:this.userData.outlet_id,cid:this.userData.company_id,product_name:a[s].product_name,quantity:a[s].quantity,price:a[s].price,invoice_no:t,discount:a[s].discount},axios.post(this.apiSet.c_prod,e).then(function(t){console.log(t)}).catch(function(t){console.log(t),this.er_snackbar=!0})},print:function(){window.print()},hideHead:function(){this.$store.commit("setHead",!1)}}},so=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-invoice scrollable"},[a("v-flex",{staticClass:"animated toolbar fadeInRight mb-2"},[a("v-btn",{attrs:{color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-arrow-left-thick")]),t._v("Go Back")],1),t._v(" "),a("v-btn",{attrs:{color:"secondary",small:""},on:{click:t.print}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-printer")]),t._v("Print")],1)],1),t._v(" "),a("div",{staticClass:"invoice"},[a("header",[a("h2",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.userData.company_name))]),t._v(" "),a("v-layout",[a("v-flex",[a("span",{staticStyle:{"text-align":"center"}},[a("p",{staticClass:"head head_font"},[t._v("Tel: "+t._s(t.userData.company_phone_no)),a("br"),t._v("\n                    Outlet: "+t._s(t.userData.outlet_name)+" "),a("br"),t._v(" "),t._v("\n                    Date: "+t._s((new Date).toDateString())+"\n                ")])])])],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{sm6:""}},[a("div",[a("p",{staticClass:"head_font"},[a("b",[t._v("PROFORMA INVOICE")]),a("br")])])])],1)],1),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"invoice-bottom"},[a("table",[t._m(0),t._v(" "),a("tbody",[t._l(t.cprod,function(e,s){return a("tr",{staticClass:"ench"},[a("td",{staticClass:"name"},[t._v(t._s(e.product_name))]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(e.quantity))]),t._v(" "),a("td",[t._v(t._s(e.price))]),t._v(" "),a("td",{staticStyle:{"text-align":"center",width:"20px"}},[a("span",{staticStyle:{width:"20px"}},[t._v(t._s(parseFloat(e.price)*parseFloat(e.quantity)))])])])}),t._v(" "),a("hr",{staticClass:"mt-2 white"})],2),t._v(" "),a("tfoot",[a("tr",[a("td"),t._v(" "),a("td"),t._v(" "),t._m(1),t._v(" "),a("td",{staticClass:"payment"},[a("h3",[t._v(" "+t._s(t.csales.total))])])])])]),t._v(" "),a("aside",[a("v-divider"),t._v(" "),a("div",{staticClass:"tems mt-4"},[t._v("\n                    "+t._s(t.userData.company_slogan)+"\n                ")]),t._v(" "),t._m(2)],1)])])],1)},io=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Product")]),t._v(" "),a("th",[t._v("Qty")]),t._v(" "),a("th",[t._v("Price")]),t._v(" "),a("th",[t._v("Total")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticClass:"Rate"},[a("h3",[t._v("Total GH¢")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-4"},[a("small",{staticClass:"vsmall grey--text "},[t._v("Powered By WorkIT Facility Management System")])])}],no={render:so,staticRenderFns:io},ro=no,oo=a("VU/8"),lo=D,co=oo(ao,ro,!1,lo,"data-v-569e4f9e",null),uo=co.exports,mo={name:"purchase_view",data:function(){return{cssText:'  @page { size: A4 portrait }\n    .vsmall{\n        font-size:20px;         text-align:center;\n    }\n    p b{\n        font-weight:bold;\n    }\n    .tems{\n        text-align:center;\n        position:relative;\n        bottom:10px;\n        color:grey;\n        font-size:20px;\n    }\n    .mid{\n        text-align:center;\n        position:relative;\n        left:15px;\n    }\n    .round_end{\n        border-radius:5px 5px 0px 0px;\n        border:1px dashed gray;\n        width:auto;\n        height:auto;\n    }\n    .pulse {\n        animation: opacityPulse 1s ease-out;\n        animation-iteration-count: infinite;\n        opacity: 0;\n    }\n    @-webkit-keyframes opacityPulse {\n        0% {opacity: 0.0;}\n        50% {opacity: 1.0;}\n        100% {opacity: 0.0;}\n    }\n    body{\n        background:#EEE;\n        /* font-size:0.9em !important; */\n    }\n    /* reset */\n\n    *\n    {\n        border: 0;\n        color: inherit;\n        font-family: inherit;\n        font-size: inherit;\n        font-style: inherit;\n        font-weight: inherit;\n        list-style: none;\n        line-height: inherit;\n        margin: 0;\n        padding: 0;\n        text-decoration: none;\n        vertical-align: top;\n    }\n\n\n    h1 { font: bold 100% sans-serif; letter-spacing: 0.3em; text-align: center; text-transform: uppercase; }\n\n    /* table */\n\n    table { font-size: 15pt; line-height: 10mm ;table-layout: fixed; width: 100%; }\n    table { border-collapse: separate; border-spacing: 2px; }\n    th, td { border-width: 1px; padding: 0.5em; position: relative; text-align: left; }\n    th, td { border-radius: 0.25em; border-style: solid; }\n    th { background: #EEE; border-color: #BBB; }\n    td { border-color: #DDD; }\n\n    /* page */\n\n    html { font: 18px/1 \'Open Sans\', sans-serif; overflow: auto; padding: 0.5in; }\n    html { background: #999; cursor: default; }\n\n    body { box-sizing: border-box; height: 11in; margin: 0 auto; padding: 0.5in; width: 8.5in; }\n    body { background: #FFF; border-radius: 1px; box-shadow: 0 0 1in -0.25in rgba(0, 0, 0, 0.5); }\n\n    /* header */\n\n    header { margin: 0 0 1em; }\n    header:after { clear: both; content: ""; display: table; }\n\n    header h1 { background: #e3e3e3; font-size: 30pt; line-height: 10mm; border-radius: 0.25em; color: #000; margin: 0 0 1em; padding: 0.5em 0; }\n    header span, header img { display: block; float: right; }\n    header span { margin: 0 0 1em 1em; max-height: 25%; max-width: 60%; position: relative;font-size: 24pt; line-height: 18mm }\n    header img { max-height: 100%; max-width: 100%; }\n\n    div p {font-size: 20pt; line-height: 12mm;}\n\n    /* article */\n\n    article, article address, table.meta, table.inventory { margin: 0 0 3em; }\n    article:after { clear: both; content: ""; display: table; }\n    article h1 { clip: rect(0 0 0 0); position: absolute; }\n\n    article address { float: left; font-size: 125%; font-weight: bold; }\n\n    /* table meta & balance */\n\n    table.meta, table.balance { float: right; width: 36%; }\n    table.meta:after, table.balance:after { clear: both; content: ""; display: table; }\n\n    /* table meta */\n\n    table.meta th { width: 40%; }\n    table.meta td { width: 60%; }\n\n    /* table items */\n\n    table.inventory { clear: both; width: 85%; }\n    table.inventory th { font-weight: bold; text-align: center; font-size:100% }\n\n    table.inventory th.name { width: 40%; }\n    /*table.inventory th:nth-child(2) { width: 12%; }*/\n\n\n\n    /* table balance */\n    table.balance {position:relative;right:190px}\n    table.balance th,\n    table.balance td { width: 180px; }\n    table.balance tr.grant td { width: 380px; }\n    table.balance tr.grand {font-weight:bold; }\n    table.balance td { text-align: center; }\n\n    /* aside */\n\n    aside h1 { border: none; border-width: 0 0 1px; margin: 0 0 1em; }\n    aside h1 { border-color: #999; border-bottom-style: solid; }\n\n    /* javascript */\n\n    .add, .cut\n    {\n        border-width: 1px;\n        display: block;\n        font-size: .8rem;\n        padding: 0.25em 0.5em;\n        float: left;\n        text-align: center;\n        width: 0.6em;\n    }\n\n    .add, .cut\n    {\n        background: #9AF;\n        box-shadow: 0 1px 2px rgba(0,0,0,0.2);\n        background-image: -moz-linear-gradient(#00ADEE 5%, #0078A5 100%);\n        background-image: -webkit-linear-gradient(#00ADEE 5%, #0078A5 100%);\n        border-radius: 0.5em;\n        border-color: #0076A3;\n        color: #FFF;\n        cursor: pointer;\n        font-weight: bold;\n        text-shadow: 0 -1px 2px rgba(0,0,0,0.333);\n    }\n\n    .add { margin: -2.5em 0 0; }\n\n    .add:hover { background: #00ADEE; }\n\n    .cut { opacity: 0; position: absolute; top: 0; left: -1.5em; }\n    .cut { -webkit-transition: opacity 100ms ease-in; }\n\n    tr:hover .cut { opacity: 1; }\n\n    @media print {\n        * { -webkit-print-color-adjust: exact; }\n        html { background: none; padding: 0; }\n        body { box-shadow: none; margin: 0; }\n        span:empty { display: none; }\n        .add, .cut { display: none; }\n    }\n\n    @page { margin: 0; }\n',d:null}},computed:{csales:function(){return this.$store.getters.getCurrentSales},cprod:function(){return this.$store.getters.getCurrentProducts},userData:function(){return this.$store.getters.getUserData}},mounted:function(){},methods:{printSales:function(){(new Oi.a).print(document.getElementById("sale_area"),this.cssText)}}},vo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",{attrs:{sm5:"","offset-sm3":""}},[a("v-btn",{attrs:{color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")]),t._v("Go Back")],1),t._v(" "),a("v-btn",{attrs:{color:"secondary",small:""},on:{click:t.printSales}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-printer")]),t._v("Print")],1)],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{sm5:"","offset-sm3":""}},[a("v-card",{attrs:{color:"pa-4 mt-2 round_end",id:"sale_area"}},[a("header",[a("v-layout",[a("v-flex",[a("h1",[t._v("Sales Receipt")]),t._v(" "),a("h1",{staticClass:"secondary--text"},[t._v("#"+t._s(t.csales.invoice_no))])])],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{sm6:"","offset-sm1":""}},[a("div",[a("p",[a("b",[t._v("#Invoice No: ")]),t._v(t._s(t.csales.invoice_no))]),t._v(" "),a("p",[a("b",[t._v("Cashier Name:")]),t._v(" "+t._s(t.csales.user_name))])])])],1)],1),t._v(" "),a("article",[a("table",{staticClass:"inventory"},[a("thead",[a("tr",[a("th",[a("span",[t._v("Quantity")])]),t._v(" "),a("th",[a("span",[t._v("Product Name")])]),t._v(" "),a("th",[a("span",[t._v(" Price")])])])]),t._v(" "),a("tbody",t._l(t.cprod,function(e,s){return a("tr",[a("td",[a("span",[t._v(t._s(e.quantity))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.product_name))])]),t._v(" "),a("td",[a("span",[t._v("Gh¢ "+t._s(e.price))])])])}),0)]),t._v(" "),a("table",{staticClass:"balance"},[a("tr",[a("th",[a("span",[t._v("Amount Due")])]),t._v(" "),a("td",[a("span",{attrs:{"data-prefix":""}},[t._v("GH¢ ")]),a("span",[t._v(t._s(t.csales.total))])])]),t._v(" "),a("tr",[a("th",[a("span",[t._v("Discount:")])]),t._v(" "),a("td",[a("span",{attrs:{"data-prefix":""}}),a("span",[t._v(t._s(t.csales.discount))])])]),t._v(" "),a("tr",[a("th",[a("span",{staticClass:"headline"},[t._v("Grand Total")])]),t._v(" "),a("td",{staticClass:"green--text text--darken-3"},[a("span",{staticClass:"headline green--te darken-3",attrs:{"data-prefix":""}},[t._v("GH¢ ")]),a("span",{staticClass:"headline green--te darken-3"},[t._v(t._s(t.csales.total))])])])])]),t._v(" "),a("span",{staticClass:"mid"},[a("p",[t._v("Tax Summary")]),t._v(" "),a("p",[t._v("------------------------------------------------------------------------------")]),t._v(" "),a("p",[t._v("Vatable Sale: Yes ")]),t._v(" "),a("p",[t._v("VAT Exemp: "+t._s(t.csales.outlet))]),t._v(" "),a("p",[t._v("Zero Rated Sale: True")]),t._v(" "),a("p",[t._v(t._s(t.userData.vat)+"% Vat Amt: Ghc "+t._s(.01*t.userData.vat*t.csales.total)+" ")]),t._v(" "),a("p",[t._v("------------------------------------------------------------------------------")]),t._v(" "),a("p",[a("b",[t._v("Customer:")]),t._v(" "+t._s(t.csales.name))])]),t._v(" "),a("aside",[a("v-divider"),t._v(" "),a("div",{staticClass:"mid mt-4"},[a("small",{staticClass:"small"},[t._v(t._s(t.userData.company_slogan))])]),t._v(" "),a("div",{staticClass:"mt-4"},[a("small",{staticClass:"vsmall grey--text "},[t._v("Powered By WorkIT Facility Management System")])])],1)])],1)],1)],1)},_o=[],po={render:vo,staticRenderFns:_o},ho=po,fo=a("VU/8"),bo=$,go=fo(mo,ho,!1,bo,"data-v-f750d64e",null),xo=go.exports,yo=a("wuJz"),ko={data:function(){return{range:[],dateRangeOptions:{startDate:Object(yo.format)(Object(yo.subDays)(new Date,7),"YYYY-MM-DD"),endDate:Object(yo.format)(new Date,"YYYY-MM-DD"),format:"MM/DD/YYYY",presets:[{label:"Today",range:[Object(yo.format)(new Date,"YYYY-MM-DD"),Object(yo.format)(new Date,"YYYY-MM-DD")]},{label:"Yesterday",range:[Object(yo.format)(Object(yo.subDays)(new Date,1),"YYYY-MM-DD"),Object(yo.format)(Object(yo.subDays)(new Date,1),"YYYY-MM-DD")]},{label:"Last 30 Days",range:[Object(yo.format)(Object(yo.subDays)(new Date,30),"YYYY-MM-DD"),Object(yo.format)(Object(yo.subDays)(new Date,1),"YYYY-MM-DD")]}]},dateRangeOptionsWithMinDate:{startDate:Object(yo.format)(Object(yo.subDays)(new Date,7),"YYYY-MM-DD"),endDate:Object(yo.format)(new Date,"YYYY-MM-DD"),minDate:Object(yo.format)(Object(yo.subDays)(new Date,15),"YYYY-MM-DD"),maxDate:Object(yo.format)(Object(yo.addDays)(new Date,20),"YYYY-MM-DD"),format:"MM/DD/YYYY",presets:[{label:"Today",range:[Object(yo.format)(new Date,"YYYY-MM-DD"),Object(yo.format)(new Date,"YYYY-MM-DD")]},{label:"Yesterday",range:[Object(yo.format)(Object(yo.subDays)(new Date,1),"YYYY-MM-DD"),Object(yo.format)(Object(yo.subDays)(new Date,1),"YYYY-MM-DD")]},{label:"Last 30 Days",range:[Object(yo.format)(Object(yo.subDays)(new Date,30),"YYYY-MM-DD"),Object(yo.format)(Object(yo.subDays)(new Date,1),"YYYY-MM-DD")]}]},dateMenu:!1}},methods:{onDateRangeChange:function(t){this.range=t}}},wo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",{staticClass:"daterange--default"},[a("v-toolbar",{attrs:{dark:"",flat:"",color:"primary"}},[a("v-toolbar-title",[t._v("Default")])],1),t._v(" "),a("v-card-text",[a("p",[t._v("From:\n                            "),a("v-chip",[t._v(t._s(t.range[0]))]),t._v(" To:\n                            "),a("v-chip",[t._v(t._s(t.range[1]))])],1),t._v(" "),a("p",[t._v("In this example, you can only select dates within the last 15 days.")]),t._v(" "),a("v-daterange",{attrs:{options:t.dateRangeOptions},on:{input:t.onDateRangeChange}})],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-card",{staticClass:"daterange--no-preset"},[a("v-toolbar",{attrs:{dark:"",flat:"",color:"primary"}},[a("v-toolbar-title",[t._v("No Presets")])],1),t._v(" "),a("v-card-text",[a("p",[t._v("From:\n                            "),a("v-chip",[t._v(t._s(t.range[0]))]),t._v(" To:\n                            "),a("v-chip",[t._v(t._s(t.range[1]))])],1),t._v(" "),a("v-daterange",{attrs:{options:t.dateRangeOptions,"no-presets":""},on:{input:t.onDateRangeChange}})],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-card",{staticClass:"daterange--min-date"},[a("v-toolbar",{attrs:{dark:"",flat:"",color:"primary"}},[a("v-toolbar-title",[t._v("Minimun & Maximum Selectable Date")])],1),t._v(" "),a("v-card-text",[a("v-alert",{attrs:{value:!0,type:"info"}},[t._v("In this example, you can only select dates within the last 15 days & 20 days ahead.")]),t._v(" "),a("p",[t._v("From:\n                            "),a("v-chip",[t._v(t._s(t.range[0]))]),t._v(" To:\n                            "),a("v-chip",[t._v(t._s(t.range[1]))])],1),t._v(" "),a("v-daterange",{attrs:{options:t.dateRangeOptionsWithMinDate,"no-presets":""},on:{input:t.onDateRangeChange}})],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-card",{staticClass:"daterange--dark"},[a("v-toolbar",{attrs:{dark:"",flat:"",color:"primary"}},[a("v-toolbar-title",[t._v("Dark Theme")])],1),t._v(" "),a("v-card-text",[a("p",[t._v("From:\n                            "),a("v-chip",[t._v(t._s(t.range[0]))]),t._v(" To:\n                            "),a("v-chip",[t._v(t._s(t.range[1]))])],1),t._v(" "),a("v-daterange",{attrs:{options:t.dateRangeOptions,dark:""},on:{input:t.onDateRangeChange}})],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-card",{staticClass:"daterange--custom-icons"},[a("v-toolbar",{attrs:{dark:"",flat:"",color:"primary"}},[a("v-toolbar-title",[t._v("Custom Icons")])],1),t._v(" "),a("v-card-text",[a("p",[t._v("From:\n                            "),a("v-chip",[t._v(t._s(t.range[0]))]),t._v(" To:\n                            "),a("v-chip",[t._v(t._s(t.range[1]))])],1),t._v(" "),a("v-daterange",{attrs:{options:t.dateRangeOptions,"next-icon":"arrow_forward","prev-icon":"arrow_back"},on:{input:t.onDateRangeChange}})],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-card",{staticClass:"daterange--in-menu"},[a("v-toolbar",{attrs:{dark:"",flat:"",color:"primary"}},[a("v-toolbar-title",[t._v("Open In Menu")])],1),t._v(" "),a("v-card-text",[t._v("\n                        The date picker can also be used from a menu. Here's an example -\n                        "),a("div",[a("code",{pre:!0},[t._v('\n                                <v-menu full-width offset-y :close-on-content-click="false" v-model="dateMenu" bottom>\n                                <v-btn color="primary" outline slot="activator">{{ range[0] }} &mdash; {{ range[1] }}</v-btn>\n                                <v-card>\n                                <v-card-text>\n                                <v-daterange :options="dateRangeOptions" @input="onDateRangeChange" />\n                                </v-card-text>\n                                </v-card>\n                                </v-menu>\n                            ')])]),t._v(" "),a("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":"",bottom:""},model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[a("v-btn",{attrs:{slot:"activator",color:"primary"},slot:"activator"},[t._v(t._s(t.range[0])+" — "+t._s(t.range[1]))]),t._v(" "),a("v-card",[a("v-card-text",[a("v-daterange",{attrs:{options:t.dateRangeOptions},on:{input:t.onDateRangeChange}})],1)],1)],1)],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-card",{staticClass:"daterange--highlight-dates-off"},[a("v-toolbar",{attrs:{dark:"",flat:"",color:"primary"}},[a("v-toolbar-title",[t._v("Rage Highlighting Off")])],1),t._v(" "),a("v-card-text",[a("p",[t._v("From:\n                            "),a("v-chip",[t._v(t._s(t.range[0]))]),t._v(" To:\n                            "),a("v-chip",[t._v(t._s(t.range[1]))])],1),t._v(" "),a("p",[t._v("Range highlighting is by default on. It can be turned off by setting "),a("code",[t._v("highlight-range")]),t._v(" prop\n                            to "),a("code",[t._v("false")])]),t._v(" "),a("v-daterange",{attrs:{options:t.dateRangeOptions,"highlight-range":!1},on:{input:t.onDateRangeChange}})],1)],1)],1)],1)],1)],1)},Co=[],Io={render:wo,staticRenderFns:Co},So=Io,qo=a("VU/8"),Do=P,$o=qo(ko,So,!1,Do,"data-v-38ae5b36",null),Po=$o.exports,To=a("mtWM"),Eo={name:"outlets",data:function(){return{cssText:'  @page { size: A4 portrait }\n    .vsmall{\n        font-size:20px;         text-align:center;\n    }\n    p b{\n        font-weight:bold;\n    }\n    .tems{\n        text-align:center;\n        position:relative;\n        bottom:10px;\n        color:grey;\n        font-size:20px;\n    }\n    .mid{\n        text-align:center;\n        position:relative;\n        left:15px;\n    }\n    .round_end{\n        border-radius:5px 5px 0px 0px;\n        border:1px dashed gray;\n        width:auto;\n        height:auto;\n    }\n    .pulse {\n        animation: opacityPulse 1s ease-out;\n        animation-iteration-count: infinite;\n        opacity: 0;\n    }\n    @-webkit-keyframes opacityPulse {\n        0% {opacity: 0.0;}\n        50% {opacity: 1.0;}\n        100% {opacity: 0.0;}\n    }\n    body{\n        background:#EEE;\n        /* font-size:0.9em !important; */\n    }\n    /* reset */\n\n    *\n    {\n        border: 0;\n        color: inherit;\n        font-family: inherit;\n        font-size: inherit;\n        font-style: inherit;\n        font-weight: inherit;\n        list-style: none;\n        line-height: inherit;\n        margin: 0;\n        padding: 0;\n        text-decoration: none;\n        vertical-align: top;\n    }\n\n\n\n    /* table */\n\n    table { font-size: 26pt; line-height: 10mm ;table-layout: fixed; width: 100%; }\n    table { border-collapse: separate; border-spacing: 2px; }\n    th, td { border-width: 1px; padding: 0.5em; position: relative; text-align: left; }\n    th, td { border-radius: 0.25em; border-style: solid; }\n    th { background: #EEE; border-color: #BBB; }\n    td { border-color: #DDD; }\n\n    /* page */\n\n    html { font: 25px/1 \'Open Sans\', sans-serif; overflow: auto; padding: 0.5in; }\n    html { background: #999; cursor: default; }\n\n    body { box-sizing: border-box; height: 11in; margin: 0 auto; padding: 0.5in; width: 8.5in; }\n    body { background: #FFF; border-radius: 1px; box-shadow: 0 0 1in -0.25in rgba(0, 0, 0, 0.5); }\n\n    /* header */\n\n    header { margin: 0 0 1em; }\n    header:after { clear: both; content: ""; display: table; }\n\n    header h1 { background: #e3e3e3; font-size: 30pt;text-align:center; line-height: 10mm; border-radius: 0.25em; color: #000; margin: 0 0 1em; padding: 0.5em 0; }\n    header span, header img { display: block; float: right; }\n    header span { margin: 0 0 1em 1em; max-height: 25%; max-width: 60%; position: relative;font-size: 24pt; line-height: 18mm }\n    header img { max-height: 100%; max-width: 100%; }\n\n    div p {font-size: 20pt; line-height: 12mm;}\n\n    /* article */\n\n    article, article address, table.meta, table.inventory { margin: 0 0 3em; }\n    article:after { clear: both; content: ""; display: table; }\n    article h1 { clip: rect(0 0 0 0); position: absolute; }\n\n    article address { float: left; font-size: 125%; font-weight: bold; }\n\n    /* table meta & balance */\n\n    table.meta, table.balance { float: right; width: 36%; }\n    table.meta:after, table.balance:after { clear: both; content: ""; display: table; }\n\n    /* table meta */\n\n    table.meta th { width: 40%; }\n    table.meta td { width: 60%; }\n\n    /* table items */\n\n    table.inventory { clear: both; width: 85%; }\n    table.inventory th { font-weight: bold; text-align: center; font-size:100% }\n\n    table.inventory th.name { width: 50%; }\n    /*table.inventory th:nth-child(2) { width: 12%; }*/\n\n\n\n    /* table balance */\n    table.balance {position:relative;right:190px}\n    table.balance th,\n    table.balance td { width: 180px; }\n    table.balance tr.grant td { width: 380px; }\n    table.balance tr.grand {font-weight:bold; }\n    table.balance td { text-align: center; }\n\n    /* aside */\n\n    aside h1 { border: none; border-width: 0 0 1px; margin: 0 0 1em; }\n    aside h1 { border-color: #999; border-bottom-style: solid; }\n\n    /* javascript */\n\n    .add, .cut\n    {\n        border-width: 1px;\n        display: block;\n        font-size: .8rem;\n        padding: 0.25em 0.5em;\n        float: left;\n        text-align: center;\n        width: 0.6em;\n    }\n\n    .add, .cut\n    {\n        background: #9AF;\n        box-shadow: 0 1px 2px rgba(0,0,0,0.2);\n        background-image: -moz-linear-gradient(#00ADEE 5%, #0078A5 100%);\n        background-image: -webkit-linear-gradient(#00ADEE 5%, #0078A5 100%);\n        border-radius: 0.5em;\n        border-color: #0076A3;\n        color: #FFF;\n        cursor: pointer;\n        font-weight: bold;\n        text-shadow: 0 -1px 2px rgba(0,0,0,0.333);\n    }\n\n    .add { margin: -2.5em 0 0; }\n\n    .add:hover { background: #00ADEE; }\n\n    .cut { opacity: 0; position: absolute; top: 0; left: -1.5em; }\n    .cut { -webkit-transition: opacity 100ms ease-in; }\n\n    tr:hover .cut { opacity: 1; }\n\n    @media print {\n        * { -webkit-print-color-adjust: exact; }\n        html { background: none; padding: 0; }\n        body { box-shadow: none; margin: 0; }\n        span:empty { display: none; }\n        .add, .cut { display: none; }\n    }\n\n    @page { margin: 0; }\n',loader:!1,ac:"",ses:{id:1,shift:"Afternoon",user_name:"aximilli",opening_cash:"3000",open_date:"24/07/2019",open_time:"3 minutes ago",session_state:"Active"},search:"",ses_area:!1,side_items:[],headers:[{text:"ID",align:"left",value:"id",class:"subheading"},{text:"Shift",align:"left",value:"shift",class:"subheading"},{text:"Username",align:"left",value:"user_name",class:"subheading"},{text:"Opening Cash",align:"left",value:"opening_cash",class:"subheading"},{text:"Closing Cash",align:"left",value:"closing_cash",class:"subheading"},{text:"Open Date",align:"left",value:"open_date",class:"subheading"},{text:"Open Time",align:"center",value:"open_time",class:"subheading"},{text:"State",align:"center",value:"session_state",class:"subheading"},{text:"Actions",align:"center",value:"session_state",class:"subheading"}],dialog:!1,fetchup:!1,snack:!1,total:"",snackText:!1,snackColor:"",editedIndex:-1,sesData:[]}},computed:{apiSet:function(){return this.$store.getters.getApi},formTitle:function(){return-1===this.editedIndex?"Add Shift":"Edit Shift"},btnTitle:function(){return-1===this.editedIndex?"Add Shift":"Update Shift"},expCash:function(){return parseFloat(this.ses.opening_cash)+parseFloat(this.ses.total_sales)-this.ses.expenses},varCash:function(){return this.ses.closing_cash-this.expCash}},mounted:function(){this.setSide(),this.loadSesData()},methods:{setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!1)},stateup:function(t){return"1"===t?"Active":"0"===t?"In-Active":void 0},loadSesData:function(){var t=this,e=this;this.fetchup=!0;var a={oid:this.userData.outlet_id,cid:this.userData.company_id,user_id:this.userData.id};To.post(this.apiSet.mySession,a).then(function(a){var s=a.data.data;e.sesData=s,e.total=s.length,e.fetchup=!1,t.snack=!0,t.snackText="Data Was Successfully loaded.",t.snackColor="green"}).catch(function(a){console.log(a),e.loader=!1,t.snack=!0,t.snackText="Sorry network error occurred.",t.snackColor="red",t.err.push(a)})},onOutletAdd:function(){var t=this;if(this.editedIndex>-1)this.updateOutlet();else{var e=this;this.$validator.validateAll().then(function(a){if(!a)return e.snack=!0,e.snackText="Error. Please correct form errors.",e.snackColor="red",!1;t.loader=!0;var s=t.out;To.post(t.apiSet.singleOutlet,s).then(function(t){e.closeup(),e.loadsesData(),e.loader=!1,e.snack=!0,e.snackText="Success. Data was successfully added.",e.snackColor="green"}).catch(function(t){e.loader=!1,e.snack=!0,e.snackText="Error.Sorry an error occured.",e.snackColor="red"})})}},editItem:function(t){this.editedIndex=this.sesData.indexOf(t);var e=this.sesData.indexOf(t),a=this.sesData[e];this.ses=wi()({},a),this.ses_area=!1,this.dialog=!0},closeup:function(){this.dialog=!1,this.ses_area=!1,this.out.outlet_name="",this.out.location="",this.out.phone_no="",this.out.company_id=1,this.editedIndex=-1},updateOutlet:function(){var t=this;if(this.editedIndex>-1){wi()(this.sesData[this.editedIndex],this.ses);var e=this.editedIndex,a=this.sesData[e].id;this.loader=!0,console.log(e);var s=this.ses;To.patch(this.apiSet.singleOutlet+"/"+a,s).then(function(e){console.log(e),t.loader=!1,t.snack=!0,t.snackText="Update Successful",t.snackColor="green",t.closeup(),t.$validator.reset(),t.loadSesData()}).catch(function(e){console.log(e),t.loader=!1,this.snack=!0,this.snackText="Network erorr occured.",this.snackColor="red"})}else console.log(this.editedItem)},printSession:function(){this.ses_area=!0,(new Oi.a).print(document.getElementById("session_area"),this.cssText)},closePrint:function(){this.ses_area=!1,this.dialog=!1},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Shift?",message:"Are you sure you want to Delete Shift?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.sesData.indexOf(t);this.sesData.splice(s,1),To.delete(a+"/outlet/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadsesData(),e.snack=!0,e.snackText="Data Successfully Deleted",e.snackColor="red"}).catch(function(t){e.snack=!0,e.snackText="Sorry. Network Error occured.",e.snackColor="red",console.log(t)})}}},No=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{staticClass:"mb-2",attrs:{color:"secondary",dark:"",small:""},on:{click:function(e){return t.$router.push("/invoice_list")}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" View Invoice List")],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dense:""}},[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Register Details")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},on:{click:t.closePrint}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-card",[a("v-card-title",[a("v-flex",{attrs:{sm10:""}},[a("h3",[t._v(t._s(t.ses.shift)+" Shift @ "+t._s(t.moment(t.ses.open_time).format("MMM Do YYYY"))+"   ")])]),t._v(" "),a("v-flex",{attrs:{sm2:""}},[a("span",{staticClass:"secondary--text align-end"},[a("small",[t._v(t._s(t.ses.user_name))])])])],1),t._v(" "),a("v-divider"),t._v(" "),a("v-list",{attrs:{dense:""}},[a("v-list-tile",[a("v-list-tile-content",[t._v("Opening Cash:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[t._v("Ghc "+t._s(t.ses.opening_cash))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",[t._v("Cash Sales:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.ses.cash)+" ")])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",[t._v("Cheque Sales")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.ses.cheque))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",[t._v("Visa Sales:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.ses.visa))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",[t._v("MoMo Sales:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.ses.momo))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",[t._v("Credit Sales:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.ses.credit))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",[t._v("Returns:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.ses.returns))])],1),t._v(" "),a("v-divider"),t._v(" "),a("v-list-tile",[a("v-list-tile-content",{staticClass:"subheading"},[t._v("Total Sales:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.ses.total_sales))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",{staticClass:"subheading"},[t._v("Expenses:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.ses.expenses))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",{staticClass:"subheading"},[t._v("Closing Cash:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.ses.closing_cash))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",{staticClass:"subheading green--text text-darken-3"},[t._v("Expected Cash:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.expCash))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",{staticClass:"subheading red--text text-darken-3"},[t._v("Variance in Cash:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.varCash))])],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"secondary"},on:{click:t.printSession}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-printer")]),t._v("Print Details")],1)],1)],1)],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("My Sessions [ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ]")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-8",attrs:{headers:t.headers,items:t.sesData,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.shift))]),t._v(" "),a("td",[t._v(t._s(e.item.user_name))]),t._v(" "),a("td",[t._v(t._s(e.item.opening_cash))]),t._v(" "),a("td",[t._v(t._s(e.item.closing_cash))]),t._v(" "),a("td",[t._v(t._s(e.item.open_date))]),t._v(" "),a("td",[t._v(t._s(t.moment(e.item.open_time).format("h:mm a")))]),t._v(" "),a("td",{class:t.ac},[t._v(t._s(t.stateup(e.item.session_state)))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"primary--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.editItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-open-in-new\n                    ")]),t._v(" View")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-card",{directives:[{name:"show",rawName:"v-show",value:t.ses_area,expression:"ses_area"}],attrs:{id:"session_area"}},[a("header",[a("h1",{staticStyle:{background:"#e3e3e3","font-size":"30pt","text-align":"center","line-height":"10mm","border-radius":"0.25em",color:"#000",margin:"0 0 1em",padding:"0.5em 0"}},[t._v(t._s(t.ses.shift)+" Shift @ "+t._s(t.moment(t.ses.open_time).format("MMM Do YYYY"))+" By "+t._s(t.ses.user_name))])]),t._v(" "),a("v-divider"),t._v(" "),a("table",{attrs:{dense:""}},[a("tr",[a("td",[t._v("Opening Cash:")]),t._v(" "),a("td",[t._v("Ghc "+t._s(t.ses.opening_cash))])]),t._v(" "),a("tr",[a("td",[t._v("Cash Sales:")]),t._v(" "),a("td",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.ses.cash)+" ")])]),t._v(" "),a("tr",[a("td",[t._v("Cheque Sales")]),t._v(" "),a("td",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.ses.cheque))])]),t._v(" "),a("tr",[a("td",[t._v("Visa Sales:")]),t._v(" "),a("td",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.ses.visa))])]),t._v(" "),a("tr",[a("td",[t._v("MoMo Sales:")]),t._v(" "),a("td",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.ses.momo))])]),t._v(" "),a("tr",[a("td",[t._v("Credit Sales:")]),t._v(" "),a("td",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.ses.credit))])]),t._v(" "),a("tr",[a("td",[t._v("Returns:")]),t._v(" "),a("td",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.ses.returns))])]),t._v(" "),a("v-divider"),t._v(" "),a("tr",[a("td",{staticClass:"subheading"},[t._v("Total Sales:")]),t._v(" "),a("td",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.ses.total_sales))])]),t._v(" "),a("tr",[a("td",{staticClass:"subheading"},[t._v("Expenses:")]),t._v(" "),a("td",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.ses.expenses))])]),t._v(" "),a("tr",[a("td",{staticClass:"subheading"},[t._v("Closing Cash:")]),t._v(" "),a("td",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.ses.closing_cash))])]),t._v(" "),a("tr",[a("td",{staticClass:"subheading"},[t._v("Expected Cash:")]),t._v(" "),a("td",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.expCash))])]),t._v(" "),a("tr",[a("td",{staticClass:"subheading"},[t._v("Variance:")]),t._v(" "),a("td",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.varCash))])]),t._v(" "),a("aside",[a("v-divider"),t._v(" "),a("div",{staticClass:"mt-4"},[a("small",{staticClass:"vsmall"},[t._v("Powered By WorkIT Facility Management System")])])],1)],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},Ao=[],Oo={render:No,staticRenderFns:Ao},Mo=Oo,Ro=a("VU/8"),jo=T,Yo=Ro(Eo,Mo,!1,jo,"data-v-0419dd52",null),Fo=Yo.exports,Uo=a("mtWM"),zo={name:"customers",$_veeValidate:{validator:"new"},data:function(){return{total:0,fetchup:!1,dialog:!1,edit_dialog:!1,loader:!1,title:"Mr.",firstname:"",debit_amt:"",purchase_date:"",lastname:"",phone:"",snack:"",snackText:"",snackColor:"",email:"",company:"",address:"",credit:"",discount_percentage:"",discount_amount:"",markup:"",search:"",su_snackbar:!1,er_snackbar:!1,gender:["Male","Female"],headers:[{text:"No.",align:"left",value:"num"},{text:"Customer Name",align:"left",value:"name"},{text:"Phone No.",align:"left",value:"phone"},{text:"Credit Limit(Ghc)",align:"left",value:"credit"},{text:"Actions",value:"name",align:"centre",sortable:!1}],customers:[],editedIndex:-1,editedItem:{id:"",validate:!0,title:"Mr",firstname:"firstname",lastname:"lastname",phone_no:"Phone No",email:"email@email.com",company:"Uniliver",address:"Accra",credit:0,discount_percentage:1,discount_amount:1,markup:1,credit_state:0,purchase_date:"02/04/2019",debit_amt:"2000"},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0},side_items:[{icon:"mdi-cash-multiple",text:"View Debtors",link:"/debtors"},{icon:"mdi-history",text:"Debtors History",link:"/debtors_history"}],emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],phoneRules:[function(t){return!!t||"Phone Numver is required"},function(t){return/.+@.+/.test(t)||"Phone Number must be numeric"}]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},apiSet:function(){return this.$store.getters.getApi},formIsValid:function(){return""!==this.title&&""!==this.firstname&&""!==this.lastname&&""!==this.phone&&""!==this.email&&""!==this.company&&""!==this.address&&""!==this.credit&&""!==this.discount_percentage&&""!==this.discount_amount&&""!==this.markup},editFormIsValid:function(){return""!==this.editedItem.firstname&&""!==this.editedItem.lastname&&""!==this.editedItem.phone&&""!==this.editedItem.email&&""!==this.editedItem.company&&""!==this.editedItem.address&&""!==this.editedItem.credit&&""!==this.editedItem.discount_percentage&&""!==this.editedItem.discount_amount&&""!==this.editedItem.markup}},submit_loading:function(){return!0},submitted:function(){return this.$store.state.submittedState},watch:{dialog:function(t){t||this.close()},submitted:function(){this.clearFields(),this.su_snackbar=!0}},mounted:function(){this.loadCustomers(),this.setSide()},methods:{setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!0)},loadCustomers:function(){var t=this;this.fetchup=!0;var e=this,a={oid:this.userData.outlet_id,cid:this.userData.company_id};Uo.post(this.apiSet.postCustomers,a).then(function(t){for(var a=[],s=t.data.data,i=0,n=s.length;i<n;i++)a.push({id:s[i].id,num:i,title:s[i].title,name:s[i].firstname+" "+s[i].lastname,firstname:s[i].firstname,lastname:s[i].lastname,phone_no:s[i].phone_no,email:s[i].email,company:s[i].company_name,address:s[i].address,credit:s[i].credit,debit_amt:s[i].credit_amount,purchase_date:s[i].purchase_date,discount_percentage:s[i].discount_percentage,discount_amount:s[i].discount_amount,markup:s[i].markup});e.customers=a,e.total=a.length,e.fetchup=!1,e.$store.commit("setCustomers",a)}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},onAddCustomer:function(){var t=this;this.$validator.validateAll().then(function(e){if(e){t.loader=!0;var a={company_id:t.userData.company_id,outlet_id:t.userData.outlet_id,title:t.title,firstname:t.firstname,lastname:t.lastname,phone:t.phone,email:t.email,company:t.company,address:t.address,credit:t.credit,discount_percentage:t.discount_percentage,discount_amount:t.discount_amount,markup:t.markup,credit_amount:t.debit_amt,purchase_date:t.purchase_date,credit_state:0},s=t;console.log(a),Uo.post(t.apiSet.singleCustomer,a).then(function(t){console.log(t),s.closeup(),s.su_snackbar=!0,s.loadCustomers(),s.loader=!1}).catch(function(t){console.log(t)})}else t.snack=!0,t.snackText="Please Correct form errors",t.snackColor="red"})},clearFields:function(){this.title="",this.firstname="",this.lastname="",this.email="",this.phone="",this.company="",this.address="",this.credit="",this.discount_percentage="",this.discount_amount="",this.markup="",this.$store.commit("setSubmitLoadState",!1)},closeup:function(){this.clearFields(),this.dialog=!1},close_edit:function(){this.clearFields(),this.edit_dialog=!1},editItem:function(t){this.editedIndex=this.customers.indexOf(t),this.editedItem=wi()({},t),this.edit_dialog=!0},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Customer",message:"Are you sure you want to Delete Customer?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.customers.indexOf(t);this.customers.splice(s,1),Uo.delete(a+"/customer/"+t.id).then(function(t){e.del_snackbar=!0,e.loadCustomers(),e.$store.commit("setNetError",!1)}).catch(function(t){e.$store.commit("setNetError",!0),console.log(t)})},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.editedItem=wi()({},t.defaultItem),t.editedIndex=-1},300)},save:function(){var t=this;if(this.formError=!1,this.editedIndex>-1){wi()(this.customers[this.editedIndex],this.editedItem);var e=this.editedItem.id;this.loader=!0;var a={title:this.editedItem.title,firstname:this.editedItem.firstname,lastname:this.editedItem.lastname,phone_no:this.editedItem.phone_no,email:this.editedItem.email,company_name:this.editedItem.company,address:this.editedItem.address,credit:this.editedItem.credit,discount_percentage:this.editedItem.discount_percentage,discount_amount:this.editedItem.discount_amount,markup:this.editedItem.markup,credit_amount:this.editedItem.debit_amt,purchase_date:this.editedItem.purchase_date,credit_state:0},s=this.$store.state.config.url;Uo.patch(s+"/customer/"+e,a).then(function(e){console.log(e),t.loader=!1,t.ed_snackbar=!0,t.edit_dialog=!1,t.loadCustomers()}).catch(function(e){console.log(e),t.loader=!1})}this.close()}}},Vo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"mb-2",attrs:{color:"secondary",dark:"",small:""},nativeOn:{click:function(e){t.dialog=!0}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" Add Customer")],1),t._v(" "),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:"",small:""},on:{click:function(e){return t.$router.push("/debtors")}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-cash-multiple")]),t._v("View Debtors")],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Add Customer")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Firstname",required:"",box:"","data-vv-name":"firstname","error-messages":t.errors.collect("firstname")},model:{value:t.firstname,callback:function(e){t.firstname=e},expression:"firstname"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Lastname",required:"",box:"","data-vv-name":"lastname","error-messages":t.errors.collect("lastname")},model:{value:t.lastname,callback:function(e){t.lastname=e},expression:"lastname"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Phone No.","prepend-icon":"mdi-phone",placeholder:"02XXXXXXXX",mask:"###-###-####"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Email","prepend-icon":"mdi-email",placeholder:"email@email.com"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Address","prepend-icon":"mdi-domain",required:""},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Company","prepend-icon":"mdi-domain",required:""},model:{value:t.company,callback:function(e){t.company=e},expression:"company"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md6:"",sm6:""}},[a("v-text-field",{attrs:{label:"Balance Before(Ghc)",type:"number",box:"","prepend-icon":"mdi-cash-multiple"},model:{value:t.debit_amt,callback:function(e){t.debit_amt=e},expression:"debit_amt"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md6:"",sm6:""}},[a("v-text-field",{attrs:{box:"",label:"Purchase Date",placeholder:"dd/mm/yyyy",required:"",mask:"##/##/####","return-masked-value":"","return-masked-value":"","prepend-icon":"mdi-calendar"},model:{value:t.purchase_date,callback:function(e){t.purchase_date=e},expression:"purchase_date"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md6:"",sm6:""}},[a("v-text-field",{attrs:{label:"Credit Limit",type:"number",required:""},model:{value:t.credit,callback:function(e){t.credit=e},expression:"credit"}})],1),a("v-flex",{attrs:{xs12:"",md6:"",sm6:""}},[a("v-text-field",{attrs:{label:"Discount Percentage",prefix:"%",type:"number",required:""},model:{value:t.discount_percentage,callback:function(e){t.discount_percentage=e},expression:"discount_percentage"}})],1),a("v-flex",{attrs:{xs12:"",md6:"",sm6:""}},[a("v-text-field",{attrs:{label:"Discount Amount",type:"number",required:""},model:{value:t.discount_amount,callback:function(e){t.discount_amount=e},expression:"discount_amount"}})],1),a("v-flex",{attrs:{xs12:"",md6:"",sm6:""}},[a("v-text-field",{attrs:{label:"Inc. Markup e.g: 1.4",placeholder:"Increase Price by markup",type:"number",required:""},model:{value:t.markup,callback:function(e){t.markup=e},expression:"markup"}})],1)],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},nativeOn:{click:function(e){return t.closeup(e)}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary",loading:t.loader,disabled:t.loader},on:{click:t.onAddCustomer}},[t._v("Save")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.edit_dialog,callback:function(e){t.edit_dialog=e},expression:"edit_dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Edit Customer")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.edit_dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Firstname",required:"",box:"",rules:[function(t){return!!t||"firstname is required"}]},model:{value:t.editedItem.firstname,callback:function(e){t.$set(t.editedItem,"firstname",e)},expression:"editedItem.firstname"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Lastname",required:"",box:"",rules:[function(t){return!!t||"Lastname is required"}]},model:{value:t.editedItem.lastname,callback:function(e){t.$set(t.editedItem,"lastname",e)},expression:"editedItem.lastname"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Phone No.","prepend-icon":"mdi-phone",placeholder:"02X-XXXXXXX",mask:"###-###-####"},model:{value:t.editedItem.phone_no,callback:function(e){t.$set(t.editedItem,"phone_no",e)},expression:"editedItem.phone_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Email","prepend-icon":"mdi-email",placeholder:"email@email.com",rules:t.emailRules},model:{value:t.editedItem.email,callback:function(e){t.$set(t.editedItem,"email",e)},expression:"editedItem.email"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Address","prepend-icon":"mdi-domain"},model:{value:t.editedItem.address,callback:function(e){t.$set(t.editedItem,"address",e)},expression:"editedItem.address"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Company","prepend-icon":"mdi-domain"},model:{value:t.editedItem.company_name,callback:function(e){t.$set(t.editedItem,"company_name",e)},expression:"editedItem.company_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md6:"",sm6:""}},[a("v-text-field",{attrs:{label:"Debit Amount(Ghc)",type:"number",box:"","prepend-icon":"mdi-cash-multiple"},model:{value:t.editedItem.debit_amt,callback:function(e){t.$set(t.editedItem,"debit_amt",e)},expression:"editedItem.debit_amt"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md6:"",sm6:""}},[a("v-text-field",{attrs:{box:"",label:"Purchase Date",placeholder:"dd/mm/yyyy",required:"","prepend-icon":"mdi-calendar",mask:"##/##/####","return-masked-value":""},model:{value:t.editedItem.purchase_date,callback:function(e){t.$set(t.editedItem,"purchase_date",e)},expression:"editedItem.purchase_date"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md6:"",sm6:""}},[a("v-text-field",{attrs:{label:"Credit Limit",type:"number",required:"",rules:[function(t){return!!t||"Credit is required"}]},model:{value:t.editedItem.credit,callback:function(e){t.$set(t.editedItem,"credit",e)},expression:"editedItem.credit"}})],1),a("v-flex",{attrs:{xs12:"",md6:"",sm6:""}},[a("v-text-field",{attrs:{label:"Discount Percentage",prefix:"%",type:"number"},model:{value:t.editedItem.discount_percentage,callback:function(e){t.$set(t.editedItem,"discount_percentage",e)},expression:"editedItem.discount_percentage"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md6:"",sm6:""}},[a("v-text-field",{attrs:{label:"Discount Amount",type:"number"},model:{value:t.editedItem.discount_amount,callback:function(e){t.$set(t.editedItem,"discount_amount",e)},expression:"editedItem.discount_amount"}})],1),a("v-flex",{attrs:{xs12:"",md6:"",sm6:""}},[a("v-text-field",{attrs:{label:"Inc. Markup e.g: 1.4",placeholder:"Increase Price by markup",type:"number"},model:{value:t.editedItem.markup,callback:function(e){t.$set(t.editedItem,"markup",e)},expression:"editedItem.markup"}})],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},nativeOn:{click:function(e){return t.close_edit(e)}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary",loading:t.loader,disabled:t.loader},on:{click:t.save}},[t._v("Update Details")])],1)],1)],1),t._v(" "),a("v-card",{staticClass:"elevation-4 thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("All Customers [ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ]")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search",outline:"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-8",attrs:{headers:t.headers,items:t.customers,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.num))]),t._v(" "),a("td",[t._v(t._s(e.item.name))]),t._v(" "),a("td",[t._v(t._s(e.item.phone_no))]),t._v(" "),a("td",[t._v(t._s(e.item.credit))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"mr-2 teal--text cpoint",attrs:{flat:"",small:""},on:{click:function(a){return t.editItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-pencil\n                    ")]),t._v(" Edit")],1),t._v(" "),a("v-btn",{staticClass:"red--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.deleteItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-delete\n                    ")]),t._v(" Delete")],1)],1)]}}])},[t._v(" "),a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.loadCustomers}},[t._v("Reset")])],1),t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],2)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.er_snackbar,callback:function(e){t.er_snackbar=e},expression:"er_snackbar"}},[t._v("\n            Please Enter Customer Details.\n            "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.er_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.su_snackbar,callback:function(e){t.su_snackbar=e},expression:"su_snackbar"}},[t._v("\n            Customer Successfully Added.\n            "),a("v-btn",{attrs:{flat:"",color:"green"},nativeOn:{click:function(e){t.su_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n            "+t._s(t.snackText)+"\n            "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},Bo=[],Go={render:Vo,staticRenderFns:Bo},Ho=Go,Lo=a("VU/8"),Wo=E,Qo=Lo(zo,Ho,!1,Wo,"data-v-712926ec",null),Zo=Qo.exports,Xo=a("mtWM"),Jo={name:"pack_units",data:function(){return{loader:!1,ex:{pack_name:""},search:"",side_items:[],headers:[{text:"No.",align:"left",value:"id",class:"subheading"},{text:"Pack Name",align:"left",value:"ex_name",class:"subheading"}],dialog:!1,fetchup:!1,snack:!1,total:"",snackText:!1,snackColor:"",editedIndex:-1,editedItem:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0},pack_units:[]}},computed:{lodashfun:function(){return _.chunk(["a","b","c","d"],2)},apiSet:function(){return this.$store.getters.getApi},formTitle:function(){return-1===this.editedIndex?"Add Pack Unit":"Edit Pack Unit"},btnTitle:function(){return-1===this.editedIndex?"Add Pack":"Update Pack"}},mounted:function(){this.setSide(),this.loadPacks()},methods:{setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!1)},loadPacks:function(){var t=this,e=this;this.fetchup=!0,Xo.get(this.apiSet.allPackUnits).then(function(a){var s=a.data.data;e.pack_units=s,e.total=s.length,e.fetchup=!1,t.snack=!0,t.snackText="Data Was Successfully loaded.",t.snackColor="green"}).catch(function(a){console.log(a),e.loader=!1,t.snack=!0,t.snackText="sorry an error occurred.",t.snackColor="red",t.err.push(a)})},onPackAdd:function(){var t=this;if(this.editedIndex>-1)this.updatePacks();else{var e=this;this.$validator.validateAll().then(function(a){if(!a)return e.snack=!0,e.snackText="Error. Please correct form errors.",e.snackColor="red",!1;t.loader=!0;var s=t.ex;Xo.post(t.apiSet.singlePackUnit,s).then(function(t){e.closeup(),e.loadPacks(),e.loader=!1,e.snack=!0,e.snackText="Success. Data was successfully added.",e.snackColor="green",this.$store.dispatch("loadPackUnits")}).catch(function(t){e.loader=!1,e.snack=!0,e.snackText="Error.Sorry an error occured.",e.snackColor="red"})})}},editItem:function(t){this.editedIndex=this.pack_units.indexOf(t);var e=this.pack_units.indexOf(t),a=this.pack_units[e];this.ex=wi()({},a),this.dialog=!0},closeup:function(){this.dialog=!1,this.ex.pack_name="",this.editedIndex=-1},updatePacks:function(){var t=this;if(this.editedIndex>-1){wi()(this.pack_units[this.editedIndex],this.editedItem);var e=this.editedIndex,a=this.pack_units[e].id;this.loader=!0,console.log(e);var s=this.ex;Xo.patch(this.apiSet.singlePackUnit+"/"+a,s).then(function(e){console.log(e),t.loader=!1,t.snack=!0,t.snackText="Update Successful",t.snackColor="green",t.closeup(),t.$validator.reset(),t.loadPacks()}).catch(function(e){console.log(e),t.loader=!1,this.snack=!0,this.snackText="Network erorr occured.",this.snackColor="red"})}else console.log(this.editedItem)},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Pack Unit?",message:"Are you sure you want to Delete Pack Unit?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.pack_units.indexOf(t);this.pack_units.splice(s,1),Xo.delete(a+"/packunit/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadPacks(),e.snack=!0,e.snackText="Data Successfully Deleted",e.snackColor="red"}).catch(function(t){e.snack=!0,e.snackText="Sorry. Network Error occured.",e.snackColor="red",console.log(t)})}}},Ko=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"secondary",dark:""},slot:"activator"},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" New Pack Unit")],1),t._v(" "),a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v(t._s(t.formTitle))]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.closeup(e)}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){t.preventDefault()}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Pack Unit Name",box:"","data-vv-name":"pack_name",required:"","error-messages":t.errors.collect("pack_name")},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onPackAdd(e)}},model:{value:t.ex.pack_name,callback:function(e){t.$set(t.ex,"pack_name",e)},expression:"ex.pack_name"}})],1)],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},nativeOn:{click:function(e){return t.closeup(e)}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary",loading:t.loader,disabled:t.loader},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onPackAdd(e)},click:t.onPackAdd}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-library-plus")]),t._v(t._s(t.btnTitle))],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("\n                All Pack Units [ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ]")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-8",attrs:{headers:t.headers,items:t.pack_units,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.pack_name))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"primary--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.editItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-pencil\n                    ")]),t._v(" Edit ")],1),t._v(" "),a("v-btn",{staticClass:"red--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.deleteItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-delete\n                    ")]),t._v(" Delete ")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},tl=[],el={render:Ko,staticRenderFns:tl},al=el,sl=a("VU/8"),il=N,nl=sl(Jo,al,!1,il,"data-v-e7dc1340",null),rl=nl.exports,ol=a("mvHQ"),ll=a.n(ol),cl=a("mtWM"),dl={$_veeValidate:{validator:"new"},name:"user_profile",data:function(){return{loader:!1,reset_pass:!1,isPasswordVisible:!1,isPasswordVisible2:!1,user:{name:"",email:"",password:"",c_password:"",company_id:0,outlet_id:0,role:""}}},computed:{uSum:function(){return{name:this.userData.user_name,email:this.userData.user_email,role:this.userData.role_name,com_name:this.userData.company_name,com_address:this.userData.company_address,com_location:this.userData.company_location,com_phone:this.userData.company_phone_no,com_slogan:this.userData.company_slogan,com_outlet:this.userData.outlet_location,com_outlet_name:this.userData.outlet_name}},apiSet:function(){return this.$store.getters.getApi}},mounted:function(){this.viewProfile()},methods:{viewReset:function(){this.reset_pass=!0},viewProfile:function(){this.reset_pass=!1,this.user.name=this.uSum.name,this.user.email=this.uSum.email},updateProfile:function(){var t=this;this.loader=!0;var e=this;if(this.user.name===this.uSum.name&&this.user.email===this.uSum.email)return e.$store.commit("setSnack",{t:"Sorry! No Change in details.",c:"red darken-3"}),this.loader=!1,!1;this.$validator.validateAll().then(function(a){if(!a)return e.snack=!0,e.snackText="Error. Please correct form errors.",e.snackColor="red",!1;t.loader=!0;var s={uid:t.userData.id,email:t.user.email,name:t.user.name};cl.post(t.apiSet.update_det,s).then(function(t){e.closeup(),e.loadUsers(),e.$store.dispatch("loadUserData",s.uid),e.loader=!1,e.snack=!0,e.snackText="Success. Data was successfully added.",e.snackColor="green"}).catch(function(t){e.loader=!1,e.snack=!0,e.snackText="Error.Sorry an error occured.",e.snackColor="red"})})},resetPass:function(){var t=this,e=this;this.$validator.validateAll().then(function(a){if(!a)return e.$store.commit("setSnack",{t:"Error! Please correct form errors.",c:"red darken-3"}),!1;var s=function(){e.res()},i={title:"Reset Password?",message:"Are you sure you want to Reset Password?",type:"warning",useConfirmBtn:!0,onConfirm:s};t.$refs.simplert.openSimplert(i)})},res:function(){var t=this.userData.id,e=this.user.password;this.loader=!0;var a=this;cl.patch(this.apiSet.passReset+"/"+t,{password:e}).then(function(t){console.log(t),a.loader=!1,localStorage.setItem("workitUser",ll()({})),a.$store.commit("setSnack",{t:"Success! Password Successfully reset",c:"green darken-3"}),a.$router.push("/")}).catch(function(t){console.log(t),a.loader=!1,this.snack=!0,this.snackText="Network erorr occured.",this.snackColor="red"})}}},ul=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{staticClass:"mb-2",attrs:{row:"","align-center":""}},[a("v-flex",{attrs:{sm3:""}},[a("v-btn",{staticClass:"elevation-8",attrs:{large:"",color:"primary--text"},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-arrow-left-thick")]),t._v("Go Back")],1)],1),t._v(" "),a("v-flex",{attrs:{sm3:""}},[t.reset_pass?a("v-btn",{staticClass:"elevation-8",attrs:{large:"",color:"primary--text"},on:{click:t.viewProfile}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-account")]),t._v("View Profile")],1):a("v-btn",{staticClass:"elevation-8",attrs:{large:"",color:"secondary--text"},on:{click:t.viewReset}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-lock-reset")]),t._v("Reset Password")],1)],1)],1),t._v(" "),a("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[a("v-layout",{attrs:{"justify-center":"",wrap:""}},[t.reset_pass?a("v-flex",{attrs:{xs12:"",md4:"","offset-md2":""}},[a("material-card",{attrs:{title:"Edit Profile",text:"Complete your profile"}},[a("div",{staticClass:"mb-2 subheading secondary--text"},[t._v("Change Password")]),t._v(" "),a("v-form",[a("v-container",{attrs:{"py-0":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6|max:100",expression:"'required|min:6|max:100'"}],ref:"password",attrs:{name:"password",label:"Password","data-vv-name":"password","data-vv-delay":"300",min:"6","error-messages":t.errors.collect("password"),hint:"Password should be a minimum of 6 characters","prepend-icon":"lock","append-icon":t.isPasswordVisible?"visibility":"visibility_off","append-icon-cb":function(){return t.isPasswordVisible=!t.isPasswordVisible},type:t.isPasswordVisible?"text":"password"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|confirmed:password",expression:"'required|confirmed:password'"}],attrs:{label:"Confirm Password","data-vv-name":"password_confirmation","data-vv-delay":"300",target:"password","error-messages":t.errors.collect("password_confirmation"),"prepend-icon":"lock","append-icon":t.isPasswordVisible2?"visibility":"visibility_off","append-icon-cb":function(){return t.isPasswordVisible2=!t.isPasswordVisible2},type:t.isPasswordVisible2?"text":"password"},model:{value:t.user.c_password,callback:function(e){t.$set(t.user,"c_password",e)},expression:"user.c_password"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"","text-xs-right":""}},[a("v-btn",{staticClass:"mx-0 font-weight-light",attrs:{color:"secondary",loading:t.loader,disabled:t.loader},on:{click:t.resetPass}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-refresh")]),t._v("\n                                        Change Password\n                                    ")],1)],1)],1)],1)],1)],1)],1):a("v-flex",{attrs:{xs12:"",md8:""}},[a("material-card",{attrs:{title:"Edit Profile",text:"Complete your profile"}},[a("div",{staticClass:"mb-2 subheading primary--text"},[t._v("User Profile")]),t._v(" "),a("v-form",[a("v-container",{attrs:{"py-0":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",md4:""}},[a("v-text-field",{attrs:{label:"Company",disabled:""},model:{value:t.uSum.com_name,callback:function(e){t.$set(t.uSum,"com_name",e)},expression:"uSum.com_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md4:""}},[a("v-text-field",{staticClass:"purple-input",attrs:{label:"Outlet Name",disabled:""},model:{value:t.uSum.com_outlet_name,callback:function(e){t.$set(t.uSum,"com_outlet_name",e)},expression:"uSum.com_outlet_name"}},[t._v("\n                                        "+t._s(t.uSum.name)+"\n\n                                    ")])],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md4:""}},[a("v-text-field",{staticClass:"purple-input",attrs:{label:"Location",disabled:""},model:{value:t.uSum.com_outlet,callback:function(e){t.$set(t.uSum,"com_outlet",e)},expression:"uSum.com_outlet"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:40",expression:"'required|max:40'"}],staticClass:"purple-input",attrs:{label:"Username",counter:40,"error-messages":t.errors.collect("username"),"data-vv-name":"username",required:""},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|email|max:40",expression:"'required|email|max:40'"}],staticClass:"purple-input",attrs:{label:"Email Address",counter:40,"error-messages":t.errors.collect("email"),"data-vv-name":"email",required:""},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md12:""}},[a("v-text-field",{staticClass:"purple-input",attrs:{label:"Adress",disabled:""},model:{value:t.uSum.com_address,callback:function(e){t.$set(t.uSum,"com_address",e)},expression:"uSum.com_address"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"","text-xs-right":""}},[a("v-btn",{staticClass:"mx-0 font-weight-light",attrs:{color:"secondary",loading:t.loader,disabled:t.loader},on:{click:t.updateProfile}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-account-convert")]),t._v("\n                                        Update Profile\n                                    ")],1)],1)],1)],1)],1)],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md4:""}},[a("material-card",{staticClass:"v-card-profile"},[a("v-avatar",{staticClass:"mx-auto d-block",attrs:{slot:"offset",size:"130"},slot:"offset"},[a("img",{attrs:{src:"/static/img/male.gif"}})]),t._v(" "),a("v-card-text",{staticClass:"text-xs-center"},[a("h6",{staticClass:"category text-gray font-weight-thin mb-1"},[t._v(t._s(t.uSum.name))]),t._v(" "),a("h6",{staticClass:"category text-gray font-weight-thin mb-3"},[t._v("("+t._s(t.uSum.role)+")")]),t._v(" "),a("h4",{staticClass:"card-title font-weight-light"},[t._v(t._s(t.uSum.email))])])],1)],1)],1)],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},ml=[],vl={render:ul,staticRenderFns:ml},_l=vl,pl=a("VU/8"),hl=pl(dl,_l,!1,null,null,null),fl=hl.exports,bl=a("mtWM"),gl={name:"outlets",data:function(){return{loader:!1,ses:{id:1,shift:"Afternoon",user_name:"aximilli",opening_cash:"3000",open_date:"24/07/2019",open_time:"3 minutes ago",session_state:"Active"},search:"",side_items:[],headers:[{text:"ID",align:"left",value:"id",class:"subheading"},{text:"Shift",align:"left",value:"shift",class:"subheading"},{text:"Username",align:"left",value:"user_name",class:"subheading"},{text:"Opening Cash",align:"left",value:"opening_cash",class:"subheading"},{text:"Open Date",align:"left",value:"open_date",class:"subheading"},{text:"Open Time",align:"center",value:"open_time",class:"subheading"},{text:"State",align:"center",value:"session_state",class:"subheading"},{text:"Actions",align:"center",value:"session_state",class:"subheading"}],dialog:!1,fetchup:!1,snack:!1,total:"",snackText:!1,snackColor:"",editedIndex:-1,sesData:[]}},computed:{apiSet:function(){return this.$store.getters.getApi},formTitle:function(){return-1===this.editedIndex?"Add Shift":"Edit Shift"},btnTitle:function(){return-1===this.editedIndex?"Add Shift":"Update Shift"}},mounted:function(){this.setSide(),this.loadSesData()},methods:{setStatus:function(t){return parseInt(t)?"Active":"Ended"},setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!1)},stateup:function(t){return t?"Active":"In-Active"},loadSesData:function(){var t=this,e=this;this.fetchup=!0,bl.get(this.apiSet.saleSession).then(function(a){var s=a.data.data;e.sesData=s,e.total=s.length,e.fetchup=!1,t.snack=!0,t.snackText="Data Was Successfully loaded.",t.snackColor="green"}).catch(function(a){console.log(a),e.loader=!1,t.snack=!0,t.snackText="Sorry network error occurred.",t.snackColor="red",t.err.push(a)})},onOutletAdd:function(){var t=this;if(this.editedIndex>-1)this.updateOutlet();else{var e=this;this.$validator.validateAll().then(function(a){if(!a)return e.snack=!0,e.snackText="Error. Please correct form errors.",e.snackColor="red",!1;t.loader=!0;var s=t.out;bl.post(t.apiSet.singleOutlet,s).then(function(t){e.closeup(),e.loadsesData(),e.loader=!1,e.snack=!0,e.snackText="Success. Data was successfully added.",e.snackColor="green"}).catch(function(t){e.loader=!1,e.snack=!0,e.snackText="Error.Sorry an error occured.",e.snackColor="red"})})}},editItem:function(t){this.editedIndex=this.sesData.indexOf(t);var e=this.sesData.indexOf(t),a=this.sesData[e];this.ses=wi()({},a),this.dialog=!0},closeup:function(){this.dialog=!1,this.out.outlet_name="",this.out.location="",this.out.phone_no="",this.out.company_id=1,this.editedIndex=-1},updateOutlet:function(){var t=this;if(this.editedIndex>-1){wi()(this.sesData[this.editedIndex],this.ses);var e=this.editedIndex,a=this.sesData[e].id;this.loader=!0,console.log(e);var s=this.ses;bl.patch(this.apiSet.singleOutlet+"/"+a,s).then(function(e){console.log(e),t.loader=!1,t.snack=!0,t.snackText="Update Successful",t.snackColor="green",t.closeup(),t.$validator.reset(),t.loadSesData()}).catch(function(e){console.log(e),t.loader=!1,this.snack=!0,this.snackText="Network erorr occured.",this.snackColor="red"})}else console.log(this.editedItem)},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Shift?",message:"Are you sure you want to Delete Shift?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.sesData.indexOf(t);this.sesData.splice(s,1),bl.delete(a+"/outlet/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadsesData(),e.snack=!0,e.snackText="Data Successfully Deleted",e.snackColor="red"}).catch(function(t){e.snack=!0,e.snackText="Sorry. Network Error occured.",e.snackColor="red",console.log(t)})}}},xl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v(t._s(t.formTitle))]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.closeup(e)}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Shift",box:""},model:{value:t.ses.shift,callback:function(e){t.$set(t.ses,"shift",e)},expression:"ses.shift"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Username"},model:{value:t.ses.user_name,callback:function(e){t.$set(t.ses,"user_name",e)},expression:"ses.user_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Opening Cash"},model:{value:t.ses.opening_cash,callback:function(e){t.$set(t.ses,"opening_cash",e)},expression:"ses.opening_cash"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Open Date"},model:{value:t.ses.open_date,callback:function(e){t.$set(t.ses,"open_date",e)},expression:"ses.open_date"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Opening Cash"},model:{value:t.ses.open_time,callback:function(e){t.$set(t.ses,"open_time",e)},expression:"ses.open_time"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"State"},model:{value:t.ses.session_state,callback:function(e){t.$set(t.ses,"session_state",e)},expression:"ses.session_state"}})],1)],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},nativeOn:{click:function(e){return t.closeup(e)}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary",loading:t.loader,disabled:t.loader},on:{click:t.onOutletAdd}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-library-plus")]),t._v(t._s(t.btnTitle))],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("All Active Sessions [ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ]")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-8",attrs:{headers:t.headers,items:t.sesData,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.shift))]),t._v(" "),a("td",[t._v(t._s(e.item.user_name))]),t._v(" "),a("td",[t._v(t._s(e.item.opening_cash))]),t._v(" "),a("td",[t._v(t._s(e.item.open_date))]),t._v(" "),a("td",[t._v(t._s(e.item.open_time))]),t._v(" "),a("td",{class:"0"===e.item.session_state?"red--text":"green--text subheading"},[t._v(t._s(t.setStatus(e.item.session_state)))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"primary--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.editItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-pencil\n                    ")]),t._v(" Edit ")],1),t._v(" "),a("v-btn",{staticClass:"red--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.deleteItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-delete\n                    ")]),t._v(" Delete ")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},yl=[],kl={render:xl,staticRenderFns:yl},wl=kl,Cl=a("VU/8"),Il=A,Sl=Cl(gl,wl,!1,Il,"data-v-c4cecfca",null),ql=Sl.exports,Dl=a("mtWM"),$l={name:"fms_users",data:function(){return{loader:!1,isPasswordVisible:!1,isPasswordVisible2:!1,user:{name:"",email:"",password:"",c_password:"",company_id:0,outlet_id:0,role:""},role:{role_name:"SuperAdmin",abbr:"X"},roles:[{role_name:"SuperAdmin",abbr:"X"},{role_name:"Retailer",abbr:"P"},{role_name:"Finance Manager",abbr:"F"},{role_name:"Cashier",abbr:"C"},{role_name:"Warehouse Manager",abbr:"W"},{role_name:"Administrator",abbr:"A"}],company:{company_name:"WorkIT FMS",id:1},companies:[],outlet:{outlet_name:"Warehouse",id:1},outlets:[],search:"",side_items:[],headers:[{text:"ID",align:"left",value:"id",class:"subheading"},{text:"User Name",align:"left",value:"name",class:"subheading"},{text:"Email",align:"left",value:"email",class:"subheading"},{text:"Role",align:"left",value:"role_name",class:"subheading"},{text:"Outlet",align:"left",value:"outlet",class:"subheading"},{text:"Company",align:"left",value:"company",class:"subheading"},{text:"Actions",align:"center",value:"action",class:"subheading"}],dialog:!1,fetchup:!1,snack:!1,total:"",snackText:!1,snackColor:"",editedIndex:-1,users:[]}},computed:{apiSet:function(){return this.$store.getters.getApi},getOutlets:function(){return this.$store.getters.getOutlets},formTitle:function(){return-1===this.editedIndex?"Add User":"Edit User"},btnTitle:function(){return-1===this.editedIndex?"Add User":"Update User"},passup:function(){return-1===this.editedIndex}},mounted:function(){this.setSide(),this.loadUsers(),this.getOut(),this.getCompanys()},methods:{setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!1)},getOut:function(){this.$store.dispatch("loadOutlets"),this.outList()},outList:function(){for(var t=this.$store.getters.getOutlets,e=[],a=0,s=t.length;a<s;a++)t[a].id>1&&e.push({outlet_name:t[a].outlet_name,id:t[a].id});this.outlets=e},getCompanys:function(){var t=this,e=this;this.fetchup=!0,Dl.get(this.apiSet.allCompanys).then(function(t){for(var a=[],s=t.data.data,i=0,n=s.length;i<n;i++)a.push({id:s[i].id,company_name:s[i].company_name});e.companies=a}).catch(function(a){console.log(a),e.loader=!1,t.snack=!0,t.snackText="Sorry network error occurred.",t.snackColor="red",t.err.push(a)})},loadUsers:function(){var t=this,e=this;this.fetchup=!0;var a={cid:this.userData.company_id};Dl.post(this.apiSet.postUsers,a).then(function(a){for(var s=[],i=a.data.data,n=0,r=i.length;n<r;n++)s.push({id:i[n].id,num:n,title:i[n].title,name:i[n].name,email:i[n].email,role:i[n].role_name,company:i[n].company.company_name,outlet:i[n].outlet.outlet_name,lastname:i[n].lastname,phone_no:i[n].phone_no});e.users=s,e.total=s.length,e.fetchup=!1,t.snack=!0,t.snackText="Data Was Successfully loaded.",t.snackColor="green"}).catch(function(a){console.log(a),e.loader=!1,t.snack=!0,t.snackText="Sorry network error occurred.",t.snackColor="red",t.err.push(a)})},onUserAdd:function(){var t=this;if(this.editedIndex>-1)this.updateUser();else{var e=this;this.$validator.validateAll().then(function(a){if(!a)return e.snack=!0,e.snackText="Error. Please correct form errors.",e.snackColor="red",!1;t.loader=!0;var s={company_id:t.company.id,outlet_id:t.outlet.id,role:t.role.abbr,role_name:t.role.role_name,email:t.user.email,password:t.user.password,c_password:t.user.c_password,name:t.user.name};Dl.post(t.apiSet.register,s).then(function(t){e.closeup(),e.loadUsers(),e.loader=!1,e.snack=!0,e.snackText="Success. Data was successfully added.",e.snackColor="green"}).catch(function(t){e.loader=!1,e.snack=!0,e.snackText="Error.Sorry an error occured.",e.snackColor="red"})})}},editItem:function(t){this.editedIndex=this.users.indexOf(t);var e=this.users.indexOf(t),a=this.users[e];this.user=wi()({},a),this.dialog=!0},closeup:function(){this.dialog=!1,this.user.name="",this.user.email="",this.user.password="",this.user.c_password="",this.editedIndex=-1},updateUser:function(){var t=this;if(this.editedIndex>-1){wi()(this.users[this.editedIndex],this.editedItem);var e=this.editedIndex,a=this.users[e].id;this.loader=!0,console.log(e);var s={company_id:this.company.id,outlet_id:this.outlet.id,role:this.role.abbr,role_name:this.role.role_name,email:this.user.email,name:this.user.name};Dl.patch(this.apiSet.singleUser+"/"+a,s).then(function(e){t.loader=!1,t.snack=!0,t.snackText="Update Successful",t.snackColor="green",t.closeup(),t.$validator.reset(),t.loadUsers()}).catch(function(e){console.log(e),t.loader=!1,this.snack=!0,this.snackText="Network erorr occured.",this.snackColor="red"})}},resetPass:function(t){var e=this,a=function(){e.res(t)},s={title:"Reset Password?",message:"Are you sure you want to Reset Password?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},res:function(t){this.fetchup=!0;var e=this;Dl.patch(this.apiSet.passReset+"/"+t).then(function(t){console.log(t),e.fetchup=!1,e.snack=!0,e.snackText="Password Successfully Reset to fms1212",e.snackColor="green"}).catch(function(t){console.log(t),e.loader=!1,this.snack=!0,this.snackText="Network erorr occured.",this.snackColor="red"})},deleteItem:function(t,e){var a=this;if(1===e){var s={title:"Sorry !",message:"You Cannot Delete SuperAdmin?",type:"warning"};return this.$refs.simplert.openSimplert(s),!1}var i=function(){a.del(t)},n={title:"Delete User?",message:"Are you sure you want to Delete User?",type:"warning",useConfirmBtn:!0,onConfirm:i};this.$refs.simplert.openSimplert(n)},del:function(t){var e=this,a=this.$store.state.config.url;if(t.id===this.userData.id)return e.snack=!0,e.snackText="Sorry You cannot Delete yourself.",e.snackColor="red",!1;var s=this.users.indexOf(t);this.users.splice(s,1),Dl.delete(a+"/user/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadUsers(),e.snack=!0,e.snackText="Data Successfully Deleted",e.snackColor="red"}).catch(function(t){e.snack=!0,e.snackText="Sorry. Network Error occured.",e.snackColor="red",console.log(t)})}}},Pl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"secondary",dark:""},slot:"activator"},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" New User")],1),t._v(" "),a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v(t._s(t.formTitle))]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.closeup(e)}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Full Name","prepend-icon":"mdi-account","data-vv-name":"name","error-messages":t.errors.collect("name")},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"email|required",expression:"'email|required'"}],attrs:{label:"Email","prepend-icon":"mdi-email","data-vv-name":"email","error-messages":t.errors.collect("email")},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),t._v(" "),t.passup?a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6|max:100",expression:"'required|min:6|max:100'"}],ref:"password",attrs:{name:"password",label:"Password","data-vv-name":"password","data-vv-delay":"300",min:"6","error-messages":t.errors.collect("password"),hint:"Password should be a minimum of 6 characters","prepend-icon":"lock","append-icon":t.isPasswordVisible?"visibility":"visibility_off","append-icon-cb":function(){return t.isPasswordVisible=!t.isPasswordVisible},type:t.isPasswordVisible?"text":"password"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1):t._e(),t._v(" "),t.passup?a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|confirmed:password",expression:"'required|confirmed:password'"}],attrs:{label:"Confirm Password","data-vv-name":"password_confirmation","data-vv-delay":"300",target:"password","error-messages":t.errors.collect("password_confirmation"),"prepend-icon":"lock","append-icon":t.isPasswordVisible2?"visibility":"visibility_off","append-icon-cb":function(){return t.isPasswordVisible2=!t.isPasswordVisible2},type:t.isPasswordVisible2?"text":"password"},model:{value:t.user.c_password,callback:function(e){t.$set(t.user,"c_password",e)},expression:"user.c_password"}})],1):t._e(),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{hint:t.company.company_name+", "+t.company.id,items:t.companies,"item-text":"company_name","item-value":"id",label:"Select Company","prepend-icon":"mdi-domain","persistent-hint":"","return-object":"","offset-y":""},model:{value:t.company,callback:function(e){t.company=e},expression:"company"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{hint:t.outlet.outlet_name+", "+t.outlet.id,items:t.outlets,"item-text":"outlet_name","item-value":"id",label:"Select Outlet","prepend-icon":"mdi-home-variant","persistent-hint":"","return-object":"","offset-y":""},model:{value:t.outlet,callback:function(e){t.outlet=e},expression:"outlet"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{hint:t.role.role_name+", "+t.role.abbr,items:t.roles,"item-text":"role_name","item-value":"abbr",label:"Assign Role","prepend-icon":"mdi-account-convert","persistent-hint":"","return-object":"","offset-y":""},model:{value:t.role,callback:function(e){t.role=e},expression:"role"}})],1)],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},nativeOn:{click:function(e){return t.closeup(e)}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary",loading:t.loader,disabled:t.loader},on:{click:t.onUserAdd}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-library-plus")]),t._v(t._s(t.btnTitle))],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("All Users [ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ]")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-8",attrs:{headers:t.headers,items:t.users,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.name))]),t._v(" "),a("td",[t._v(t._s(e.item.email))]),t._v(" "),a("td",[t._v(t._s(e.item.role))]),t._v(" "),a("td",[t._v(t._s(e.item.outlet))]),t._v(" "),a("td",[t._v(t._s(e.item.company))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"orange--text text--darken-3 cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.resetPass(e.item.id)}}},[a("v-icon",[t._v("\n                        mdi-lock-reset\n                    ")]),t._v(" Reset Password ")],1),t._v(" "),a("v-btn",{staticClass:"primary--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.editItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-pencil\n                    ")]),t._v(" Edit ")],1),t._v(" "),a("v-btn",{staticClass:"red--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.deleteItem(e.item,e.item.id)}}},[a("v-icon",[t._v("\n                        mdi-delete\n                    ")]),t._v(" Delete ")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:16e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},Tl=[],El={render:Pl,staticRenderFns:Tl},Nl=El,Al=a("VU/8"),Ol=O,Ml=Al($l,Nl,!1,Ol,"data-v-6f495b3a",null),Rl=Ml.exports,jl=a("mtWM"),Yl={name:"fms_company",data:function(){return{loader:!1,com:{company_tag:"",company_name:"",address:"",location:"",phone_no:"",company_slogan:"",vat:"",category:""},search:"",side_items:[],headers:[{text:"ID",align:"left",value:"id",class:"subheading"},{text:"Company Tag",align:"left",value:"company_tag",class:"subheading"},{text:"Company Name",align:"left",value:"company_name",class:"subheading"},{text:"Address",align:"left",value:"address",class:"subheading"},{text:"Location",align:"left",value:"location",class:"subheading"},{text:"Phone No.",align:"left",value:"phone_no",class:"subheading"},{text:"Vat %",align:"left",value:"vat",class:"subheading"},{text:"Products Category",align:"left",value:"category",class:"subheading"},{text:"Actions",align:"left",value:"action",class:"subheading"}],dialog:!1,fetchup:!1,snack:!1,total:"",snackText:!1,snackColor:"",editedIndex:-1,companys:[]}},computed:{apiSet:function(){return this.$store.getters.getApi},formTitle:function(){return-1===this.editedIndex?"Add Company":"Edit Company"},btnTitle:function(){return-1===this.editedIndex?"Add Company":"Update Company"},catFetch:function(){for(var t=this.$store.getters.getCats,e=[],a=0,s=t.length;a<s;a++)e.push(t[a].cat_name);return e}},mounted:function(){navigator.onLine,this.setSide(),this.loadCompanies()},methods:{setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!1)},loadCompanies:function(){var t=this,e=this;this.fetchup=!0,jl.get(this.apiSet.allCompanys).then(function(a){var s=a.data.data;e.companys=s,e.total=s.length,e.fetchup=!1,t.snack=!0,t.snackText="Data Was Successfully loaded.",t.snackColor="green"}).catch(function(a){console.log(a),e.loader=!1,t.snack=!0,t.snackText="sorry an error occurred.",t.snackColor="red",t.err.push(a)})},onCompanyAdd:function(){var t=this;if(this.editedIndex>-1)this.updateExpense();else{var e=this;this.$validator.validateAll().then(function(a){if(!a)return e.snack=!0,e.snackText="Error. Please correct form errors.",e.snackColor="red",!1;t.loader=!0;var s=t.com;jl.post(t.apiSet.singleCompany,s).then(function(t){e.closeup(),e.loadCompanies(),e.loader=!1,e.snack=!0,e.snackText="Success. Data was successfully added.",e.snackColor="green"}).catch(function(t){e.loader=!1,e.snack=!0,e.snackText="Error.Sorry an error occured.",e.snackColor="red"})})}},editItem:function(t){this.editedIndex=this.companys.indexOf(t);var e=this.companys.indexOf(t),a=this.companys[e];this.com=wi()({},a),this.dialog=!0},closeup:function(){this.dialog=!1,this.com.company_tag="",this.com.company_name="",this.com.address="",this.com.location="",this.com.phone_no="",this.com.company_slogan="",this.com.vat="",this.com.category="",this.editedIndex=-1},updateExpense:function(){var t=this;if(this.editedIndex>-1){wi()(this.companys[this.editedIndex],this.editedItem);var e=this.editedIndex,a=this.companys[e].id;this.loader=!0,console.log(e);var s=this.com;jl.patch(this.apiSet.singleCompany+"/"+a,s).then(function(e){console.log(e),t.loader=!1,t.snack=!0,t.snackText="Update Successful",t.snackColor="green",t.closeup(),t.$validator.reset(),t.loadCompanies()}).catch(function(e){console.log(e),t.loader=!1,this.snack=!0,this.snackText="Network erorr occured.",this.snackColor="red"})}else console.log(this.editedItem)},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Company?",message:"Are you sure you want to Delete Company?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.companys.indexOf(t);this.companys.splice(s,1),jl.delete(a+"/company/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadCompanies(),e.snack=!0,e.snackText="Data Successfully Deleted",e.snackColor="red"}).catch(function(t){e.snack=!0,e.snackText="Sorry. Network Error occured.",e.snackColor="red",console.log(t)})}}},Fl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"secondary",dark:""},slot:"activator"},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" New Company")],1),t._v(" "),a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v(t._s(t.formTitle))]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.closeup(e)}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Company Tag",box:"","data-vv-name":"tag","error-messages":t.errors.collect("tag")},model:{value:t.com.company_tag,callback:function(e){t.$set(t.com,"company_tag",e)},expression:"com.company_tag"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Company Name",box:"","data-vv-name":"name","error-messages":t.errors.collect("name")},model:{value:t.com.company_name,callback:function(e){t.$set(t.com,"company_name",e)},expression:"com.company_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Address"},model:{value:t.com.address,callback:function(e){t.$set(t.com,"address",e)},expression:"com.address"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Location"},model:{value:t.com.location,callback:function(e){t.$set(t.com,"location",e)},expression:"com.location"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{box:"",label:"Phone No.",placeholder:"02XXXXXXXX","data-vv-name":"phone_no","error-messages":t.errors.collect("phone_no")},model:{value:t.com.phone_no,callback:function(e){t.$set(t.com,"phone_no",e)},expression:"com.phone_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Company Slogan"},model:{value:t.com.company_slogan,callback:function(e){t.$set(t.com,"company_slogan",e)},expression:"com.company_slogan"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{box:"",label:"Value Added Tax(Vat)%",placeholder:"0.0%","data-vv-name":"vat","error-messages":t.errors.collect("vat")},model:{value:t.com.vat,callback:function(e){t.$set(t.com,"vat",e)},expression:"com.vat"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{"offset-y":"",items:t.catFetch,label:"Category",box:""},model:{value:t.com.category,callback:function(e){t.$set(t.com,"category",e)},expression:"com.category"}})],1)],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},nativeOn:{click:function(e){return t.closeup(e)}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary",loading:t.loader,disabled:t.loader},on:{click:t.onCompanyAdd}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-library-plus")]),t._v(t._s(t.btnTitle))],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("All Companies [ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ]")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-8",attrs:{headers:t.headers,items:t.companys,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.company_tag))]),t._v(" "),a("td",[t._v(t._s(e.item.company_name))]),t._v(" "),a("td",[t._v(t._s(e.item.address))]),t._v(" "),a("td",[t._v(t._s(e.item.location))]),t._v(" "),a("td",[t._v(t._s(e.item.phone_no))]),t._v(" "),a("td",[t._v(t._s(e.item.vat))]),t._v(" "),a("td",[t._v(t._s(e.item.category))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"primary--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.editItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-pencil\n                    ")]),t._v(" Edit ")],1),t._v(" "),a("v-btn",{staticClass:"red--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.deleteItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-delete\n                    ")]),t._v(" Delete ")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},Ul=[],zl={render:Fl,staticRenderFns:Ul},Vl=zl,Bl=a("VU/8"),Gl=M,Hl=Bl(Yl,Vl,!1,Gl,"data-v-49e76554",null),Ll=Hl.exports,Wl=a("mtWM"),Ql={name:"fms_company",data:function(){return{loader:!1,com:{company_tag:"",company_name:"",address:"",location:"",phone_no:"",company_slogan:"",vat:"",category:""},search:"",side_items:[],headers:[{text:"ID",align:"left",value:"id",class:"subheading"},{text:"Company Tag",align:"left",value:"company_tag",class:"subheading"},{text:"Company Name",align:"left",value:"company_name",class:"subheading"},{text:"Address",align:"left",value:"address",class:"subheading"},{text:"Location",align:"left",value:"location",class:"subheading"},{text:"Phone No.",align:"left",value:"phone_no",class:"subheading"},{text:"Vat %",align:"left",value:"vat",class:"subheading"},{text:"Products Category",align:"left",value:"category",class:"subheading"},{text:"Actions",align:"left",value:"action",class:"subheading"}],dialog:!1,fetchup:!1,snack:!1,total:"",snackText:!1,snackColor:"",editedIndex:-1,companys:[]}},computed:{apiSet:function(){return this.$store.getters.getApi},formTitle:function(){return-1===this.editedIndex?"Add Company":"Edit Company"},btnTitle:function(){return-1===this.editedIndex?"Add Company":"Update Company"},catFetch:function(){for(var t=this.$store.getters.getCats,e=[],a=0,s=t.length;a<s;a++)e.push(t[a].cat_name);return e}},mounted:function(){this.setSide(),this.loadCompanies()},methods:{setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!1)},loadCompanies:function(){var t=this,e=this;this.fetchup=!0,this.companys=[],Wl.get(this.apiSet.singleCompany+"/"+e.userData.company_id).then(function(a){var s=a.data.data;e.companys.push(s),e.total=s.length,e.fetchup=!1,t.snack=!0,t.snackText="Data Was Successfully loaded.",t.snackColor="green"}).catch(function(a){console.log(a),e.loader=!1,t.snack=!0,t.snackText="sorry an error occurred.",t.snackColor="red",t.err.push(a)})},onCompanyAdd:function(){var t=this;if(this.editedIndex>-1)this.updateExpense();else{var e=this;this.$validator.validateAll().then(function(a){if(!a)return e.snack=!0,e.snackText="Error. Please correct form errors.",e.snackColor="red",!1;t.loader=!0;var s=t.com;Wl.post(t.apiSet.singleCompany,s).then(function(t){e.closeup(),e.loadCompanies(),e.loader=!1,e.snack=!0,e.snackText="Success. Data was successfully added.",e.snackColor="green"}).catch(function(t){e.loader=!1,e.snack=!0,e.snackText="Error.Sorry an error occured.",e.snackColor="red"})})}},editItem:function(t){this.editedIndex=this.companys.indexOf(t);var e=this.companys.indexOf(t),a=this.companys[e];this.com=wi()({},a),this.dialog=!0},closeup:function(){this.dialog=!1,this.com.company_tag="",this.com.company_name="",this.com.address="",this.com.location="",this.com.phone_no="",this.com.company_slogan="",this.com.vat="",this.com.category="",this.editedIndex=-1},updateExpense:function(){var t=this;if(this.editedIndex>-1){wi()(this.companys[this.editedIndex],this.editedItem);var e=this.editedIndex,a=this.companys[e].id;this.loader=!0,console.log(e);var s=this.com;Wl.patch(this.apiSet.singleCompany+"/"+a,s).then(function(e){console.log(e),t.loader=!1,t.snack=!0,t.snackText="Update Successful",t.snackColor="green",t.closeup(),t.$validator.reset(),t.loadCompanies()}).catch(function(e){console.log(e),t.loader=!1,this.snack=!0,this.snackText="Network erorr occured.",this.snackColor="red"})}else console.log(this.editedItem)},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Company?",message:"Are you sure you want to Delete Company?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.companys.indexOf(t);this.companys.splice(s,1),Wl.delete(a+"/company/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadCompanies(),e.snack=!0,e.snackText="Data Successfully Deleted",e.snackColor="red"}).catch(function(t){e.snack=!0,e.snackText="Sorry. Network Error occured.",e.snackColor="red",console.log(t)})}}},Zl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v(t._s(t.formTitle))]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.closeup(e)}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Company Tag",box:"","data-vv-name":"tag","error-messages":t.errors.collect("tag")},model:{value:t.com.company_tag,callback:function(e){t.$set(t.com,"company_tag",e)},expression:"com.company_tag"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Company Name",box:"","data-vv-name":"name","error-messages":t.errors.collect("name")},model:{value:t.com.company_name,callback:function(e){t.$set(t.com,"company_name",e)},expression:"com.company_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Address"},model:{value:t.com.address,callback:function(e){t.$set(t.com,"address",e)},expression:"com.address"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Location"},model:{value:t.com.location,callback:function(e){t.$set(t.com,"location",e)},expression:"com.location"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{box:"",label:"Phone No.",placeholder:"02XXXXXXXX","data-vv-name":"phone_no","error-messages":t.errors.collect("phone_no")},model:{value:t.com.phone_no,callback:function(e){t.$set(t.com,"phone_no",e)},expression:"com.phone_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Company Slogan"},model:{value:t.com.company_slogan,callback:function(e){t.$set(t.com,"company_slogan",e)},expression:"com.company_slogan"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{box:"",label:"Value Added Tax(Vat)%",placeholder:"0.0%","data-vv-name":"vat","error-messages":t.errors.collect("vat")},model:{value:t.com.vat,callback:function(e){t.$set(t.com,"vat",e)},expression:"com.vat"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{"offset-y":"",items:t.catFetch,label:"Category",box:""},model:{value:t.com.category,callback:function(e){t.$set(t.com,"category",e)},expression:"com.category"}})],1)],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},nativeOn:{click:function(e){return t.closeup(e)}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary",loading:t.loader,disabled:t.loader},on:{click:t.onCompanyAdd}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-library-plus")]),t._v(t._s(t.btnTitle))],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("My Company")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-8",attrs:{headers:t.headers,items:t.companys,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.company_tag))]),t._v(" "),a("td",[t._v(t._s(e.item.company_name))]),t._v(" "),a("td",[t._v(t._s(e.item.address))]),t._v(" "),a("td",[t._v(t._s(e.item.location))]),t._v(" "),a("td",[t._v(t._s(e.item.phone_no))]),t._v(" "),a("td",[t._v(t._s(e.item.vat))]),t._v(" "),a("td",[t._v(t._s(e.item.category))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"primary--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.editItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-pencil\n                    ")]),t._v(" Edit ")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},Xl=[],Jl={render:Zl,staticRenderFns:Xl},Kl=Jl,tc=a("VU/8"),ec=R,ac=tc(Ql,Kl,!1,ec,"data-v-6a95da3e",null),sc=ac.exports,ic=a("mtWM"),nc={name:"outlets",data:function(){return{loader:!1,out:{outlet_name:"",location:"",phone_no:""},search:"",side_items:[],headers:[{text:"ID",align:"left",value:"id",class:"subheading"},{text:"Outlet Name",align:"left",value:"company_name",class:"subheading"},{text:"Location",align:"left",value:"location",class:"subheading"},{text:"Phone No.",align:"left",value:"phone_no",class:"subheading"},{text:"Company",align:"left",value:"company",class:"subheading"},{text:"Actions",align:"center",value:"action",class:"subheading"}],dialog:!1,fetchup:!1,snack:!1,total:"",snackText:!1,snackColor:"",editedIndex:-1,outlets:[]}},computed:{apiSet:function(){return this.$store.getters.getApi},formTitle:function(){return-1===this.editedIndex?"Add Outlet":"Edit Outlet"},btnTitle:function(){return-1===this.editedIndex?"Add Outlet":"Update Outlet"}},mounted:function(){this.setSide(),this.loadOutlets()},methods:{setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!1)},loadOutlets:function(){var t=this,e=this;this.fetchup=!0;var a=this.userData.company_id;ic.get(this.apiSet.companyOutlets+"/"+a).then(function(a){var s=a.data.data;e.outlets=s,e.total=s.length,e.fetchup=!1,e.$store.commit("setOutlets",s),t.snack=!0,t.snackText="Data Was Successfully loaded.",t.snackColor="green"}).catch(function(a){console.log(a),e.loader=!1,t.snack=!0,t.snackText="Sorry network error occurred.",t.snackColor="red",t.err.push(a)})},onOutletAdd:function(){var t=this;if(this.editedIndex>-1)this.updateOutlet();else{var e=this;this.$validator.validateAll().then(function(a){if(!a)return e.snack=!0,e.snackText="Error. Please correct form errors.",e.snackColor="red",!1;t.loader=!0;var s=t.out;s.company_id=t.userData.company_id,ic.post(t.apiSet.singleOutlet,s).then(function(t){e.closeup(),e.loadOutlets(),e.loader=!1,e.snack=!0,e.snackText="Success. Data was successfully added.",e.snackColor="green"}).catch(function(t){e.loader=!1,e.snack=!0,e.snackText="Error.Sorry an error occured.",e.snackColor="red"})})}},editItem:function(t){this.editedIndex=this.outlets.indexOf(t);var e=this.outlets.indexOf(t),a=this.outlets[e];this.out=wi()({},a),this.dialog=!0},closeup:function(){this.dialog=!1,this.out.outlet_name="",this.out.location="",this.out.phone_no="",this.out.company_id=1,this.editedIndex=-1},updateOutlet:function(){var t=this;if(this.editedIndex>-1){wi()(this.outlets[this.editedIndex],this.editedItem);var e=this.editedIndex,a=this.outlets[e].id;this.loader=!0;var s=this.out;ic.patch(this.apiSet.singleOutlet+"/"+a,s).then(function(e){console.log(e),t.loader=!1,t.snack=!0,t.snackText="Update Successful",t.snackColor="green",t.closeup(),t.$validator.reset(),t.loadOutlets()}).catch(function(e){console.log(e),t.loader=!1,this.snack=!0,this.snackText="Network erorr occured.",this.snackColor="red"})}else console.log(this.editedItem)},deleteItem:function(t,e){var a=this;if(1===e){var s={title:"Sorry !",message:"You Cannot Delete Default Outlet?",type:"warning"};return this.$refs.simplert.openSimplert(s),!1}var i=function(){a.del(t)},n={title:"Delete Outlet?",message:"Are you sure you want to Delete Outlet?",type:"warning",useConfirmBtn:!0,onConfirm:i};this.$refs.simplert.openSimplert(n)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.outlets.indexOf(t);this.outlets.splice(s,1),ic.delete(a+"/outlet/"+t.id).then(function(t){e.del_snackbar=!0,e.loadOutlets(),e.snack=!0,e.snackText="Data Successfully Deleted",e.snackColor="red"}).catch(function(t){e.snack=!0,e.snackText="Sorry. Network Error occured.",e.snackColor="red",console.log(t)})}}},rc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"secondary",dark:""},slot:"activator"},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" New Outlet")],1),t._v(" "),a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v(t._s(t.formTitle))]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.closeup(e)}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Outlet Name",box:"","data-vv-name":"name","error-messages":t.errors.collect("name")},model:{value:t.out.outlet_name,callback:function(e){t.$set(t.out,"outlet_name",e)},expression:"out.outlet_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Location"},model:{value:t.out.location,callback:function(e){t.$set(t.out,"location",e)},expression:"out.location"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{box:"",label:"Phone No.",placeholder:"02XXXXXXXX","data-vv-name":"phone_no","error-messages":t.errors.collect("phone_no")},model:{value:t.out.phone_no,callback:function(e){t.$set(t.out,"phone_no",e)},expression:"out.phone_no"}})],1)],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},nativeOn:{click:function(e){return t.closeup(e)}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary",loading:t.loader,disabled:t.loader},on:{click:t.onOutletAdd}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-library-plus")]),t._v(t._s(t.btnTitle))],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("All Outlets [ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ]")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-8",attrs:{headers:t.headers,items:t.outlets,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.outlet_name))]),t._v(" "),a("td",[t._v(t._s(e.item.location))]),t._v(" "),a("td",[t._v(t._s(e.item.phone_no))]),t._v(" "),a("td",[t._v(t._s(e.item.company.company_name))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"primary--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.editItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-pencil\n                    ")]),t._v(" Edit ")],1),t._v(" "),a("v-btn",{staticClass:"red--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.deleteItem(e.item,e.item.id)}}},[a("v-icon",[t._v("\n                        mdi-delete\n                    ")]),t._v(" Delete ")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},oc=[],lc={render:rc,staticRenderFns:oc},cc=lc,dc=a("VU/8"),uc=j,mc=dc(nc,cc,!1,uc,"data-v-4ff7e96c",null),vc=mc.exports,_c=a("mtWM"),pc={name:"expenses",data:function(){return{loader:!1,ex:{invoice_no:"Wk-100",naration:"",category:"",amount:""},search:"",side_items:[{icon:"mdi-arrange-send-to-back",text:"Categories",link:"/ex_categories"}],headers:[{text:"Id",align:"left",value:"id",class:"subheading",sortable:!0},{text:"Naration",align:"left",value:"naration",class:"subheading"},{text:"Category",value:"category",class:"subheading"},{text:"Amount (Ghc)",Value:"amount",class:"subheading"},{text:"By",Value:"added_by",class:"subheading"},{text:"Date",value:"expense_date",align:"center",class:"subheading"},{text:"",value:"name",sortable:!1}],dialog:!1,fetchup:!1,snack:!1,total:"",snackText:!1,snackColor:"",editedIndex:-1,editedItem:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0},expenses:[]}},computed:{apiSet:function(){return this.$store.getters.getApi},exCats:function(){for(var t=this.$store.getters.getExCats,e=[],a=0,s=t.length;a<s;a++)e.push(t[a].ex_name);return e},formTitle:function(){return-1===this.editedIndex?"Add Expense":"Edit Expense"},btnTitle:function(){return-1===this.editedIndex?"Add Expense":"Update Expense"}},watch:{search:function(t){t&&t!==this.select&&this.querySelections(t)}},mounted:function(){this.setSide(),this.loadExpenses(),this.loadExCats()},methods:{setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!0)},loadExCats:function(){var t=this,e=this;_c.get(this.apiSet.allExCats).then(function(a){var s=a.data.data;e.$store.commit("setExCats",s),t.snack=!0,t.snackText="Data Was Successfully loaded.",t.snackColor="green"}).catch(function(a){console.log(a),e.loader=!1,t.snack=!0,t.snackText="sorry an error occurred.",t.snackColor="red",t.err.push(a)})},loadExpenses:function(){var t=this,e=this;this.fetchup=!0,_c.get(this.apiSet.allExpenses).then(function(a){var s=a.data.data;e.expenses=s,e.total=s.length,e.fetchup=!1,t.snack=!0,t.snackText="Data Was Successfully loaded.",t.snackColor="green"}).catch(function(a){console.log(a),e.loader=!1,t.snack=!0,t.snackText="sorry an error occurred.",t.snackColor="red",t.err.push(a)})},onExpenseAdd:function(){var t=this;if(this.editedIndex>-1)this.updateExpense();else{var e=this,a=Lt()().format("D MMM YYYY");this.$validator.validateAll().then(function(s){if(!s)return e.snack=!0,e.snackText="Error. Please correct form errors.",e.snackColor="red",!1;t.loader=!0;var i=t.ex;i.added_by=t.userData.user_name,i.user_id=t.userData.id,i.expense_date=a,_c.post(t.apiSet.singleExpense,i).then(function(t){e.closeup(),e.loadExpenses(),e.loader=!1,e.snack=!0,e.snackText="Success. Data was successfully added.",e.snackColor="green"}).catch(function(t){e.loader=!1,e.snack=!0,e.snackText="Error.Sorry an error occured.",e.snackColor="red"})})}},editItem:function(t){this.editedIndex=this.expenses.indexOf(t);var e=this.expenses.indexOf(t),a=this.expenses[e];this.ex=wi()({},a),this.dialog=!0},closeup:function(){this.dialog=!1,this.ex.invoice_no="",this.ex.naration="",this.ex.category="",this.ex.amount="",this.ex.expense_date="",this.editedIndex=-1},updateExpense:function(){var t=this;if(this.editedIndex>-1){wi()(this.expenses[this.editedIndex],this.editedItem);var e=this.editedIndex,a=this.expenses[e].id;this.loader=!0,console.log(e);var s=this.ex;_c.patch(this.apiSet.singleExpense+"/"+a,s).then(function(e){console.log(e),t.loader=!1,t.snack=!0,t.snackText="Update Successful",t.snackColor="green",t.closeup(),t.$validator.reset(),t.loadExpenses()}).catch(function(e){console.log(e),t.loader=!1,this.snack=!0,this.snackText="Network erorr occured.",this.snackColor="red"})}else console.log(this.editedItem)},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Expense?",message:"Are you sure you want to Delete Expense?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.expenses.indexOf(t);this.expenses.splice(s,1),_c.delete(a+"/expense/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadProducts(),e.$store.commit("setNetError",!1)}).catch(function(t){e.del_error_snack=!0,e.$store.commit("setNetError",!0),console.log(t)})}}},hc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"secondary",dark:""},slot:"activator"},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" New Expense")],1),t._v(" "),a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v(t._s(t.formTitle))]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.closeup(e)}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"offset-y":"",items:t.exCats,label:"Category",required:"","data-vv-name":"category","error-messages":t.errors.collect("category"),box:"",required:""},model:{value:t.ex.category,callback:function(e){t.$set(t.ex,"category",e)},expression:"ex.category"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{box:"",label:"Naration",placeholder:"eg. Socket repairs.."},model:{value:t.ex.naration,callback:function(e){t.$set(t.ex,"naration",e)},expression:"ex.naration"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"",label:"Amount",placeholder:"Ghc","data-vv-name":"amount","error-messages":t.errors.collect("amount")},model:{value:t.ex.amount,callback:function(e){t.$set(t.ex,"amount",e)},expression:"ex.amount"}})],1)],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},nativeOn:{click:function(e){return t.closeup(e)}}},[t._v("Close")]),t._v(" "),(t.editedItem=-1)?a("v-btn",{attrs:{color:"secondary",loading:t.loader,disabled:t.loader},on:{click:t.onExpenseAdd}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-library-plus")]),t._v(t._s(t.btnTitle))],1):t._e()],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("All Expenses [ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ]")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-8",attrs:{headers:t.headers,items:t.expenses,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.naration))]),t._v(" "),a("td",[t._v(t._s(e.item.category))]),t._v(" "),a("td",[t._v(t._s(e.item.amount))]),t._v(" "),a("td",[t._v(t._s(e.item.added_by))]),t._v(" "),a("td",[t._v(t._s(e.item.expense_date))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"primary--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.editItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-pencil\n                    ")]),t._v(" Edit ")],1),t._v(" "),a("v-btn",{staticClass:"red--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.deleteItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-delete\n                    ")]),t._v(" Delete ")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},fc=[],bc={render:hc,staticRenderFns:fc},gc=bc,xc=a("VU/8"),yc=Y,kc=xc(pc,gc,!1,yc,"data-v-53a6de95",null),wc=kc.exports,Cc=a("mtWM"),Ic={name:"requisitions",data:function(){return{showMenu:!1,items:[{title:"Click Me"},{title:"Click Me"},{title:"Click Me"},{title:"Click Me 2"}],er_snackbar:!1,buffer_dialog:!1,buffer_total:0,buffer_invoice:"",buffer_fetchup:!1,snack:!1,snackText:"",snackColor:"red",outlet:"Warehouse",loading:!1,fetchup:!1,loader:!1,dialog:!1,total:"",search:null,searchup:null,select:null,start_date:null,menu:!1,menu2:!1,end_date:null,menu3:!1,states:[{name:"Toilet Rolls",icon:"mdi-chart-bubble",category:"Toiletries"}],purchase_head:[{text:"Id",align:"left",sortable:!1,value:"id"},{text:"No. Items",align:"left",value:"num_items"},{text:"Source",align:"left",value:"source"},{text:"Destination",value:"destination"},{text:"Sender",value:"sender"},{text:"Status",value:"status"},{text:"Date",value:"date"},{text:"Actions",align:"center",value:"actions"}],purchases:[],buffer_purchase:[],or_purchases:[],buffer_head:[{text:"Id",align:"left",value:"id",class:"subheading"},{text:"Product",value:"product_name",class:"subheading",sortable:!1},{text:"Quantity",class:"subheading",value:"quantity"},{text:"S-Price(Ghc)",class:"subheading",value:"selling_price"},{text:"C-Price(Ghc)",value:"rt_unit_cost",class:"subheading"},{text:"Expiry",value:"expiry",class:"subheading"},{text:"",value:"name",align:"centre",sortable:!1}],inventory:[],raw_inventory:[],buffer_data:[],editedIndex:-1,editedItem:{id:"",product_name:"",category:"",manufacturer:"",expiry:"",product_type:"",ws_quantity:"",rt_quantity:"",barcode:"",rt_unit:"",ws_unit:"",ws_discount:0,rt_discount:0,ws_unit_cost:"",rt_unit_cost:"",markup:"",selling_price:"",subtotal:"",min_no:"",batch_no:"",max_no:"",reorder_no:""},defaultItem:{id:"",product_name:"",category:"",manufacturer:"",expiry:"",product_type:"",barcode:""},side_items:[]}},computed:{apiSet:function(){return this.$store.getters.getApi},unit_cost:function(){return this.editedItem.ws_unit+" Cost(Ghc)"},runit_cost:function(){return this.editedItem.rt_unit+" Cost(Ghc)"}},watch:{search:function(t){t&&t!==this.select&&this.querySelections(t)},outlet:function(t){var e=this.or_purchases;this.purchases=_.filter(e,function(e){return e.source===t}),this.total=this.purchases.length}},mounted:function(){this.setSide(),this.loadPurchases()},created:function(){},methods:{setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!1)},conv_status:function(t){return"0"===t?"pending":"transfered"},viewDet:function(t){var e=this,a=this;this.$store.commit("setPurchaseDet",t),this.fetchup=!0,this.buffer_invoice=t.reorder_invoice,Cc.get(this.apiSet.reorderBuffer+"/"+t.reorder_invoice).then(function(t){var e=[],s=t.data.data;a.$store.commit("setNewPopPurchase",s),a.buffer_total=e.length,a.buffer_fetchup=!1,a.fetchup=!1,a.$router.push("/reorder_pop")}).catch(function(t){console.log(t),a.loader=!1,e.err.push(t)})},loadPurchases:function(){var t=this,e=this;this.fetchup=!0;var a={oid:this.userData.outlet_id,cid:this.userData.company_id};Cc.post(this.apiSet.postReorder,a).then(function(t){var a=t.data.data;e.or_purchases=a,e.purchases=_.filter(a,function(t){return t.source===e.outlet}),e.total=e.purchases.length,e.fetchup=!1}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},submitPurchase:function(){var t=this,e=this.buffer_purchase;this.buffer_fetchup=!0;for(var a=0,s=e.length;a<s;a++)Cc.post(this.apiSet.productPurchase,e[a]).then(function(e){console.log(e),t.loader=!1,t.buffer_dialog=!1,t.buffer_fetchup=!1,t.fetchup=!1,t.snack=!0,t.snackText="Purchase Successfully Received.",t.snackColor="green",t.loadPurchases()}).catch(function(e){console.log(e),this.er_snackbar=!0,t.loader=!1})}}},Sc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-toolbar",{staticClass:"mt-0 primary"},[a("v-toolbar-items",{staticClass:"hidden-sm-and-down"}),t._v(" "),a("v-layout",{attrs:{row:"","align-center":""}},[a("v-flex",{attrs:{sm2:""}},[a("v-btn",{staticClass:"secondary elevation-8",on:{click:function(e){return t.$router.push("/new_reorder")}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-redo")]),t._v(" Create Order ")],1)],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-flex",{attrs:{sm2:""}},[a("v-select",{staticClass:"mt-2 mr-4",attrs:{"offset-y":"",items:t.outlets,label:"Select Outlet",solo:""},model:{value:t.outlet,callback:function(e){t.outlet=e},expression:"outlet"}})],1),t._v(" "),a("v-flex",{attrs:{sm3:"",md3:""}},[a("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.start_date,lazy:"",box:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.start_date=e},"update:return-value":function(e){t.start_date=e}},model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-text-field",{staticClass:"mt-2 mr-4",attrs:{slot:"activator",label:"Start Date",solo:"",clearable:"","append-icon":"event",readonly:""},slot:"activator",model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}}),t._v(" "),a("v-date-picker",{on:{input:function(e){return t.$refs.menu2.save(t.start_date)}},model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}})],1)],1),t._v(" "),a("v-flex",{attrs:{sm3:"",md3:""}},[a("v-menu",{ref:"menu3",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.end_date,lazy:"",box:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.end_date=e},"update:return-value":function(e){t.end_date=e}},model:{value:t.menu3,callback:function(e){t.menu3=e},expression:"menu3"}},[a("v-text-field",{staticClass:"mt-2 ml-4",attrs:{slot:"activator",label:"End Date",solo:"",clearable:"","append-icon":"event",readonly:"",color:"secondary"},slot:"activator",model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}}),t._v(" "),a("v-date-picker",{on:{input:function(e){return t.$refs.menu3.save(t.end_date)}},model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}})],1)],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("All Re-Orders[ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ] from "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.outlet))])]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-5",attrs:{headers:t.purchase_head,items:t.purchases,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.no_items))]),t._v(" "),a("td",[t._v(t._s(e.item.source))]),t._v(" "),a("td",[t._v(t._s(e.item.destination))]),t._v(" "),a("td",[t._v(t._s(e.item.sender))]),t._v(" "),a("td",[t._v(t._s(t.conv_status(e.item.status)))]),t._v(" "),a("td",[t._v(t._s(t.moment(e.item.reorder_date).format("MMM Do YYYY")))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"mr-2 teal--text cpoint",attrs:{flat:"",small:""},on:{click:function(a){return t.viewDet(e.item)}}},[a("v-icon",{attrs:{small:""}},[t._v("\n                        mdi-open-in-new\n                    ")]),t._v(" view")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},qc=[],Dc={render:Sc,staticRenderFns:qc},$c=Dc,Pc=a("VU/8"),Tc=F,Ec=Pc(Ic,$c,!1,Tc,"data-v-39cfeac6",null),Nc=Ec.exports,Ac=a("mtWM"),Oc={name:"new_reorder",data:function(){return{due:!1,snack:!1,snackText:"",min_quantity:0,snackColor:"green",outlet:{outlet_name:"Warehouse",id:1},outlet_set:[],supplier:"Unknown",pull_dialog:!1,loading:!1,fetchup:!1,loader:!1,items:[],dialog:!1,inv_dialog:!1,total:"",search:null,searchup:null,select:null,outlet_name:"",states:[{name:"Toilet Rolls",icon:"mdi-chart-bubble",category:"Toiletries"}],reorder_det:{source:"",destination:"",reorder_date:new Date,status:0},purchase_head:[{text:"Id",align:"left",value:"id"},{text:"Product",value:"product_name",sortable:!1},{text:"Batch No.",value:"batch_no"},{text:"Available Quantity",value:"available_qty"},{text:"Reorder Quantity",value:"reorder_qty"},{text:"C-Price(Ghc)",value:"purchase_cost"},{text:"S-Price(Ghc)",value:"purchase_selling"},{text:"Expiry",value:"expiry"},{text:"",value:"name",align:"centre",sortable:!1}],new_purchase:[],raw_inventory:[],editedIndex:-1,editedItem:{id:"1",product_name:"1",category:"1",manufacturer:"1",expiry:"02/02/2001",product_type:"1",ws_quantity:"1",rt_quantity:"1",barcode:"1",rt_unit:"1",ws_unit:"1",ws_discount:0,rt_discount:0,ws_unit_cost:"1",rt_unit_cost:"1",markup:"1",selling_price:"1",subtotal:"1",min_no:"1",batch_no:"1",max_no:"1",rt_pack_size:"3",ws_subtotal:"80",reorder_no:"1",carriage:"1",vat:"1",sup_invoice:"1",payment_mode:"1",sup_discount:0},defaultItem:{id:"",product_name:"",category:"",manufacturer:"",expiry:"",product_type:"",barcode:""},date:"",menu:!1,purrSet:0,side_items:[{icon:"mdi-cart",text:"Reorders",link:"/requisitions"}]}},computed:{purOut:function(){return this.purchase_det.outlet},ws_sub:function(){return this.editedItem.ws_subtotal},ws_dis:function(){return this.editedItem.ws_discount},ws_cost:function(){return this.editedItem.ws_unit_cost},ws_quan:function(){return this.editedItem.ws_quantity},rt_pack:function(){return this.editedItem.rt_pack_size},rt_quan:function(){return this.editedItem.rt_quantity},mark_up:function(){return this.editedItem.markup},rt_selling:function(){return this.editedItem.selling_price},apiSet:function(){return this.$store.getters.getApi},unit_cost:function(){return this.editedItem.ws_unit+" Cost(Ghc)"},runit_cost:function(){return this.editedItem.rt_unit+" Cost(Ghc)"},prodData:function(){return this.$store.getters.getNewPurchase},getNewPurchase:function(){for(var t=[],e=this.$store.getters.getNewPurchase,a=0,s=e.length;a<s;a++)t.push({id:e[a].id,num:a,product_name:e[a].product_name,batch_no:e[a].batch_no,purchase_qty:e[a].purr_quantity+" ("+e[a].ws_unit+") / "+e[a].purr_rt_quantity+" ("+e[a].rt_unit+")",available_qty:e[a].ws_quantity+" ("+e[a].ws_unit+") / "+e[a].rt_quantity+" ("+e[a].rt_unit+")",purchase_cost:e[a].ws_unit_cost,purchase_selling:e[a].selling_price,expiry:e[a].expiry});return t}},watch:{search:function(t){t&&t!==this.select&&this.querySelections(t)},purOut:function(t){this.$store.commit("setPout",t.id),this.outlet_name=t.outlet_name},ws_sub:function(){this.costComp()},ws_dis:function(){this.costComp()},payMode:function(t){this.due="Credit"===t},ws_cost:function(){this.costComp(),this.rtCostComp(),this.markupComp(),this.sellComp()},ws_quan:function(){this.costComp(),this.markupComp(),this.sellComp(),this.rtCostComp()},rt_quan:function(){this.rtCostComp(),this.markupComp(),this.sellComp()},rt_pack:function(){this.rtCostComp()},mark_up:function(){this.markupComp()},rt_selling:function(){this.sellComp()}},mounted:function(){this.setSide(),this.outList()},created:function(){this.resetPurchase()},methods:{testSnack:function(){this.$store.commit("setSnack",{t:"Yes Test Works",c:"red darken-3"})},outList:function(){var t=this,e="",a=this.$store.state.user_data.company_id;e=1===a?this.$store.state.config.api.allOutlets:this.$store.state.config.api.companyOutlets+"/"+a,Ac.get(e).then(function(e){console.log(e.data.data);for(var a=e.data.data,s=[],i=0,n=a.length;i<n;i++)s.push({outlet_name:a[i].outlet_name,id:a[i].id});t.outlet_set=s}).catch(function(t){console.log(t)})},setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!0)},pullMin:function(){this.pull_dialog=!0},fetchMin:function(){var t=this,e={min:this.min_quantity,oid:this.userData.outlet_id,cid:this.userData.company_id},a=this;this.fetchup=!0,Ac.post(this.apiSet.minReorder,e).then(function(t){var e=t.data.data;a.$store.commit("setNewPopPurchase",e),a.fetchup=!1,a.pull_dialog=!1}).catch(function(e){console.log(e),a.pull_dialog=!1,a.loader=!1,t.err.push(e)})},loadSup:function(){var t=this;Ac.get(this.apiSet.allSuppliers).then(function(e){var a=e.data.data;t.$store.commit("setSup",a)}).catch(function(t){console.log(t)})},addSup:function(){this.snack=!0,this.snackColor="green",this.snackText="Reorder Sucessful"},markupComp:function(){var t=0;t=this.editedItem.rt_unit_cost*this.editedItem.markup,this.editedItem.selling_price=t,this.editedItem.subtotal=t*this.editedItem.rt_quantity},costComp:function(){var t=0,e=this.editedItem.ws_quantity*this.editedItem.ws_unit_cost;t=this.editedItem.ws_discount?e*(1-.01*this.editedItem.ws_discount):e,this.editedItem.ws_subtotal=t},rtCostComp:function(){var t=0,e=this.editedItem.rt_pack_size*this.editedItem.ws_quantity;e&&(t=this.editedItem.ws_subtotal/e),this.editedItem.rt_unit_cost=t},sellComp:function(){var t=0;t=this.editedItem.selling_price/this.editedItem.rt_unit_cost,this.editedItem.markup=t,this.editedItem.subtotal=this.editedItem.selling_price*this.editedItem.rt_quantity},querySelections:function(t){var e=this;this.loading=!0,setTimeout(function(){e.items=e.states.name.filter(function(e){return(e||"").toLowerCase().indexOf((t||"").toLowerCase())>-1}),e.loading=!1},500)},editItem:function(t){this.editedIndex=t.id;var e=this.prodData.filter(function(e){return e.id===t.id});console.log(e[0]),this.editedItem=e[0],this.dialog=!0},submitPurchase:function(){var t=this,e=this.userData.company_name.charAt(0)+"-"+Math.random().toString(36).substr(2,16);this.$validator.validateAll().then(function(a){if(!a)return self.$store.commit("setSnack",{t:"Please fix form errors. ",c:"red darken-3"}),!1;!function(){t.loader=!0;var a=t;t.purrSet=t.purrSub;var s=t.prodData,i=t.reorder_det;gi()(s).reduce(function(t,e){return t+parseInt(e.ws_subtotal)},0);s.purchase_invoice=i.sup_invoice,s.company_id=t.userData.company_id,s.outlet_id=t.$store.getters.getPout,i.company_id=t.userData.company_id,i.outlet_id=t.userData.outlet_id,i.outlet=t.$store.getters.getPout,i.outlet_name=t.outlet_name,i.reorder_invoice=e,i.sender=t.userData.user_name,i.source=i.source.outlet_name,i.s_id=i.source.id,i.destination=i.destination.outlet_name,i.d_id=i.destination.id,i.no_items=s.length,t.$store.commit("setPurchaseDet",i),Ac.post(t.apiSet.singleReorder,i).then(function(t){console.log(t),a.loader=!1,a.$validator.reset(),a.$store.commit("setSnack",{t:"Reorder Successful ",c:"green darken-3"})}).catch(function(t){console.log(t),a.$store.commit("setSnack",{t:"Sorry, Reorder Error ",c:"red darken-3"}),a.loader=!1});for(var n=0,r=s.length;n<r;n++)!function(e,n){s[e].reorder_invoice=i.reorder_invoice,Ac.post(t.apiSet.reorderBuffer,s[e]).then(function(t){a.loader=!1,a.$validator.reset(),a.$store.commit("setSnack",{t:e+1+" Product(s) Ordered. ",c:"green darken-3"})}).catch(function(t){console.log(t),a.loader=!1})}(n);a.$router.push("/reorder_view")}()})},updateProduct:function(){var t=this,e=this;this.loader=!0,this.$validator.validateAll().then(function(a){if(!a)return t.form_error_snack=!0,t.loader=!1,!1;if(!(t.editedIndex>-1))return e.err_snackbar=!0,t.loader=!1,!1;var s=t.editedItem,i=yi()({},s,{index:t.editedIndex});t.$store.commit("editNewPurchase",i),t.loader=!1,e.ed_snackbar=!0,t.dialog=!1})},resetPurchase:function(){this.$store.commit("clearPurchase"),this.reorder_det.source="",this.reorder_det.destination=""},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Product?",message:"Are you sure you want to Delete Product?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){this.$store.commit("delPurchase",t)}},components:{}},Mc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.pull_dialog,callback:function(e){t.pull_dialog=e},expression:"pull_dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Pull Minimum")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.pull_dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{box:"",label:"Enter Minimum Quantity to pull"},model:{value:t.min_quantity,callback:function(e){t.min_quantity=e},expression:"min_quantity"}})],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"secondary elevation-4",nativeOn:{click:function(e){return t.fetchMin(e)}}},[t._v("Pull less than "+t._s(t.min_quantity)+"  "),a("v-icon",{attrs:{right:""}},[t._v("mdi-arrow-down")])],1)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"900px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Reorder Product "),a("v-btn",{attrs:{flat:"",color:"secondary"}},[t._v(t._s(t.editedItem.product_name)+" #"+t._s(t.editedItem.id))])],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[t._v("\n                Product Info\n                "),a("v-container",{staticClass:"mb-4",attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"",label:"Product name",required:"","data-vv-name":"name","error-messages":t.errors.collect("name")},model:{value:t.editedItem.product_name,callback:function(e){t.$set(t.editedItem,"product_name",e)},expression:"editedItem.product_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"Category",disabled:"",hint:"Category is pre-defined","persistent-hint":"",required:"","offset-y":""},model:{value:t.editedItem.category,callback:function(e){t.$set(t.editedItem,"category",e)},expression:"editedItem.category"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"Manufacturer"},model:{value:t.editedItem.manufacturer,callback:function(e){t.$set(t.editedItem,"manufacturer",e)},expression:"editedItem.manufacturer"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:DD/MM/YYYY",expression:"'required|date_format:DD/MM/YYYY'"}],attrs:{box:"",label:"Expiry(dd/mm/yyyy)",required:"","data-vv-name":"expiry","error-messages":t.errors.collect("expiry")},model:{value:t.editedItem.expiry,callback:function(e){t.$set(t.editedItem,"expiry",e)},expression:"editedItem.expiry"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"BarCode",hint:"If present on product","persistent-hint":""},model:{value:t.editedItem.barcode,callback:function(e){t.$set(t.editedItem,"barcode",e)},expression:"editedItem.barcode"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-btn",{attrs:{color:"secondary"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-barcode")]),t._v(" Generate Barcode")],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{box:"",label:"Batch No.",type:"number"},model:{value:t.editedItem.batch_no,callback:function(e){t.$set(t.editedItem,"batch_no",e)},expression:"editedItem.batch_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{box:"",label:"Min No.",type:"number"},model:{value:t.editedItem.min_no,callback:function(e){t.$set(t.editedItem,"min_no",e)},expression:"editedItem.min_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{box:"",label:"Re-order No.",type:"number"},model:{value:t.editedItem.reorder_no,callback:function(e){t.$set(t.editedItem,"reorder_no",e)},expression:"editedItem.reorder_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{box:"",label:"Max No.",type:"number"},model:{value:t.editedItem.max_no,callback:function(e){t.$set(t.editedItem,"max_no",e)},expression:"editedItem.max_no"}})],1)],1)],1),t._v(" "),a("v-toolbar",{staticClass:"mb-2"},[a("v-flex",{staticClass:"ml-2",attrs:{sm3:"",md3:""}},[a("span",{staticClass:"subheading secondary--text"},[t._v("Purchase Quantity:")])]),t._v(" "),a("v-flex",{staticClass:"pt-2",attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"Purchase Quantity",box:"",type:"number"},model:{value:t.editedItem.purr_quantity,callback:function(e){t.$set(t.editedItem,"purr_quantity",e)},expression:"editedItem.purr_quantity"}})],1)],1),t._v("\n\n\n\n\n                Wholesale Pricing\n                "),a("v-container",{staticClass:"mb-4",attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:["Pack","Box","Carton"],box:"",label:"Wholesale Unit",hint:"Eg. Pack","persistent-hint":"",required:"","offset-y":"","data-vv-name":"ws_unit","error-messages":t.errors.collect("ws_unit")},model:{value:t.editedItem.ws_unit,callback:function(e){t.$set(t.editedItem,"ws_unit",e)},expression:"editedItem.ws_unit"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Quantity",box:"",type:"number","data-vv-name":"ws_quantity","error-messages":t.errors.collect("ws_quantity")},model:{value:t.editedItem.ws_quantity,callback:function(e){t.$set(t.editedItem,"ws_quantity",e)},expression:"editedItem.ws_quantity"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal|required",expression:"'decimal|required'"}],attrs:{label:t.unit_cost,box:"",type:"number","data-vv-name":"ws_cost","error-messages":t.errors.collect("ws_cost")},model:{value:t.editedItem.ws_unit_cost,callback:function(e){t.$set(t.editedItem,"ws_unit_cost",e)},expression:"editedItem.ws_unit_cost"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Discount",box:"",suffix:"%","data-vv-name":"ws_discount","error-messages":t.errors.collect("ws_discount")},model:{value:t.editedItem.ws_discount,callback:function(e){t.$set(t.editedItem,"ws_discount",e)},expression:"editedItem.ws_discount"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal|required",expression:"'decimal|required'"}],attrs:{label:"SubTotal(GH¢)",box:"",readonly:"",type:"number","data-vv-name":"ws_subtotal","error-messages":t.errors.collect("ws_subtotal")},model:{value:t.editedItem.ws_subtotal,callback:function(e){t.$set(t.editedItem,"ws_subtotal",e)},expression:"editedItem.ws_subtotal"}})],1)],1)],1),t._v("\n                Retail Pricing\n                "),a("v-container",{attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:["Pack","Box","Carton"],box:"",label:"Retail Unit",hint:"Eg. Pack","persistent-hint":"",required:"","offset-y":"","data-vv-name":"rt_unit","error-messages":t.errors.collect("rt_unit")},model:{value:t.editedItem.rt_unit,callback:function(e){t.$set(t.editedItem,"rt_unit",e)},expression:"editedItem.rt_unit"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Pack Size",box:"",type:"number","data-vv-name":"rt_pack_size","error-messages":t.errors.collect("rt_pack_size")},model:{value:t.editedItem.rt_pack_size,callback:function(e){t.$set(t.editedItem,"rt_pack_size",e)},expression:"editedItem.rt_pack_size"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Retail QTY",box:"",type:"number",readonly:"","data-vv-name":"rt_quantity","error-messages":t.errors.collect("rt_quantity")},model:{value:t.editedItem.rt_quantity,callback:function(e){t.$set(t.editedItem,"rt_quantity",e)},expression:"editedItem.rt_quantity"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal:2|required",expression:"'decimal:2|required'"}],attrs:{label:t.runit_cost,box:"",type:"number","data-vv-name":"rt_cost",readonly:"","error-messages":t.errors.collect("rt_cost")},model:{value:t.editedItem.rt_unit_cost,callback:function(e){t.$set(t.editedItem,"rt_unit_cost",e)},expression:"editedItem.rt_unit_cost"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal:2|required",expression:"'decimal:2|required'"}],attrs:{label:"Markup",box:"",type:"number","data-vv-name":"markup","error-messages":t.errors.collect("markup")},model:{value:t.editedItem.markup,callback:function(e){t.$set(t.editedItem,"markup",e)},expression:"editedItem.markup"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal|required",expression:"'decimal|required'"}],attrs:{label:"Selling Price",box:"",readonly:"",type:"number","data-vv-name":"selling_price","error-messages":t.errors.collect("selling_price")},model:{value:t.editedItem.selling_price,callback:function(e){t.$set(t.editedItem,"selling_price",e)},expression:"editedItem.selling_price"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal|required",expression:"'decimal|required'"}],attrs:{label:"Subtotal",box:"",type:"number","data-vv-name":"subtotal","error-messages":t.errors.collect("subtotal"),readonly:""},model:{value:t.editedItem.subtotal,callback:function(e){t.$set(t.editedItem,"subtotal",e)},expression:"editedItem.subtotal"}})],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"grey darken-1"},nativeOn:{click:function(e){t.dialog=!1}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary darken-1",loading:t.loader,disabled:t.loader},on:{click:t.updateProduct}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-library-plus\n                    ")]),t._v("Update Product")],1)],1)],1)],1),t._v(" "),a("v-card",{attrs:{color:"primary pa-2 round_end"}},[a("div",{staticClass:"white--text"},[t._v("Please Enter Reorder Details")]),t._v(" "),a("v-layout",{attrs:{row:"","align-center":""}},[a("v-flex",{attrs:{sm3:""}},[a("v-select",{staticClass:"mt-2",attrs:{color:"secondary","prepend-icon":"mdi-arrow-right","offset-y":"",items:t.outlet_set,"item-text":"outlet_name","item-value":"id",label:"Select Source",solo:"","return-object":""},model:{value:t.reorder_det.source,callback:function(e){t.$set(t.reorder_det,"source",e)},expression:"reorder_det.source"}})],1),t._v(" "),a("v-divider",{staticClass:"ml-2",attrs:{vertical:""}}),t._v(" "),a("v-flex",{attrs:{sm3:""}},[a("v-select",{staticClass:"mt-2",attrs:{color:"secondary","prepend-icon":"mdi-arrow-right","offset-y":"",items:t.outlet_set,"item-text":"outlet_name","item-value":"id",label:"Select Destination",solo:"","return-object":""},model:{value:t.reorder_det.destination,callback:function(e){t.$set(t.reorder_det,"destination",e)},expression:"reorder_det.destination"}})],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-flex",[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mb-4",attrs:{slot:"activator",dark:"",color:"orange darken-3",loader:t.loader,disable:t.loader},on:{click:t.pullMin},slot:"activator"},[a("v-icon",{attrs:{left:""}},[t._v("mdi-arrow-collapse")]),t._v("Auto Request")],1),t._v(" "),a("span",[t._v("click to retrieve all minimum quantity products.")])],1)],1),t._v(" "),a("v-flex",[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mb-4",attrs:{slot:"activator",dark:"",color:"grey darken-3",loader:t.loader,disable:t.loader},on:{click:t.pullMin},slot:"activator"},[a("v-icon",{attrs:{left:""}},[t._v("mdi-arrow-down")]),t._v("Pull Minimum ")],1),t._v(" "),a("span",[t._v("Click to pull all products that have minimum quantities.")])],1)],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{sm8:"",md8:""}},[a("set-reorder")],1),t._v(" "),a("v-flex",{attrs:{sm2:"",md2:""}},[a("v-btn",{attrs:{outline:"",color:"grey"},on:{click:t.resetPurchase}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-refresh")]),t._v("Reset")],1)],1),t._v(" "),a("v-flex",{attrs:{sm2:"",md2:""}},[a("v-btn",{attrs:{dark:"",color:"secondary"},on:{click:function(e){return t.$router.push("/reorder_view")}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-view-carousel")]),t._v("Preview")],1)],1),t._v(" "),a("v-flex",{attrs:{sm2:"",md2:""}},[a("v-btn",{attrs:{dark:"",color:"green darken-3",loader:t.loader,disable:t.loader},on:{click:function(e){return t.$router.push("/reorder_view")}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-redo-variant")]),t._v("Send Reorder")],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("Reorder[ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.getNewPurchase.length))]),t._v(" ]\n                "),a("small",[t._v("\n                    from "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.reorder_det.source.outlet_name))]),t._v("\n                    to "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.reorder_det.destination.outlet_name))])])]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{class:{pulse:t.search},attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:"",clearable:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-5",attrs:{headers:t.purchase_head,items:t.getNewPurchase,search:t.search,loading:t.fetchup,class:"elevation-5"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.product_name))]),t._v(" "),a("td",[t._v(t._s(e.item.batch_no))]),t._v(" "),a("td",[t._v(t._s(e.item.available_qty))]),t._v(" "),a("td",[t._v(t._s(e.item.purchase_qty))]),t._v(" "),a("td",[t._v(t._s(e.item.purchase_cost))]),t._v(" "),a("td",[t._v(t._s(e.item.purchase_selling))]),t._v(" "),a("td",[t._v(t._s(e.item.expiry))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"mr-2 teal--text cpoint",attrs:{flat:"",small:""},on:{click:function(a){return t.editItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-pencil\n                    ")]),t._v(" Edit")],1),t._v(" "),a("v-btn",{staticClass:"red--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.deleteItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-delete\n                    ")]),t._v(" Delete")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:t.snackColor},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:"secondary"},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},Rc=[],jc={render:Mc,staticRenderFns:Rc},Yc=jc,Fc=a("VU/8"),Uc=U,zc=Fc(Oc,Yc,!1,Uc,"data-v-7222a586",null),Vc=zc.exports,Bc={name:"reorder_view",computed:{purchaseDetail:function(){return this.$store.getters.getPurchaseDet},userData:function(){return this.$store.getters.getUserData},purrProduct:function(){return this.$store.getters.getNewPurchase},purrSubtotal:function(){return this.$store.getters.getNewPurchase.reduce(function(t,e){return t+parseFloat(e.purr_ws_subtotal)},0)}}},Gc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{attrs:{color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")]),t._v("Go Back")],1),t._v(" "),a("v-btn",{attrs:{color:"secondary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-printer")]),t._v("Print")],1),t._v(" "),a("v-card",{attrs:{color:"pa-4 mt-2 round_end"}},[a("header",[a("h1",[t._v("Re-Order Invoice "),a("i",{staticClass:"secondary--text"},[t._v("#"+t._s(t.purchaseDetail.reorder_invoice))])]),t._v(" "),a("span",{staticClass:"mid"},[a("p",{staticClass:"headline hup"},[t._v(t._s(t.userData.company_name))]),t._v(" "),a("p",[t._v("Phone No.: "+t._s(t.userData.company_phone_no))]),t._v(" "),a("p",[t._v("Outlet: "+t._s(t.userData.outlet_name))]),t._v(" "),a("p",[t._v("Date: "+t._s((new Date).toDateString()))])])]),t._v(" "),a("article",[a("table",{staticClass:"inventory"},[a("thead",[a("tr",[a("th",[t._v("No.")]),t._v(" "),a("th",[a("span",[t._v("Product Name")])]),t._v(" "),a("th",[a("span",[t._v("Quantity")])]),t._v(" "),a("th",[a("span",[t._v("Batch N0.")])]),t._v(" "),a("th",[a("span",[t._v("Expiry")])])])]),t._v(" "),a("tbody",t._l(t.purrProduct,function(e,s){return a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(s+1))]),t._v(" "),a("td",[a("span",[t._v(t._s(e.product_name))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.purr_quantity+"("+e.ws_unit+")"))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.batch_no))])]),t._v(" "),a("td",[a("span"),a("span",[t._v(t._s(e.expiry))])])])}),0)]),t._v(" "),a("table",{staticClass:"balance"})]),t._v(" "),a("aside",[a("div",[a("small",[t._v("Powered By WorkIT Facility Management System")])])])])],1)},Hc=[],Lc={render:Gc,staticRenderFns:Hc},Wc=Lc,Qc=a("VU/8"),Zc=z,Xc=Qc(Bc,Wc,!1,Zc,"data-v-21ad9bc8",null),Jc=Xc.exports,Kc=a("mtWM"),td={name:"pos_receive",data:function(){return{showMenu:!1,items:[{title:"Click Me"},{title:"Click Me"},{title:"Click Me"},{title:"Click Me 2"}],transfer_state:!1,er_snackbar:!1,transfer_dialog:!1,transfer_total:0,transfer_invoice:"",transfer_fetchup:!1,snack:!1,snackText:"",snackColor:"red",outlet:"all Outlets",loading:!1,fetchup:!1,loader:!1,dialog:!1,total:"",search:null,searchup:null,select:null,start_date:null,menu:!1,menu2:!1,end_date:null,menu3:!1,states:[{name:"Toilet Rolls",icon:"mdi-chart-bubble",category:"Toiletries"}],purchase_head:[{text:"Id",align:"left",sortable:!1,value:"id",class:"subheading"},{text:"No. Items",align:"left",value:"num_items",class:"subheading"},{text:"Destination",align:"left",value:"source",class:"subheading"},{text:"Source",value:"destination",class:"subheading"},{text:"Sender",value:"sender",class:"subheading"},{text:"Status",value:"status",class:"subheading"},{text:"Date",value:"date",class:"subheading"},{text:"Actions",align:"center",value:"actions"}],purchases:[],transfer_purchase:[],or_purchases:[],transfer_head:[{text:"Id",align:"left",value:"id",class:"subheading"},{text:"Product",value:"product_name",class:"subheading",sortable:!1},{text:"Transfer Qty",class:"subheading",value:"purr_rt_quantity"},{text:"S-Price(Ghc)",class:"subheading",value:"selling_price"},{text:"C-Price(Ghc)",value:"rt_unit_cost",class:"subheading"},{text:"Expiry",value:"expiry",class:"subheading"},{text:"",value:"name",align:"centre",sortable:!1}],inventory:[],raw_inventory:[],transfer_data:[],side_items:[]}},computed:{apiSet:function(){return this.$store.getters.getApi},unit_cost:function(){return this.editedItem.ws_unit+" Cost(Ghc)"},runit_cost:function(){return this.editedItem.rt_unit+" Cost(Ghc)"}},watch:{search:function(t){t&&t!==this.select&&this.querySelections(t)},outlet:function(t){var e=this.or_purchases;t&&"all Outlets"!==t?(this.purchases=_.filter(e,function(e){return e.destination===t}),this.total=this.purchases.length):(this.purchases=e,this.total=this.purchases.length,this.outlet="all Outlets")}},mounted:function(){this.setSide(),this.loadReceived()},created:function(){},methods:{setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!1)},viewDet:function(t){var e=this,a=this;this.$store.commit("setPurchaseDet",t),this.fetchup=!0,this.transfer_invoice=t.reorder_invoice,Kc.get(this.apiSet.reorderBuffer+"/"+t.reorder_invoice).then(function(t){var e=[],s=t.data.data;a.$store.commit("setNewPopPurchase",s),a.transfer_total=e.length,a.transfer_fetchup=!1,a.fetchup=!1,a.$router.push("/pos_reorder_invoice")}).catch(function(t){console.log(t),a.loader=!1,e.err.push(t)})},recView:function(t){var e=this,a=this;this.$store.commit("setTransferDet",t),this.fetchup=!0,this.transfer_invoice=t.reorder_invoice,Kc.get(this.apiSet.reorderBuffer+"/"+t.reorder_invoice).then(function(t){var s=t.data.data;a.$store.commit("setTransferNew",s),a.transfer_data=s,a.transfer_total=s.length,a.transfer_fetchup=!1,a.fetchup=!1,e.transfer_dialog=!0}).catch(function(t){console.log(t),a.loader=!1,e.err.push(t)})},loadReceived:function(){var t=this,e=this;this.fetchup=!0;var a={source:"Sahara",cid:this.userData.company_id};Kc.post(this.apiSet.postReorderTransfered,a).then(function(t){var a=t.data.data;e.or_purchases=a,e.purchases=a,e.total=e.purchases.length,e.fetchup=!1}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},acceptItems:function(){var t=this,e=this.transfer_data;this.transfer_fetchup=!0;for(var a=e[0].reorder_invoice,s=0,i=e.length;s<i;s++)Kc.post(this.apiSet.upReorder,e[s]).then(function(e){console.log(e),t.loader=!1,t.transfer_dialog=!1,t.transfer_fetchup=!1,t.fetchup=!1,t.snack=!0,t.snackText="Transfer Successfully Sent.",t.snackColor="green",t.setReorder(a)}).catch(function(e){console.log(e),t.transfer_dialog=!1,t.transfer_fetchup=!1,t.fetchup=!1,t.snack=!0,t.snackText="Communication Error.",t.snackColor="red",t.loader=!1})},setReorder:function(t){var e=this;Kc.get(this.apiSet.recReorder+"/"+t).then(function(t){console.log(t);t.data.data}).catch(function(t){console.log(t),self.loader=!1,e.err.push(t)})},closeup:function(){this.transfer_dialog=!1}}},ed=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"1200px"},model:{value:t.transfer_dialog,callback:function(e){t.transfer_dialog=e},expression:"transfer_dialog"}},[a("v-card",{staticClass:"elevation-4"},[a("v-card-title",[a("p",{staticClass:"headline ttext mt-1"},[t._v("[ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.transfer_total))]),t._v(" ] Received Products | ")]),a("br"),t._v(" "),a("p",{staticClass:"small ttext mt-1"},[t._v("Invoice No. [ "),a("i",{staticClass:"orange--text text--darken-3"},[t._v("#"+t._s(t.transfer_invoice))]),t._v(" ]")]),a("br"),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"mr-2 red--text darken-3 cpoint",attrs:{flat:""},on:{click:function(e){return t.viewDet(t.props.item)}}},[a("v-icon",{attrs:{large:""}},[t._v("\n                    mdi-delete\n                ")]),t._v(" Reject All")],1),t._v(" "),a("v-btn",{staticClass:"secondary elevation-8",attrs:{large:""},on:{click:t.acceptItems}},[a("v-icon",[t._v("mdi-format-align-middle")]),t._v(" Accept Items")],1),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.closeup(e)}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.transfer_head,items:t.transfer_data,loading:t.transfer_fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.product_name))]),t._v(" "),a("td",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(e.item.purr_quantity+"("+e.item.ws_unit+")/"+e.item.purr_rt_quantity+"("+e.item.rt_unit+")"))]),t._v(" "),a("td",[t._v(t._s(e.item.selling_price))]),t._v(" "),a("td",[t._v(t._s(e.item.rt_unit_cost))]),t._v(" "),a("td",[t._v(t._s(e.item.expiry))])]}}])},[t._v(" "),a("template",{slot:"no-data"},[a("v-alert",{attrs:{value:!0,color:"primary",icon:"add"}},[a("v-progress-circular",{staticClass:"mr-4",attrs:{indeterminate:!0,value:0,size:"24",color:"orange darken-3"}}),t._v(" Loading Data. Please wait.\n                    ")],1)],1),t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                    Your search for "'+t._s(t.search)+'" found no results.\n                ')])],2),t._v(" "),t.transfer_state?a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"grey darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{color:"primary darken-1",dark:""},nativeOn:{click:function(t){}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-printer")]),t._v("Print")],1)],1):t._e()],1)],1),t._v(" "),a("v-card",[a("v-toolbar",{staticClass:"mt-0 primary"},[a("v-toolbar-items",{staticClass:"hidden-sm-and-down"}),t._v(" "),a("v-layout",{attrs:{row:"","align-center":""}},[a("v-flex",{attrs:{sm2:""}},[a("v-select",{staticClass:"mt-2 mr-4",attrs:{"offset-y":"",items:t.outlets,label:"Select Outlet",solo:"",clearable:""},model:{value:t.outlet,callback:function(e){t.outlet=e},expression:"outlet"}})],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-flex",{attrs:{sm3:"",md3:""}},[a("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.start_date,lazy:"",box:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.start_date=e},"update:return-value":function(e){t.start_date=e}},model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-text-field",{staticClass:"mt-2 mr-4",attrs:{slot:"activator",label:"Start Date",solo:"",clearable:"","append-icon":"event",readonly:""},slot:"activator",model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}}),t._v(" "),a("v-date-picker",{on:{input:function(e){return t.$refs.menu2.save(t.start_date)}},model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}})],1)],1),t._v(" "),a("v-flex",{attrs:{sm3:"",md3:""}},[a("v-menu",{ref:"menu3",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.end_date,lazy:"",box:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.end_date=e},"update:return-value":function(e){t.end_date=e}},model:{value:t.menu3,callback:function(e){t.menu3=e},expression:"menu3"}},[a("v-text-field",{staticClass:"mt-2 ml-4",attrs:{slot:"activator",label:"End Date",solo:"",clearable:"","append-icon":"event",readonly:"",color:"secondary"},slot:"activator",model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}}),t._v(" "),a("v-date-picker",{on:{input:function(e){return t.$refs.menu3.save(t.end_date)}},model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}})],1)],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("Received Stock[ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ] from "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.outlet))])]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search by eg. Status","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-5",attrs:{headers:t.purchase_head,items:t.purchases,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.no_items))]),t._v(" "),a("td",[t._v(t._s(e.item.source))]),t._v(" "),a("td",[t._v(t._s(e.item.destination))]),t._v(" "),a("td",[t._v(t._s(e.item.sender))]),t._v(" "),a("td",[t._v(t._s(e.item.status))]),t._v(" "),a("td",[t._v(t._s(t.moment(e.item.reorder_date).format("MMM Do YYYY")))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"mr-2 teal--text cpoint",attrs:{flat:""},on:{click:function(a){return t.viewDet(e.item)}}},[a("v-icon",{attrs:{small:""}},[t._v("\n                        mdi-open-in-new\n                    ")]),t._v(" view")],1),t._v(" "),a("v-btn",{staticClass:"mr-2 orange--text darken-3 cpoint",attrs:{flat:""},on:{click:function(a){return t.recView(e.item)}}},[a("v-icon",[t._v("\n                        mdi-arrow-down\n                    ")]),t._v(" Receive")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},ad=[],sd={render:ed,staticRenderFns:ad},id=sd,nd=a("VU/8"),rd=V,od=nd(td,id,!1,rd,"data-v-22f5847c",null),ld=od.exports,cd={name:"pos_receive_invoice",computed:{purchaseDetail:function(){return this.$store.getters.getPurchaseDet},userData:function(){return this.$store.getters.getUserData},purrProduct:function(){return this.$store.getters.getNewPurchase},purrSubtotal:function(){return this.$store.getters.getNewPurchase.reduce(function(t,e){return t+parseFloat(e.purr_ws_subtotal)},0)}}},dd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{attrs:{color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")]),t._v("Go Back")],1),t._v(" "),a("v-btn",{attrs:{color:"secondary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-printer")]),t._v("Print")],1),t._v(" "),a("v-card",{attrs:{color:"pa-4 mt-2 round_end"}},[a("header",[a("h1",[t._v("Re-Order Invoice "),a("i",{staticClass:"secondary--text"},[t._v("#"+t._s(t.purchaseDetail.reorder_invoice))])]),t._v(" "),a("address",{staticStyle:{"font-size":"15px"}},[a("p",{staticClass:"headline"},[t._v("Reorder ")]),t._v(" "),a("p",[t._v(" Source : "+t._s(t.purchaseDetail.destination))]),t._v(" "),a("p",[t._v("  Destination: "+t._s(t.purchaseDetail.source))]),t._v(" "),a("tr",[a("td",[t._v("#Invoice No.")]),t._v(" "),a("td",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.purchaseDetail.reorder_invoice))])])]),t._v(" "),a("span",{staticClass:"mid"},[a("p",{staticClass:"headline hup"},[t._v(t._s(t.userData.company_name))]),t._v(" "),a("p",[t._v("Phone No.: "+t._s(t.userData.company_phone_no))]),t._v(" "),a("p",[t._v("Outlet: "+t._s(t.userData.outlet_name))]),t._v(" "),a("p",[t._v("Date: "+t._s((new Date).toDateString()))])])]),t._v(" "),a("article",[a("table",{staticClass:"inventory"},[a("thead",[a("tr",[a("th",[t._v("No.")]),t._v(" "),a("th",[a("span",[t._v("Product Name")])]),t._v(" "),a("th",[a("span",[t._v("Quantity")])]),t._v(" "),a("th",[a("span",[t._v("Cost Price")])]),t._v(" "),a("th",[a("span",[t._v("Selling Price")])]),t._v(" "),a("th",[a("span",[t._v("Batch N0.")])]),t._v(" "),a("th",[a("span",[t._v("Expiry")])])])]),t._v(" "),a("tbody",t._l(t.purrProduct,function(e,s){return a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(s+1))]),t._v(" "),a("td",[a("span",[t._v(t._s(e.product_name))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.purr_quantity+"("+e.ws_unit+")"))])]),t._v(" "),a("td",[a("span",{attrs:{"data-prefix":""}},[t._v("GH¢ ")]),a("span",[t._v(t._s(e.purr_ws_subtotal))])]),t._v(" "),a("td",[a("span",{attrs:{"data-prefix":""}},[t._v("GH¢ ")]),a("span",[t._v(t._s(e.purr_subtotal))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.batch_no))])]),t._v(" "),a("td",[a("span"),a("span",[t._v(t._s(e.expiry))])])])}),0)]),t._v(" "),a("table",{staticClass:"balance"},[a("tr",[a("th",[a("span",[t._v("Total Cost")])]),t._v(" "),a("td",[a("span",{attrs:{"data-prefix":""}},[t._v("GH¢ ")]),a("span",[t._v(t._s(t.purrSubtotal))])])])])]),t._v(" "),a("aside",[a("div",[a("small",[t._v("Powered By WorkIT Facility Management System")])])])])],1)},ud=[],md={render:dd,staticRenderFns:ud},vd=md,_d=a("VU/8"),pd=B,hd=_d(cd,vd,!1,pd,"data-v-1e049e52",null),fd=hd.exports,bd=a("mtWM"),gd={name:"expenses",data:function(){return{loader:!1,ex:{ex_name:""},search:"",side_items:[{icon:"mdi-cash-multiple",text:"Expenses",link:"/expenses"}],headers:[{text:"Category Name",align:"left",value:"ex_name",class:"subheading"},{text:"Added By",align:"left",value:"ex_user",class:"subheading"}],dialog:!1,fetchup:!1,snack:!1,total:"",snackText:!1,snackColor:"",editedIndex:-1,editedItem:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0},expenses:[]}},computed:{apiSet:function(){return this.$store.getters.getApi},formTitle:function(){return-1===this.editedIndex?"Add Expense Category":"Edit Expense Category"},btnTitle:function(){return-1===this.editedIndex?"Add Category":"Update Category"}},mounted:function(){this.setSide(),this.loadExpenses()},methods:{setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!0)},loadExpenses:function(){var t=this,e=this;this.fetchup=!0,bd.get(this.apiSet.allExCats).then(function(a){var s=a.data.data;e.expenses=s,e.total=s.length,e.fetchup=!1,e.$store.commit("setExCats",s),t.snack=!0,t.snackText="Data Was Successfully loaded.",t.snackColor="green"}).catch(function(a){console.log(a),e.loader=!1,t.snack=!0,t.snackText="sorry an error occurred.",t.snackColor="red",t.err.push(a)})},onExpenseAdd:function(){var t=this;if(this.editedIndex>-1)this.updateExpense();else{var e=this;this.$validator.validateAll().then(function(a){if(!a)return e.snack=!0,e.snackText="Error. Please correct form errors.",e.snackColor="red",!1;t.loader=!0;var s=t.ex;s.ex_user=t.userData.user_name,bd.post(t.apiSet.singleExCat,s).then(function(t){e.closeup(),e.loadExpenses(),e.loader=!1,e.snack=!0,e.snackText="Success. Data was successfully added.",e.snackColor="green"}).catch(function(t){e.loader=!1,e.snack=!0,e.snackText="Error.Sorry an error occured.",e.snackColor="red"})})}},editItem:function(t){this.editedIndex=this.expenses.indexOf(t);var e=this.expenses.indexOf(t),a=this.expenses[e];this.ex=wi()({},a),this.dialog=!0},closeup:function(){this.dialog=!1,this.ex.ex_name="",this.editedIndex=-1},updateExpense:function(){var t=this;if(this.editedIndex>-1){wi()(this.expenses[this.editedIndex],this.editedItem);var e=this.editedIndex,a=this.expenses[e].id;this.loader=!0,console.log(e);var s=this.ex;bd.patch(this.apiSet.singleExCat+"/"+a,s).then(function(e){console.log(e),t.loader=!1,t.snack=!0,t.snackText="Update Successful",t.snackColor="green",t.closeup(),t.$validator.reset(),t.loadExpenses()}).catch(function(e){console.log(e),t.loader=!1,this.snack=!0,this.snackText="Network erorr occured.",this.snackColor="red"})}else console.log(this.editedItem)},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Category?",message:"Are you sure you want to Delete Category?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.expenses.indexOf(t);this.expenses.splice(s,1),bd.delete(a+"/ex_cat/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadExpenses(),e.snack=!0,e.snackText="Data Successfully Deleted",e.snackColor="red"}).catch(function(t){e.snack=!0,e.snackText="Sorry. Network Error occured.",e.snackColor="red",console.log(t)})}}},xd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"secondary",dark:""},slot:"activator"},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" New Expense Category")],1),t._v(" "),a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v(t._s(t.formTitle))]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.closeup(e)}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Category Name",box:"","data-vv-name":"category_name",required:"","error-messages":t.errors.collect("category_name")},model:{value:t.ex.ex_name,callback:function(e){t.$set(t.ex,"ex_name",e)},expression:"ex.ex_name"}})],1)],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},nativeOn:{click:function(e){return t.closeup(e)}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary",loading:t.loader,disabled:t.loader},on:{click:t.onExpenseAdd}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-library-plus")]),t._v(t._s(t.btnTitle))],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("All Expense Categories [ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ]")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-8",attrs:{headers:t.headers,items:t.expenses,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.ex_name))]),t._v(" "),a("td",[t._v(t._s(e.item.ex_user))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"primary--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.editItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-pencil\n                    ")]),t._v(" Edit ")],1),t._v(" "),a("v-btn",{staticClass:"red--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.deleteItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-delete\n                    ")]),t._v(" Delete ")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},yd=[],kd={render:xd,staticRenderFns:yd},wd=kd,Cd=a("VU/8"),Id=G,Sd=Cd(gd,wd,!1,Id,"data-v-cd4689ec",null),qd=Sd.exports,Dd=a("mtWM"),$d={name:"dictionary",$_veeValidate:{validator:"new"},data:function(){return{total:0,fetchup:!1,dialog:!1,edit_dialog:!1,loader:!1,cat_name:"",ex_color:"",search:"",ex_time:"",outlet:"Warehouse",su_snackbar:!1,er_snackbar:!1,del_snackbar:!1,ed_snackbar:!1,form_error_snack:!1,gender:["Male","Female"],headers:[{text:"No.",align:"left",value:"num"},{text:"Product Name",align:"left",value:"product_name"},{text:"Available Quantity",align:"left",value:"available_quantity"},{text:"Report Quantity",align:"left",value:"report_quantity"},{text:"Price",align:"left",value:"price"},{text:"Subtotal",align:"left",value:"subtotal"},{text:"Expiry",align:"left",value:"expiry"},{text:"",align:"left",value:"expiry"}],expiries:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},apiSet:function(){return this.$store.getters.getApi},submit_loading:function(){return!0},submitted:function(){return this.$store.state.submittedState}},watch:{dialog:function(t){t||this.close()},submitted:function(){this.clearFields(),this.su_snackbar=!0}},mounted:function(){this.loadExpiries()},methods:{loadExpiries:function(){var t=this;this.ex_time="This month",this.ex_color="red--text text--darken-3",this.fetchup=!0;var e=new Date,a=e.getFullYear(),s=e.getMonth()+1,i=s+"/"+a,n={ex_date:i},r=this;Dd.post(this.apiSet.expiry,n).then(function(t){for(var e=[],a=t.data.data,s=0,i=a.length;s<i;s++)console.log(a[s].title),e.push({id:a[s].id,num:s,product_name:a[s].product_name,available_quantity:a[s].ws_quantity,report_quantity:1,price:a[s].subtotal,subtotal:a[s].subtotal,expiry:a[s].expiry});r.expiries=e,r.total=a.length,r.fetchup=!1}).catch(function(e){console.log(e),r.loader=!1,t.err.push(e)})},loadOne:function(){var t=this;this.ex_time="Next month",this.ex_color="orange--text text--darken-3",this.fetchup=!0;var e=new Date,a=e.getFullYear(),s=e.getMonth(),i=s+"/"+a,n={ex_date:i},r=this;Dd.post(this.apiSet.expiry,n).then(function(t){for(var e=[],a=t.data.data,s=0,i=a.length;s<i;s++)console.log(a[s].title),e.push({id:a[s].id,num:s,product_name:a[s].product_name,available_quantity:a[s].ws_quantity,report_quantity:1,price:a[s].subtotal,subtotal:a[s].subtotal,expiry:a[s].expiry});r.expiries=e,r.total=a.length,r.fetchup=!1}).catch(function(e){console.log(e),r.loader=!1,t.err.push(e)})},loadTwo:function(){var t=this;this.ex_time="Next 2 months",this.ex_color="green--text text--darken-3",this.fetchup=!0;var e=new Date,a=e.getFullYear(),s=e.getMonth()-1,i=s+"/"+a,n={ex_date:i},r=this;Dd.post(this.apiSet.expiry,n).then(function(t){for(var e=[],a=t.data.data,s=0,i=a.length;s<i;s++)console.log(a[s].title),e.push({id:a[s].id,num:s,product_name:a[s].product_name,available_quantity:a[s].ws_quantity,report_quantity:1,price:a[s].subtotal,subtotal:a[s].subtotal,expiry:a[s].expiry});r.expiries=e,r.total=a.length,r.fetchup=!1}).catch(function(e){console.log(e),r.loader=!1,t.err.push(e)})},onAddCat:function(){var t=this,e=this;this.$validator.validateAll().then(function(a){if(!a)return t.form_error_snack=!0,!1;t.loader=!0;var s={cat_name:t.cat_name,cat_user:"aximilli"};Dd.post(t.apiSet.singleCategory,s).then(function(t){e.closeup(),e.su_snackbar=!0,e.loadCategories(),e.loader=!1}).catch(function(t){e.loader=!1,e.er_snackbar=!0})})},clearFields:function(){this.cat_name="",this.cat_user="",this.$store.commit("setSubmitLoadState",!1),this.loader=!1,this.$validator.reset()},closeup:function(){this.clearFields(),this.dialog=!1},close_edit:function(){this.clearFields(),this.edit_dialog=!1},editItem:function(t){this.editedIndex=this.categories.indexOf(t),this.editedItem=wi()({},t),this.edit_dialog=!0},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Report as Expired",message:"Are you sure you want to Report Product?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.expiries.indexOf(t);this.expiries.splice(s,1),Dd.patch(a+"/expiry_rep/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,"This month"===e.ex_time&&e.loadExpiries(),"Next month"===e.ex_time&&e.loadOne(),"Next month"===e.ex_time&&e.loadTwo(),e.$store.commit("setNetError",!1)}).catch(function(t){e.$store.commit("setNetError",!0),console.log(t)})}}},Pd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-toolbar",{staticClass:"mt-0 primary round_end"},[a("v-toolbar-title"),t._v(" "),a("v-toolbar-items",{staticClass:"hidden-sm-and-down"}),t._v(" "),a("v-layout",{attrs:{row:"","align-center":""}},[a("v-flex",{attrs:{sm3:""}},[a("v-select",{staticClass:"mt-1",attrs:{"offset-y":"",items:t.outlets,label:"Select Outlet",solo:""},model:{value:t.outlet,callback:function(e){t.outlet=e},expression:"outlet"}})],1),t._v(" "),a("v-flex",{attrs:{sm2:""}},[a("v-btn",{attrs:{color:"red--text text--darken-3"},on:{click:t.loadExpiries}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-alarm-light")]),t._v("This Month")],1)],1),t._v(" "),a("v-flex",{attrs:{sm2:""}},[a("v-btn",{attrs:{color:"orange--text text--darken-3"},on:{click:t.loadOne}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-calendar-plus")]),t._v("Next Month")],1)],1),t._v(" "),a("v-flex",{attrs:{sm2:""}},[a("v-btn",{attrs:{color:"green--text text--darken-3"},on:{click:t.loadTwo}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-apple-safari")]),t._v("Next 2 Months")],1)],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"elevation-4 thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("[ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ] Expiring Products "),a("i",{class:t.ex_color},[t._v(t._s(t.ex_time))])]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search",outline:"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-8",attrs:{headers:t.headers,items:t.expiries,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.num))]),t._v(" "),a("td",[t._v(t._s(e.item.product_name))]),t._v(" "),a("td",[t._v(t._s(e.item.available_quantity))]),t._v(" "),a("td",[t._v(t._s(e.item.report_quantity))]),t._v(" "),a("td",[t._v(t._s(e.item.price))]),t._v(" "),a("td",[t._v(t._s(e.item.subtotal))]),t._v(" "),a("td",{attrs:{color:"orange"}},[t._v(t._s(e.item.expiry))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"red--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.deleteItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-delete\n                    ")]),t._v(" Report Item")],1)],1)]}}])},[t._v(" "),a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.loadExpiries}},[t._v("Refresh")])],1),t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],2)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.er_snackbar,callback:function(e){t.er_snackbar=e},expression:"er_snackbar"}},[t._v("\n        Please Enter Category Details.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.er_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.del_snackbar,callback:function(e){t.del_snackbar=e},expression:"del_snackbar"}},[t._v("\n        Entry Successfully Deleted.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.del_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.form_error_snack,callback:function(e){t.form_error_snack=e},expression:"form_error_snack"}},[t._v("\n        Sorry!!! Please Correct form errors.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.form_error_snack=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.su_snackbar,callback:function(e){t.su_snackbar=e},expression:"su_snackbar"}},[t._v("\n        Product Successfully Added.\n        "),a("v-btn",{attrs:{flat:"",color:"green"},nativeOn:{click:function(e){t.su_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.ed_snackbar,callback:function(e){t.ed_snackbar=e},expression:"ed_snackbar"}},[t._v("\n        Product Successfully Edited.\n        "),a("v-btn",{attrs:{flat:"",color:"secondary"},nativeOn:{click:function(e){t.ed_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},Td=[],Ed={render:Pd,staticRenderFns:Td},Nd=Ed,Ad=a("VU/8"),Od=H,Md=Ad($d,Nd,!1,Od,"data-v-4929c900",null),Rd=Md.exports,jd={name:"acc_summary"},Yd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" Yes This is Accounts Summary\n      "),a("v-btn",[t._v("Accounts Seen")])],1)},Fd=[],Ud={render:Yd,staticRenderFns:Fd},zd=Ud,Vd=a("VU/8"),Bd=L,Gd=Vd(jd,zd,!1,Bd,"data-v-1a18d17d",null),Hd=Gd.exports,Ld=a("mtWM"),Wd={name:"stock_manager",data:function(){return{dict_load:!1,er_snackbar:!1,del_snackbar:!1,del_error_snack:!1,form_error_snack:!1,su_snackbar:!1,ed_snackbar:!1,outlet:{outlet_name:"Odorkor",id:2},outlets:[],loading:!1,fetchup:!1,loader:!1,items:[],dialog:!1,total:"",search:null,searchup:null,select:null,states:[{name:"Toilet Rolls",icon:"mdi-chart-bubble",category:"Toiletries"}],inv_head:[{text:"Id",align:"left",value:"id",class:"subheading"},{text:"Product",value:"product_name",class:"subheading",sortable:!1},{text:"Quantity",class:"subheading",value:"quantity"},{text:"S-Price(Ghc)",class:"subheading",value:"selling_price"},{text:"C-Price(Ghc)",value:"rt_unit_cost",class:"subheading"},{text:"Expiry",value:"expiry",class:"subheading"},{text:"",value:"name",align:"centre",sortable:!1}],inventory:[],or_inventory:[],raw_inventory:[],editedIndex:-1,editedItem:{id:"",product_name:"",category:"",manufacturer:"",expiry:"",product_type:"",ws_quantity:"",rt_quantity:"",barcode:"",rt_unit:"",ws_unit:"",ws_discount:0,rt_discount:0,ws_unit_cost:"",rt_unit_cost:"",markup:"",selling_price:"",subtotal:"",min_no:"",batch_no:"",max_no:"",reorder_no:""},defaultItem:{id:"",product_name:"",category:"",manufacturer:"",expiry:"",product_type:"",barcode:""},date:"",menu:!1,side_items:[{icon:"mdi-plus",text:"Add Products",link:"/add_products"},{icon:"mdi-database",text:"View Stock",link:"/stock_manager"},{icon:"mdi-bullseye",text:"Zero Stock",link:"/zero_stock"},{icon:"mdi-autorenew",text:"Stock Reconciliation",link:"/stock_recon"}]}},computed:{outUs:function(){return this.outlet.id},cprice:function(){return gi()(this.inventory).reduce(function(t,e){return t+e.rt_unit_cost*e.q},0)},sprice:function(){return gi()(this.inventory).reduce(function(t,e){return t+e.selling_price*e.q},0)},margin:function(){return this.sprice-this.cprice},stock_date:function(){return Lt()().format("MMMM Do YYYY")},apiSet:function(){return this.$store.getters.getApi},unit_cost:function(){return this.editedItem.ws_unit+" Cost(Ghc)"},runit_cost:function(){return this.editedItem.rt_unit+" Cost(Ghc)"},outList:function(){for(var t=this.$store.getters.getOutlets,e=[],a=0,s=t.length;a<s;a++)e.push({outlet_name:t[a].outlet_name,id:t[a].id});this.outlets=e}},watch:{search:function(t){t&&t!==this.select&&this.querySelections(t)},outUs:function(t){var e=this.or_inventory;this.inventory=_.filter(e,function(e){return e.outlet_id===t}),this.total=this.inventory.length}},mounted:function(){this.setSide(),this.loadProducts(),this.getOut()},created:function(){var t=this;Wg.$on("er_snack",function(e){t.er_snackbar=e}),Wg.$on("su_snack",function(e){t.su_snackbar=e}),Wg.$on("del_snack",function(e){t.del_snackbar=e}),Wg.$on("ed_snack",function(e){t.ed_snackbar=e}),Wg.$on("form_snack",function(e){t.form_error_snack=e}),Wg.$on("dict_load",function(e){t.dict_load=e}),Wg.$on("product_add",function(e){t.loadProducts()})},methods:{setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!0)},getOut:function(){this.$store.dispatch("loadOutlets"),this.outList()},querySelections:function(t){var e=this;this.loading=!0,setTimeout(function(){e.items=e.states.name.filter(function(e){return(e||"").toLowerCase().indexOf((t||"").toLowerCase())>-1}),e.loading=!1},500)},loadProducts:function(){var t=this;this.outlet={outlet_name:this.userData.outlet_name,id:this.userData.outlet_id};var e=this;this.fetchup=!0;this.userData.company_id;Ld.get(this.apiSet.allProducts).then(function(t){for(var a=[],s=t.data.data,i=0,n=s.length;i<n;i++)console.log(s[i].title),a.push({id:s[i].id,num:i,product_name:s[i].product_name,quantity:s[i].ws_quantity+" ("+s[i].ws_unit+")"+s[i].rt_quantity+" ("+s[i].rt_unit+")",q:s[i].rt_quantity,rt_unit_cost:s[i].rt_unit_cost,selling_price:s[i].selling_price,expiry:s[i].expiry,outlet_id:s[i].outlet_id});e.or_inventory=a,e.inventory=a,e.raw_inventory=s,e.total=e.inventory.length,e.fetchup=!1}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},editItem:function(t){this.editedIndex=this.inventory.indexOf(t);var e=this.inventory.indexOf(t),a=this.raw_inventory[e];this.editedItem=wi()({},a),this.dialog=!0},updateProduct:function(){var t=this,e=this;this.loader=!0,this.$validator.validateAll().then(function(a){if(!a)return t.form_error_snack=!0,t.loader=!1,!1;if(!(t.editedIndex>-1))return e.err_snackbar=!0,!1;wi()(t.raw_inventory[t.editedIndex],t.editedItem);var s=t.editedItem.id,i=t.editedItem,n=t.$store.state.config.url;Ld.patch(n+"/product/"+s,i).then(function(t){console.log(t),e.loader=!1,e.ed_snackbar=!0,e.dialog=!1,e.$validator.reset(),e.loadProducts(),e.$store.commit("setNetError",!1)}).catch(function(t){console.log(t),e.loader=!1,this.$store.commit("setNetError",!0)})})},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Customer",message:"Are you sure you want to Delete Product?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.inventory.indexOf(t);this.inventory.splice(s,1),Ld.delete(a+"/product/"+t.id).then(function(t){e.del_snackbar=!0,e.loadProducts(),e.$store.commit("setNetError",!1)}).catch(function(t){e.del_error_snack=!0,e.$store.commit("setNetError",!0),console.log(t)})}}},Qd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"900px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Add Product "),a("v-btn",{attrs:{flat:"",color:"secondary"}},[t._v(t._s(t.editedItem.product_name)+" #"+t._s(t.editedItem.id))])],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[t._v("\n                Product Info\n                "),a("v-container",{staticClass:"mb-4",attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"",label:"Product name",required:"","data-vv-name":"name","error-messages":t.errors.collect("name")},model:{value:t.editedItem.product_name,callback:function(e){t.$set(t.editedItem,"product_name",e)},expression:"editedItem.product_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"Category",disabled:"",hint:"Category is pre-defined","persistent-hint":"",required:"","offset-y":""},model:{value:t.editedItem.category,callback:function(e){t.$set(t.editedItem,"category",e)},expression:"editedItem.category"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"Manufacturer"},model:{value:t.editedItem.manufacturer,callback:function(e){t.$set(t.editedItem,"manufacturer",e)},expression:"editedItem.manufacturer"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:DD/MM/YYYY",expression:"'required|date_format:DD/MM/YYYY'"}],attrs:{box:"",label:"Expiry",required:"","data-vv-name":"expiry","error-messages":t.errors.collect("expiry")},model:{value:t.editedItem.expiry,callback:function(e){t.$set(t.editedItem,"expiry",e)},expression:"editedItem.expiry"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"BarCode",hint:"If present on product","persistent-hint":""},model:{value:t.editedItem.barcode,callback:function(e){t.$set(t.editedItem,"barcode",e)},expression:"editedItem.barcode"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-btn",{attrs:{color:"secondary"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-barcode")]),t._v(" Generate Barcode")],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{box:"",label:"Batch No.",type:"number"},model:{value:t.editedItem.batch_no,callback:function(e){t.$set(t.editedItem,"batch_no",e)},expression:"editedItem.batch_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{box:"",label:"Min No.",required:"",type:"number","data-vv-name":"min_no","error-messages":t.errors.collect("min_no")},model:{value:t.editedItem.min_no,callback:function(e){t.$set(t.editedItem,"min_no",e)},expression:"editedItem.min_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{box:"",label:"Re-order No.",required:"",type:"number","data-vv-name":"reorder","error-messages":t.errors.collect("reorder")},model:{value:t.editedItem.reorder_no,callback:function(e){t.$set(t.editedItem,"reorder_no",e)},expression:"editedItem.reorder_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{box:"",label:"Max No.",required:"",type:"number","data-vv-name":"max_no","error-messages":t.errors.collect("max_no")},model:{value:t.editedItem.max_no,callback:function(e){t.$set(t.editedItem,"max_no",e)},expression:"editedItem.max_no"}})],1)],1)],1),t._v("\n\n\n\n                Wholesale Pricing\n                "),a("v-container",{staticClass:"mb-4",attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:["Pack","Box","Carton"],box:"",label:"Wholesale Unit",hint:"Eg. Pack","persistent-hint":"",required:"","offset-y":"","data-vv-name":"ws_unit","error-messages":t.errors.collect("ws_unit")},model:{value:t.editedItem.ws_unit,callback:function(e){t.$set(t.editedItem,"ws_unit",e)},expression:"editedItem.ws_unit"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Wholesale QTY",box:"",type:"number","data-vv-name":"ws_quantity","error-messages":t.errors.collect("ws_quantity")},model:{value:t.editedItem.ws_quantity,callback:function(e){t.$set(t.editedItem,"ws_quantity",e)},expression:"editedItem.ws_quantity"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal:2|required",expression:"'decimal:2|required'"}],attrs:{label:t.unit_cost,box:"",type:"number","data-vv-name":"ws_cost","error-messages":t.errors.collect("ws_cost")},model:{value:t.editedItem.ws_unit_cost,callback:function(e){t.$set(t.editedItem,"ws_unit_cost",e)},expression:"editedItem.ws_unit_cost"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Discount",box:"",type:"number","data-vv-name":"ws_discount","error-messages":t.errors.collect("ws_discount")},model:{value:t.editedItem.ws_discount,callback:function(e){t.$set(t.editedItem,"ws_discount",e)},expression:"editedItem.ws_discount"}})],1)],1)],1),t._v("\n\n\n                Retail Pricing\n                "),a("v-container",{attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:["Pack","Box","Carton"],box:"",label:"Retail Unit",hint:"Eg. Pack","persistent-hint":"",required:"","offset-y":"","data-vv-name":"rt_unit","error-messages":t.errors.collect("rt_unit")},model:{value:t.editedItem.rt_unit,callback:function(e){t.$set(t.editedItem,"rt_unit",e)},expression:"editedItem.rt_unit"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Retail QTY",box:"",type:"number","data-vv-name":"rt_quantity","error-messages":t.errors.collect("rt_quantity")},model:{value:t.editedItem.rt_quantity,callback:function(e){t.$set(t.editedItem,"rt_quantity",e)},expression:"editedItem.rt_quantity"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal:2|required",expression:"'decimal:2|required'"}],attrs:{label:t.runit_cost,box:"",type:"number","data-vv-name":"rt_cost","error-messages":t.errors.collect("rt_cost")},model:{value:t.editedItem.rt_unit_cost,callback:function(e){t.$set(t.editedItem,"rt_unit_cost",e)},expression:"editedItem.rt_unit_cost"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Discount",box:"",type:"number","data-vv-name":"rt_discount","error-messages":t.errors.collect("rt_discount")},model:{value:t.editedItem.rt_discount,callback:function(e){t.$set(t.editedItem,"rt_discount",e)},expression:"editedItem.rt_discount"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Markup",box:"",type:"number","data-vv-name":"markup","error-messages":t.errors.collect("markup")},model:{value:t.editedItem.markup,callback:function(e){t.$set(t.editedItem,"markup",e)},expression:"editedItem.markup"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal:2|required",expression:"'decimal:2|required'"}],attrs:{label:"Selling Price",box:"",type:"number","data-vv-name":"selling_price","error-messages":t.errors.collect("selling_price")},model:{value:t.editedItem.selling_price,callback:function(e){t.$set(t.editedItem,"selling_price",e)},expression:"editedItem.selling_price"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal:2|required",expression:"'decimal:2|required'"}],attrs:{label:"Subtotal",box:"",type:"number","data-vv-name":"subtotal","error-messages":t.errors.collect("subtotal")},model:{value:t.editedItem.subtotal,callback:function(e){t.$set(t.editedItem,"subtotal",e)},expression:"editedItem.subtotal"}})],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"grey darken-1"},nativeOn:{click:function(e){t.dialog=!1}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary darken-1",loading:t.loader,disabled:t.loader},on:{click:t.updateProduct}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-library-plus\n                    ")]),t._v("Update Product")],1)],1)],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:"",sm3:"","offset-sm5":""}},[a("div",{staticClass:"ml-0 centerup"},[t._v("Stock Summary")]),t._v(" "),a("div",{staticClass:"cent"},[a("tr",{staticClass:"caption"},[a("td",[t._v("Cost Price: ")]),t._v(" "),a("td",[t._v(" GH¢ "+t._s(t.cprice.toFixed(2)))])]),t._v(" "),a("tr",{staticClass:"caption"},[a("td",[t._v("Selling Price: ")]),t._v(" "),a("td",{},[t._v(" GH¢ "+t._s(t.sprice.toFixed(2)))])]),t._v(" "),a("tr",{staticClass:"caption"},[a("td",[t._v("Margin: ")]),t._v(" "),a("td",{staticClass:"secondary--text"},[t._v(" GH¢ "+t._s(t.margin.toFixed(2)))])]),t._v(" "),a("tr",{staticClass:"caption"},[a("td",[t._v("Date: ")]),t._v(" "),a("td",[t._v(" "+t._s(t.stock_date))])])])])],1),t._v(" "),a("card",[a("v-toolbar",{staticClass:"mt-0 primary round_end"},[a("v-toolbar-title"),t._v(" "),a("v-toolbar-items",{staticClass:"hidden-sm-and-down"}),t._v(" "),a("v-layout",{attrs:{row:"","align-center":""}},[a("v-flex",{attrs:{sm4:"","offset-sm1":""}},[a("v-select",{attrs:{hint:t.outlet.outlet_name+", "+t.outlet.id,items:t.outlets,"item-text":"outlet_name","item-value":"id",label:"Select Outlet",solo:"","prepend-icon":"mdi-home-variant","persistent-hint":"","return-object":"","offset-y":""},model:{value:t.outlet,callback:function(e){t.outlet=e},expression:"outlet"}})],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-flex",{attrs:{sm6:""}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!0,"nudge-right":4,"return-value":t.date,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-text-field",{staticClass:"mt-1 ml-2",attrs:{slot:"activator",solo:"",label:"Filter by Date","append-icon":"mdi-calendar",readonly:""},slot:"activator",model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t._v(" "),a("v-date-picker",{on:{input:function(e){return t.$refs.menu2.save(t.date)}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("Total Stock [ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ] @ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.outlet.outlet_name))])]),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-5",attrs:{headers:t.inv_head,items:t.inventory,search:t.search,loading:t.fetchup,class:"elevation-5"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.product_name))]),t._v(" "),a("td",[t._v(t._s(e.item.quantity))]),t._v(" "),a("td",[t._v(t._s(e.item.selling_price))]),t._v(" "),a("td",[t._v(t._s(e.item.rt_unit_cost))]),t._v(" "),a("td",[t._v(t._s(e.item.expiry))])]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.er_snackbar,callback:function(e){t.er_snackbar=e},expression:"er_snackbar"}},[t._v("\n        Sorry input Errors. Data could not be saved.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.er_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.del_snackbar,callback:function(e){t.del_snackbar=e},expression:"del_snackbar"}},[t._v("\n        Entry Successfully Deleted.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.del_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.form_error_snack,callback:function(e){t.form_error_snack=e},expression:"form_error_snack"}},[t._v("\n        Sorry!!! Please Correct form errors.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.form_error_snack=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.del_error_snack,callback:function(e){t.del_error_snack=e},expression:"del_error_snack"}},[t._v("\n        Sorry!!! an error occured, Could not delete Product.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.del_error_snack=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.su_snackbar,callback:function(e){t.su_snackbar=e},expression:"su_snackbar"}},[t._v("\n        Product Successfully Added.\n        "),a("v-btn",{attrs:{flat:"",color:"green"},nativeOn:{click:function(e){t.su_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.ed_snackbar,callback:function(e){t.ed_snackbar=e},expression:"ed_snackbar"}},[t._v("\n        Product Successfully Edited.\n        "),a("v-btn",{attrs:{flat:"",color:"secondary"},nativeOn:{click:function(e){t.ed_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,bottom:!0,right:"right"===t.x,color:"primary"},model:{value:t.dict_load,callback:function(e){t.dict_load=e},expression:"dict_load"}},[t._v("\n        Product Dictionary Successfully loaded.\n        "),a("v-btn",{attrs:{flat:"",color:"secondary"},nativeOn:{click:function(e){t.dict_load=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},Zd=[],Xd={render:Qd,staticRenderFns:Zd},Jd=Xd,Kd=a("VU/8"),tu=W,eu=Kd(Wd,Jd,!1,tu,"data-v-532182a8",null),au=eu.exports,su=a("mtWM"),iu={name:"dictionary",$_veeValidate:{validator:"new"},data:function(){return{total:0,fetchup:!1,dialog:!1,edit_dialog:!1,loader:!1,product_name:"",category:"",manufacturer:"",expiry:"",barcode:"",product_type:"",title:"Mr.",markup:"",search:"",su_snackbar:!1,er_snackbar:!1,del_snackbar:!1,ed_snackbar:!1,form_error_snack:!1,gender:["Male","Female"],headers:[{text:"No.",align:"left",value:"num"},{text:"Product Name",align:"left",value:"product_name"},{text:"Category",align:"left",value:"category"},{text:"Manufacturer",align:"left",value:"manufacturer"},{text:"Barcode",value:"barcode",align:"centre",sortable:!1},{text:"Product Type",value:"product_type",align:"centre",sortable:!1}],dictionaries:[],editedIndex:-1,editedItem:{id:"",product_name:"",category:"",manufacturer:"",expiry:"",product_type:"",barcode:""},defaultItem:{id:"",product_name:"",category:"",manufacturer:"",expiry:"",product_type:"",barcode:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},apiSet:function(){return this.$store.getters.getApi},catFetch:function(){for(var t=this.$store.getters.getCats,e=[],a=0,s=t.length;a<s;a++)e.push(t[a].cat_name);return e},submit_loading:function(){return!0},submitted:function(){return this.$store.state.submittedState}},watch:{dialog:function(t){t||this.close()},submitted:function(){this.clearFields(),this.su_snackbar=!0}},mounted:function(){this.loadDictionaries()},created:function(){var t=this;Wg.$on("getDict",function(e){t.loadDictionaries()})},methods:{loadDictionaries:function(){var t=this;this.fetchup=!0;var e=this;su.get(this.apiSet.allDictionarys).then(function(t){for(var a=[],s=t.data.data,i=0,n=s.length;i<n;i++)console.log(s[i].title),a.push({id:s[i].id,num:i,product_name:s[i].product_name,category:s[i].category,manufacturer:s[i].manufacturer,expiry:s[i].expiry,barcode:s[i].barcode,product_type:s[i].product_type});e.dictionaries=a,e.total=a.length,e.fetchup=!1,e.$store.commit("setDic",a)}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},onAddDict:function(){var t=this,e=this;this.$validator.validateAll().then(function(a){if(!a)return t.form_error_snack=!0,!1;t.loader=!0;var s={product_name:t.product_name,category:t.category,manufacturer:t.manufacturer,barcode:t.barcode,product_type:t.product_type,expiry:t.expiry};su.post(t.apiSet.singleDictionary,s).then(function(t){console.log(t),e.closeup(),e.su_snackbar=!0,e.loadDictionaries(),e.loader=!1}).catch(function(t){console.log(t)})})},clearFields:function(){this.product_name="",this.category="",this.manufacturer="",this.barcode="",this.product_type="",this.expiry="",this.$store.commit("setSubmitLoadState",!1),this.loader=!1,this.$validator.reset()},closeup:function(){this.clearFields(),this.dialog=!1},close_edit:function(){this.clearFields(),this.edit_dialog=!1},editItem:function(t){this.editedIndex=this.dictionaries.indexOf(t),this.editedItem=wi()({},t),this.edit_dialog=!0},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Customer",message:"Are you sure you want to Delete Customer?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.dictionaries.indexOf(t);this.dictionaries.splice(s,1),su.delete(a+"/dictionary/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadDictionaries(),e.$store.commit("setNetError",!1)}).catch(function(t){e.$store.commit("setNetError",!0),console.log(t)})},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.editedItem=wi()({},t.defaultItem),t.editedIndex=-1},300)},save:function(){var t=this;if(this.formError=!1,this.editedIndex>-1){wi()(this.dictionaries[this.editedIndex],this.editedItem);var e=this.editedItem.id;this.loader=!0;var a={product_name:this.editedItem.product_name,category:this.editedItem.category,manufacturer:this.editedItem.manufacturer,barcode:this.editedItem.barcode,product_type:this.editedItem.product_type,expiry:this.editedItem.expiry},s=this.$store.state.config.url;su.patch(s+"/dictionary/"+e,a).then(function(e){console.log(e),t.loader=!1,t.ed_snackbar=!0,t.edit_dialog=!1,t.$validator.reset(),t.loadDictionaries(),t.$store.commit("setNetError",!1)}).catch(function(e){console.log(e),t.loader=!1,this.$store.commit("setNetError",!0)})}else console.log(this.editedItem)}}},nu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-spacer"),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:"",small:""},slot:"activator"},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" Add Dictionary Item")],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-card",[a("form",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Add to Dictionary")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Product Name",box:"","data-vv-name":"product_name","error-messages":t.errors.collect("product_name")},model:{value:t.product_name,callback:function(e){t.product_name=e},expression:"product_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"offset-y":"",items:t.catFetch,label:"Category","data-vv-name":"category","error-messages":t.errors.collect("category"),box:""},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Manufacturer",placeholder:"eg. Toyota"},model:{value:t.manufacturer,callback:function(e){t.manufacturer=e},expression:"manufacturer"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"BarCode","prepend-icon":"mdi-barcode-scan",required:""},model:{value:t.barcode,callback:function(e){t.barcode=e},expression:"barcode"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Product Type","prepend-icon":"mdi-check-all",required:""},model:{value:t.product_type,callback:function(e){t.product_type=e},expression:"product_type"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm5:"",md5:"","offset-md1":""}},[a("v-btn",{attrs:{small:"",color:"secondary"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-barcode")]),t._v("Generate Barcode")],1)],1)],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},nativeOn:{click:function(e){return t.closeup(e)}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary",loading:t.loader,disabled:t.loader},on:{click:t.onAddDict}},[t._v("Save")])],1)],1)])],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.edit_dialog,callback:function(e){t.edit_dialog=e},expression:"edit_dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Edit Dictionary")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.edit_dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Product Name",box:""},model:{value:t.editedItem.product_name,callback:function(e){t.$set(t.editedItem,"product_name",e)},expression:"editedItem.product_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{"offset-y":"",items:t.catFetch,label:"Category",box:""},model:{value:t.editedItem.category,callback:function(e){t.$set(t.editedItem,"category",e)},expression:"editedItem.category"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Manufacturer"},model:{value:t.editedItem.manufacturer,callback:function(e){t.$set(t.editedItem,"manufacturer",e)},expression:"editedItem.manufacturer"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"BarCode","prepend-icon":"mdi-barcode-scan"},model:{value:t.editedItem.barcode,callback:function(e){t.$set(t.editedItem,"barcode",e)},expression:"editedItem.barcode"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Product Type","prepend-icon":"mdi-check-all"},model:{value:t.editedItem.product_type,callback:function(e){t.$set(t.editedItem,"product_type",e)},expression:"editedItem.product_type"}})],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},nativeOn:{click:function(e){return t.close_edit(e)}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary",loading:t.loader,disabled:t.loader},on:{click:t.save}},[t._v("Update Details")])],1)],1)],1),t._v(" "),a("v-card",{staticClass:"elevation-4 thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("Product Dictionary [ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ]")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search",outline:"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-8",attrs:{headers:t.headers,items:t.dictionaries,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.num))]),t._v(" "),a("td",[t._v(t._s(e.item.product_name))]),t._v(" "),a("td",[t._v(t._s(e.item.category))]),t._v(" "),a("td",[t._v(t._s(e.item.manufacturer))]),t._v(" "),a("td",[t._v(t._s(e.item.barcode))]),t._v(" "),a("td",[t._v(t._s(e.item.product_type))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"mr-2 teal--text cpoint",attrs:{flat:"",small:""},on:{click:function(a){return t.editItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-pencil\n                    ")]),t._v(" Edit")],1),t._v(" "),a("v-btn",{staticClass:"red--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.deleteItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-delete\n                    ")]),t._v(" Delete")],1)],1)]}}])},[t._v(" "),a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.loadDictionaries}},[t._v("Refresh")])],1),t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],2)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.er_snackbar,callback:function(e){t.er_snackbar=e},expression:"er_snackbar"}},[t._v("\n        Please Enter Dictionary Details.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.er_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.del_snackbar,callback:function(e){t.del_snackbar=e},expression:"del_snackbar"}},[t._v("\n          Entry Successfully Deleted.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.del_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.form_error_snack,callback:function(e){t.form_error_snack=e},expression:"form_error_snack"}},[t._v("\n         Sorry!!! Please Correct form errors.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.form_error_snack=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.su_snackbar,callback:function(e){t.su_snackbar=e},expression:"su_snackbar"}},[t._v("\n        Product Successfully Added.\n        "),a("v-btn",{attrs:{flat:"",color:"green"},nativeOn:{click:function(e){t.su_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.ed_snackbar,callback:function(e){t.ed_snackbar=e},expression:"ed_snackbar"}},[t._v("\n        Product Successfully Edited.\n        "),a("v-btn",{attrs:{flat:"",color:"secondary"},nativeOn:{click:function(e){t.ed_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},ru=[],ou={render:nu,staticRenderFns:ru},lu=ou,cu=a("VU/8"),du=Q,uu=cu(iu,lu,!1,du,"data-v-627d94f9",null),mu=uu.exports,vu=a("mtWM"),_u={name:"zero_stock",data:function(){return{loader:!1,snack:!1,snackText:"",snackColor:""}},computed:{apiSet:function(){return this.$store.getters.getApi}},methods:{doZero:function(){var t=this,e=function(){t.setZero()},a=function(){t.snack=!0,t.snackText="Stock Zero Cancelled",t.snackColor="red darken-3"},s={title:"Set to Zero?",message:"Are you sure you want to set all Quantities to Zero?",type:"warning",useConfirmBtn:!0,onConfirm:e,onClose:a};this.$refs.simplert.openSimplert(s)},setZero:function(){var t=this;this.loader=!0;var e=this;vu.get(this.apiSet.zero_stock).then(function(t){e.snack=!0,e.snackText="Success! Stock Quantities set to zero",e.snackColor="green darken-3",e.loader=!1}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})}}},pu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("div",{staticClass:"mr-3 hidden-sm-and-down"},[a("img",{attrs:{src:"/static/img/error/404.svg",alt:""}})]),t._v(" "),a("div",{staticClass:"text-md-center"},[a("h1",{staticClass:"red--text text--darken-3 display-3"},[t._v("Warning !")]),t._v(" "),a("h2",{staticClass:"my-3 headline "},[t._v("This will set all "),a("i",[t._v("stock quantities")]),t._v(" to Zero.")]),t._v(" "),a("div",[a("v-btn",{attrs:{loading:t.loader,disable:t.loader,color:"primary",large:""},on:{click:t.doZero}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-bullseye")]),t._v(" Set to Zero")],1)],1)])])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},hu=[],fu={render:pu,staticRenderFns:hu},bu=fu,gu=a("VU/8"),xu=Z,yu=gu(_u,bu,!1,xu,"data-v-01baefae",null),ku=yu.exports,wu=a("mtWM"),Cu={name:"add_products",data:function(){return{dict_load:!1,er_snackbar:!1,del_snackbar:!1,del_error_snack:!1,form_error_snack:!1,su_snackbar:!1,ed_snackbar:!1,outlet:{outlet_name:"Warehouse",id:2},outlets:[],loading:!1,fetchup:!1,loader:!1,items:[],dialog:!1,total:"",search:null,searchup:null,select:null,states:[{name:"Toilet Rolls",icon:"mdi-chart-bubble",category:"Toiletries"}],inv_head:[{text:"Id",align:"left",value:"id",class:"subheading"},{text:"Product",value:"product_name",class:"subheading",sortable:!1},{text:"Quantity",class:"subheading",value:"quantity"},{text:"S-Price(Ghc)",class:"subheading",value:"selling_price"},{text:"C-Price(Ghc)",value:"rt_unit_cost",class:"subheading"},{text:"Expiry",value:"expiry",class:"subheading"},{text:"Created at",value:"created_at",class:"subheading"},{text:"Last Updated",value:"updated_at",class:"subheading"},{text:"",value:"name",align:"centre",sortable:!1}],inventory:[],or_inventory:[],raw_inventory:[],editedIndex:-1,editedItem:{id:"",product_name:"",category:"",manufacturer:"",expiry:"",product_type:"",ws_quantity:"",rt_quantity:"",barcode:"",rt_unit:"",ws_unit:"",ws_discount:0,rt_discount:0,ws_unit_cost:"",rt_unit_cost:"",markup:"",selling_price:"",subtotal:"",min_no:"",batch_no:"",max_no:"",reorder_no:""},defaultItem:{id:"",product_name:"",category:"",manufacturer:"",expiry:"",product_type:"",barcode:""},date:"",menu:!1,side_items:[{icon:"mdi-plus",text:"Add Products",link:"/add_products"},{icon:"mdi-dictionary",text:"Product Dictionary",link:"/product_dictionary"},{icon:"mdi-bullseye",text:"Categories",link:"/categories"}]}},computed:{apiSet:function(){return this.$store.getters.getApi},outUs:function(){return this.outlet.id},packList:function(){for(var t=this.$store.getters.getPackUnits,e=[],a=0,s=t.length;a<s;a++)e.push(t[a].pack_name);return e},unit_cost:function(){return this.editedItem.ws_unit+" Cost(Ghc)"},runit_cost:function(){return this.editedItem.rt_unit+" Cost(Ghc)"},ws_sub:function(){return this.editedItem.ws_subtotal},ws_dis:function(){return this.editedItem.ws_discount},ws_cost:function(){return this.editedItem.ws_unit_cost},ws_quan:function(){return this.editedItem.ws_quantity},rt_pack:function(){return this.editedItem.rt_pack_size},rt_quan:function(){return this.editedItem.rt_quantity},mark_up:function(){return this.editedItem.markup},rt_selling:function(){return this.editedItem.selling_price}},watch:{search:function(t){t&&t!==this.select&&this.querySelections(t)},ws_sub:function(){this.costComp()},ws_dis:function(){this.costComp()},ws_cost:function(){this.costComp(),this.rtCostComp(),this.sellComp()},ws_quan:function(){this.rtCostComp(),this.costComp(),this.rtComp(),this.sellComp()},rt_pack:function(){this.rtCostComp()},rt_quan:function(){this.rtCostComp(),this.sellComp()},mark_up:function(t){this.markupComp(t),this.sellComp()},rt_selling:function(){this.sellComp(),this.wsUnitCostComp()},outUs:function(t){this.$store.commit("setPout",t);var e=this.or_inventory;this.inventory=_.filter(e,function(e){return e.outlet_id===t}),this.total=this.inventory.length}},mounted:function(){this.setSide(),this.loadProducts(),this.getOut()},created:function(){var t=this;Wg.$on("er_snack",function(e){t.er_snackbar=e}),Wg.$on("su_snack",function(e){t.su_snackbar=e}),Wg.$on("del_snack",function(e){t.del_snackbar=e}),Wg.$on("ed_snack",function(e){t.ed_snackbar=e}),Wg.$on("form_snack",function(e){t.form_error_snack=e}),Wg.$on("dict_load",function(e){t.dict_load=e}),Wg.$on("product_add",function(e){t.loadProducts()})},methods:{rtComp:function(){this.new_product.rt_quantity=this.new_product.ws_quantity*this.new_product.rt_pack_size},wsUnitCostComp:function(){this.editedItem.ws_unit_cost=parseFloat(this.editedItem.selling_price)/parseFloat(this.editedItem.markup),console.log(this.editedItem.ws_unit_cost)},markupComp:function(t){if(t<=0)return this.new_product.markup=1,!1;var e=0;e=this.editedItem.rt_unit_cost*this.editedItem.markup,this.editedItem.selling_price=e.toFixed(2),this.editedItem.subtotal=e*this.editedItem.rt_quantity},costComp:function(){var t=0,e=this.editedItem.ws_quantity*this.editedItem.ws_unit_cost;t=this.editedItem.ws_discount?e*(1-.01*this.editedItem.ws_discount):e.toFixed(2),this.editedItem.ws_subtotal=t},rtCostComp:function(){var t=0,e=this.editedItem.rt_pack_size*this.editedItem.ws_quantity;this.editedItem.rt_quantity=e,e&&(t=this.editedItem.ws_subtotal/e),this.editedItem.rt_unit_cost=t.toFixed(2)},sellComp:function(){this.editedItem.selling_price,this.editedItem.rt_unit_cost,this.editedItem.subtotal=(this.editedItem.selling_price*this.editedItem.rt_quantity).toFixed(2)},setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!0)},querySelections:function(t){var e=this;this.loading=!0,setTimeout(function(){e.items=e.states.name.filter(function(e){return(e||"").toLowerCase().indexOf((t||"").toLowerCase())>-1}),e.loading=!1},500)},getOut:function(){this.$store.dispatch("loadOutlets"),this.outList()},outList:function(){var t=this.$store.getters.getOutlets,e=[];this.userData.outlet_name,this.userData.outlet_id;for(var a=0,s=t.length;a<s;a++)e.push({outlet_name:t[a].outlet_name,id:t[a].id});this.outlets=e},loadProducts:function(){var t=this,e=this;this.fetchup=!0;this.userData.outlet_id,this.userData.company_id;wu.get(this.apiSet.allProducts).then(function(t){var a=[];console.log(t.data.data);for(var s=t.data.data,i=0,n=s.length;i<n;i++)console.log(s[i].title),a.push({id:s[i].id,num:i,product_name:s[i].product_name,quantity:s[i].ws_quantity+" ("+s[i].ws_unit+") / "+s[i].rt_quantity+" ("+s[i].rt_unit+")",rt_unit_cost:s[i].rt_unit_cost,selling_price:s[i].selling_price,expiry:s[i].expiry,outlet_id:s[i].outlet_id,created_at:s[i].created_at,updated_at:s[i].updated_at});e.or_inventory=a,e.inventory=a,e.raw_inventory=s,e.total=e.inventory.length,e.fetchup=!1}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},editItem:function(t){this.loadProducts(),this.editedIndex=this.inventory.indexOf(t);var e=this.inventory.indexOf(t),a=this.raw_inventory[e];this.editedItem=wi()({},a),this.dialog=!0},updateProduct:function(){var t=this,e=this;this.loader=!0,this.$validator.validateAll().then(function(a){if(!a)return t.form_error_snack=!0,t.loader=!1,!1;if(!(t.editedIndex>-1))return e.err_snackbar=!0,!1;wi()(t.raw_inventory[t.editedIndex],t.editedItem);var s=t.editedItem.id,i=t.editedItem,n=t.$store.state.config.url;wu.patch(n+"/product/"+s,i).then(function(t){console.log(t),e.loader=!1,e.ed_snackbar=!0,e.dialog=!1,e.$validator.reset(),e.loadProducts(),e.$store.commit("setNetError",!1)}).catch(function(t){console.log(t),e.loader=!1,e.$store.commit("setNetError",!0)})})},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Product",message:"Are you sure you want to Delete Product?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.inventory.indexOf(t);this.inventory.splice(s,1),wu.delete(a+"/product/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadProducts(),e.$store.commit("setNetError",!1)}).catch(function(t){e.del_error_snack=!0,e.$store.commit("setNetError",!0),console.log(t)})}}},Iu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"900px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Add Product "),a("v-btn",{attrs:{flat:"",color:"secondary"}},[t._v(t._s(t.editedItem.product_name)+" #"+t._s(t.editedItem.id))])],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[t._v("\n                Product Info\n                "),a("v-container",{staticClass:"mb-4",attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"",label:"Product name",required:"","data-vv-name":"name","error-messages":t.errors.collect("name")},model:{value:t.editedItem.product_name,callback:function(e){t.$set(t.editedItem,"product_name",e)},expression:"editedItem.product_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"Category",disabled:"",hint:"Category is pre-defined","persistent-hint":"","offset-y":""},model:{value:t.editedItem.category,callback:function(e){t.$set(t.editedItem,"category",e)},expression:"editedItem.category"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"Manufacturer"},model:{value:t.editedItem.manufacturer,callback:function(e){t.$set(t.editedItem,"manufacturer",e)},expression:"editedItem.manufacturer"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:DD/MM/YYYY",expression:"'required|date_format:DD/MM/YYYY'"}],attrs:{box:"",label:"Expiry",required:"","data-vv-name":"expiry","error-messages":t.errors.collect("expiry")},model:{value:t.editedItem.expiry,callback:function(e){t.$set(t.editedItem,"expiry",e)},expression:"editedItem.expiry"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"BarCode",hint:"If present on product","persistent-hint":""},model:{value:t.editedItem.barcode,callback:function(e){t.$set(t.editedItem,"barcode",e)},expression:"editedItem.barcode"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-btn",{attrs:{color:"secondary"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-barcode")]),t._v(" Generate Barcode")],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{box:"",label:"Batch No.",type:"number"},model:{value:t.editedItem.batch_no,callback:function(e){t.$set(t.editedItem,"batch_no",e)},expression:"editedItem.batch_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{box:"",label:"Min No.",required:"",type:"number"},model:{value:t.editedItem.min_no,callback:function(e){t.$set(t.editedItem,"min_no",e)},expression:"editedItem.min_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{box:"",label:"Re-order No.",required:"",type:"number"},model:{value:t.editedItem.reorder_no,callback:function(e){t.$set(t.editedItem,"reorder_no",e)},expression:"editedItem.reorder_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{box:"",label:"Max No.",required:"",type:"number"},model:{value:t.editedItem.max_no,callback:function(e){t.$set(t.editedItem,"max_no",e)},expression:"editedItem.max_no"}})],1)],1)],1),t._v("\n\n\n\n                      Wholesale Pricing\n                    "),a("v-container",{staticClass:"mb-4",attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-select",{attrs:{items:t.packList,box:"",label:"Wholesale Unit",hint:"Eg. Pack","persistent-hint":"",required:"","offset-y":""},model:{value:t.editedItem.ws_unit,callback:function(e){t.$set(t.editedItem,"ws_unit",e)},expression:"editedItem.ws_unit"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"Quantity",box:"",type:"number"},model:{value:t.editedItem.ws_quantity,callback:function(e){t.$set(t.editedItem,"ws_quantity",e)},expression:"editedItem.ws_quantity"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:t.unit_cost,box:"",type:"number"},model:{value:t.editedItem.ws_unit_cost,callback:function(e){t.$set(t.editedItem,"ws_unit_cost",e)},expression:"editedItem.ws_unit_cost"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"Discount",box:"",suffix:"%"},model:{value:t.editedItem.ws_discount,callback:function(e){t.$set(t.editedItem,"ws_discount",e)},expression:"editedItem.ws_discount"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"SubTotal(GH¢)",box:"",readonly:"",type:"number"},model:{value:t.editedItem.ws_subtotal,callback:function(e){t.$set(t.editedItem,"ws_subtotal",e)},expression:"editedItem.ws_subtotal"}})],1)],1)],1),t._v("\n                Retail Pricing\n                    "),a("v-container",{attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-select",{attrs:{items:t.packList,box:"",label:"Retail Unit",hint:"Eg. Pack","persistent-hint":"",required:"","offset-y":""},model:{value:t.editedItem.rt_unit,callback:function(e){t.$set(t.editedItem,"rt_unit",e)},expression:"editedItem.rt_unit"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Pack Size",box:"",type:"number"},model:{value:t.editedItem.rt_pack_size,callback:function(e){t.$set(t.editedItem,"rt_pack_size",e)},expression:"editedItem.rt_pack_size"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Retail QTY",box:"",type:"number"},model:{value:t.editedItem.rt_quantity,callback:function(e){t.$set(t.editedItem,"rt_quantity",e)},expression:"editedItem.rt_quantity"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal:4|required",expression:"'decimal:4|required'"}],attrs:{label:t.runit_cost,box:"",type:"number","data-vv-name":"rt_cost",readonly:"","error-messages":t.errors.collect("rt_cost")},model:{value:t.editedItem.rt_unit_cost,callback:function(e){t.$set(t.editedItem,"rt_unit_cost",e)},expression:"editedItem.rt_unit_cost"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Markup",box:"",type:"number"},model:{value:t.editedItem.markup,callback:function(e){t.$set(t.editedItem,"markup",e)},expression:"editedItem.markup"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Selling Price",box:"",type:"number"},model:{value:t.editedItem.selling_price,callback:function(e){t.$set(t.editedItem,"selling_price",e)},expression:"editedItem.selling_price"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Subtotal",box:"",type:"number"},model:{value:t.editedItem.subtotal,callback:function(e){t.$set(t.editedItem,"subtotal",e)},expression:"editedItem.subtotal"}})],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"grey darken-1"},nativeOn:{click:function(e){t.dialog=!1}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary darken-1",loading:t.loader,disabled:t.loader},on:{click:t.updateProduct}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-library-plus\n                    ")]),t._v("Update Product")],1)],1)],1)],1),t._v(" "),a("v-card",[a("v-toolbar",{staticClass:"mt-0 primary"},[a("v-toolbar-title",[a("v-textfield")],1),t._v(" "),a("v-toolbar-items",{staticClass:"hidden-sm-and-down"}),t._v(" "),a("v-layout",{attrs:{row:"","align-center":""}},[a("v-flex",{attrs:{sm2:""}},[a("v-select",{staticClass:"mt-2",attrs:{"offset-y":"",items:t.outlets,"item-text":"outlet_name","item-value":"id",label:"Select Outlet",solo:"","return-object":""},model:{value:t.outlet,callback:function(e){t.outlet=e},expression:"outlet"}})],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-flex",{attrs:{sm9:""}},[a("set-product")],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("All Products[ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ] @ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.outlet.outlet_name))])]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-5",attrs:{headers:t.inv_head,items:t.inventory,search:t.search,loading:t.fetchup,class:"elevation-5"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.product_name))]),t._v(" "),a("td",[t._v(t._s(e.item.quantity))]),t._v(" "),a("td",[t._v(t._s(e.item.selling_price))]),t._v(" "),a("td",[t._v(t._s(e.item.rt_unit_cost))]),t._v(" "),a("td",[t._v(t._s(e.item.expiry))]),t._v(" "),a("td",[t._v(t._s(t.moment(e.item.created_at).format("MMMM Do YYYY, h:mm a")))]),t._v(" "),a("td",[t._v(t._s(t.moment(e.item.updated_at).format("MMMM Do YYYY, h:mm a")))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"mr-2 teal--text cpoint",attrs:{flat:"",small:""},on:{click:function(a){return t.editItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-pencil\n                    ")]),t._v(" Edit")],1),t._v(" "),a("v-btn",{staticClass:"red--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.deleteItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-delete\n                    ")]),t._v(" Delete")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.er_snackbar,callback:function(e){t.er_snackbar=e},expression:"er_snackbar"}},[t._v("\n        Sorry input Errors. Data could not be saved.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.er_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.del_snackbar,callback:function(e){t.del_snackbar=e},expression:"del_snackbar"}},[t._v("\n        Entry Successfully Deleted.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.del_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.form_error_snack,callback:function(e){t.form_error_snack=e},expression:"form_error_snack"}},[t._v("\n        Sorry!!! Please Correct form errors.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.form_error_snack=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.del_error_snack,callback:function(e){t.del_error_snack=e},expression:"del_error_snack"}},[t._v("\n        Sorry!!! an error occured, Could not delete Product.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.del_error_snack=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.su_snackbar,callback:function(e){t.su_snackbar=e},expression:"su_snackbar"}},[t._v("\n        Product Successfully Added.\n        "),a("v-btn",{attrs:{flat:"",color:"green"},nativeOn:{click:function(e){t.su_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.ed_snackbar,callback:function(e){t.ed_snackbar=e},expression:"ed_snackbar"}},[t._v("\n        Product Successfully Edited.\n        "),a("v-btn",{attrs:{flat:"",color:"secondary"},nativeOn:{click:function(e){t.ed_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,bottom:!0,right:"right"===t.x,color:"primary"},model:{value:t.dict_load,callback:function(e){t.dict_load=e},expression:"dict_load"}},[t._v("\n        Product Dictionary Successfully loaded.\n        "),a("v-btn",{attrs:{flat:"",color:"secondary"},nativeOn:{click:function(e){t.dict_load=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},Su=[],qu={render:Iu,staticRenderFns:Su},Du=qu,$u=a("VU/8"),Pu=X,Tu=$u(Cu,Du,!1,Pu,"data-v-439c26a1",null),Eu=Tu.exports,Nu=a("mtWM"),Au={name:"dictionary",$_veeValidate:{validator:"new"},data:function(){return{total:0,fetchup:!1,dialog:!1,edit_dialog:!1,loader:!1,cat_name:"",search:"",su_snackbar:!1,er_snackbar:!1,del_snackbar:!1,ed_snackbar:!1,form_error_snack:!1,gender:["Male","Female"],headers:[{text:"No.",align:"left",value:"num"},{text:"Category Name",align:"left",value:"cat_name"},{text:"Added By",align:"left",value:"by"}],categories:[],editedIndex:-1,editedItem:{id:"",cat_name:"Category Name",cat_user:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},apiSet:function(){return this.$store.getters.getApi},submit_loading:function(){return!0},submitted:function(){return this.$store.state.submittedState}},watch:{dialog:function(t){t||this.close()},submitted:function(){this.clearFields(),this.su_snackbar=!0}},mounted:function(){this.loadCategories()},created:function(){var t=this;Wg.$on("getCat",function(e){t.loadCategories()})},methods:{loadCategories:function(){var t=this;this.fetchup=!0;var e=this;Nu.get(this.apiSet.allCategories).then(function(t){var a=[];console.log(t.data.data);for(var s=t.data.data,i=0,n=s.length;i<n;i++)console.log(s[i].title),a.push({id:s[i].id,num:i,cat_name:s[i].cat_name,cat_user:s[i].cat_user});e.categories=a,e.total=a.length,e.fetchup=!1,e.$store.commit("setCat",a)}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},onAddCat:function(){var t=this,e=this;this.$validator.validateAll().then(function(a){if(!a)return t.form_error_snack=!0,!1;t.loader=!0;var s={cat_name:t.cat_name,cat_user:"aximilli"};Nu.post(t.apiSet.singleCategory,s).then(function(t){e.closeup(),e.su_snackbar=!0,e.loadCategories(),e.loader=!1}).catch(function(t){e.loader=!1,e.er_snackbar=!0})})},clearFields:function(){this.cat_name="",this.cat_user="",this.$store.commit("setSubmitLoadState",!1),this.loader=!1,this.$validator.reset()},closeup:function(){this.clearFields(),this.dialog=!1},close_edit:function(){this.clearFields(),this.edit_dialog=!1},editItem:function(t){this.editedIndex=this.categories.indexOf(t),this.editedItem=wi()({},t),this.edit_dialog=!0},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Category",message:"Are you sure you want to Delete Category?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.categories.indexOf(t);this.categories.splice(s,1),Nu.delete(a+"/category/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadCategories(),e.$store.commit("setNetError",!1)}).catch(function(t){e.$store.commit("setNetError",!0),console.log(t)})},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.editedItem=wi()({},t.defaultItem),t.editedIndex=-1},300)},save:function(){var t=this;if(this.formError=!1,this.editedIndex>-1){wi()(this.categories[this.editedIndex],this.editedItem);var e=this.editedItem.id;this.loader=!0;var a={cat_name:this.editedItem.cat_name,cat_user:"aximilli"},s=this.$store.state.config.url;Nu.patch(s+"/category/"+e,a).then(function(e){console.log(e),t.loader=!1,t.ed_snackbar=!0,t.edit_dialog=!1,t.$validator.reset(),t.loadCategories(),t.$store.commit("setNetError",!1)}).catch(function(e){console.log(e),t.loader=!1,this.$store.commit("setNetError",!0)})}else console.log(this.editedItem)}}},Ou=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-spacer"),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:"",small:""},slot:"activator"},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" Add Category Item")],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-card",[a("form",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Add to Category")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Category Name",box:"","data-vv-name":"category_name",required:"","error-messages":t.errors.collect("category_name")},model:{value:t.cat_name,callback:function(e){t.cat_name=e},expression:"cat_name"}})],1)],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},nativeOn:{click:function(e){return t.closeup(e)}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary",loading:t.loader,disabled:t.loader},on:{click:t.onAddCat}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-library-plus")]),t._v("Save")],1)],1)],1)])],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.edit_dialog,callback:function(e){t.edit_dialog=e},expression:"edit_dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Edit Category")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.edit_dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Category Name",box:"",required:""},model:{value:t.editedItem.cat_name,callback:function(e){t.$set(t.editedItem,"cat_name",e)},expression:"editedItem.cat_name"}})],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},nativeOn:{click:function(e){return t.close_edit(e)}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary",loading:t.loader,disabled:t.loader},on:{click:t.save}},[t._v("Update Details")])],1)],1)],1),t._v(" "),a("v-card",{staticClass:"elevation-4 thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("Product Categories [ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ]")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search",outline:"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-8",attrs:{headers:t.headers,items:t.categories,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.num))]),t._v(" "),a("td",[t._v(t._s(e.item.cat_name))]),t._v(" "),a("td",[t._v(t._s(e.item.cat_user))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"mr-2 teal--text cpoint",attrs:{flat:"",small:""},on:{click:function(a){return t.editItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-pencil\n                    ")]),t._v(" Edit")],1),t._v(" "),a("v-btn",{staticClass:"red--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.deleteItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-delete\n                    ")]),t._v(" Delete")],1)],1)]}}])},[t._v(" "),a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.loadCategories}},[t._v("Refresh")])],1),t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],2)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.er_snackbar,callback:function(e){t.er_snackbar=e},expression:"er_snackbar"}},[t._v("\n        Please Enter Category Details.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.er_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.del_snackbar,callback:function(e){t.del_snackbar=e},expression:"del_snackbar"}},[t._v("\n        Entry Successfully Deleted.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.del_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.form_error_snack,callback:function(e){t.form_error_snack=e},expression:"form_error_snack"}},[t._v("\n        Sorry!!! Please Correct form errors.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.form_error_snack=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.su_snackbar,callback:function(e){t.su_snackbar=e},expression:"su_snackbar"}},[t._v("\n        Product Successfully Added.\n        "),a("v-btn",{attrs:{flat:"",color:"green"},nativeOn:{click:function(e){t.su_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.ed_snackbar,callback:function(e){t.ed_snackbar=e},expression:"ed_snackbar"}},[t._v("\n        Product Successfully Edited.\n        "),a("v-btn",{attrs:{flat:"",color:"secondary"},nativeOn:{click:function(e){t.ed_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},Mu=[],Ru={render:Ou,staticRenderFns:Mu},ju=Ru,Yu=a("VU/8"),Fu=J,Uu=Yu(Au,ju,!1,Fu,"data-v-70ca232c",null),zu=Uu.exports,Vu=a("mtWM"),Bu={name:"purchases",data:function(){return{showMenu:!1,switch1:!0,er_snackbar:!1,buffer_dialog:!1,buffer_total:0,buffer_invoice:"",buffer_fetchup:!1,snack:!1,snackText:"",snackColor:"red",outlet:"Warehouse",loading:!1,fetchup:!1,loader:!1,items:[],dialog:!1,total:"",search:null,searchup:null,select:null,start_date:null,menu:!1,menu2:!1,end_date:null,menu3:!1,states:[{name:"Toilet Rolls",icon:"mdi-chart-bubble",category:"Toiletries"}],purchase_head:[{text:"Id",align:"left",sortable:!1,value:"id"},{text:"Invoice",align:"left",value:"invoice"},{text:"Supplier",align:"left",value:"supplier"},{text:"Outlet",value:"outlet"},{text:"Mode",value:"purchase_mode"},{text:"Amount",value:"total_amount"},{text:"Discount",value:"sup_discount"},{text:"By",value:"by"},{text:"Date",value:"date"},{text:"Actions",align:"center",value:"actions"}],purchases:[],buffer_purchase:[],or_purchases:[],buffer_head:[{text:"Product",value:"product_name",class:"subheading",sortable:!1},{text:"Quantity",class:"subheading",value:"quantity"},{text:"S-Price(Ghc)",class:"subheading",value:"selling_price"},{text:"C-Price(Ghc)",value:"rt_unit_cost",class:"subheading"},{text:"Expiry",value:"expiry",class:"subheading"},{text:"",value:"name",align:"centre",sortable:!1}],inventory:[],raw_inventory:[],buffer_data:[],editedIndex:-1,editedItem:{id:"",product_name:"",category:"",manufacturer:"",expiry:"",product_type:"",ws_quantity:"",rt_quantity:"",barcode:"",rt_unit:"",ws_unit:"",ws_discount:0,rt_discount:0,ws_unit_cost:"",rt_unit_cost:"",markup:"",selling_price:"",subtotal:"",min_no:"",batch_no:"",max_no:"",reorder_no:""},defaultItem:{id:"",product_name:"",category:"",manufacturer:"",expiry:"",product_type:"",barcode:""},side_items:[]}},computed:{apiSet:function(){return this.$store.getters.getApi},unit_cost:function(){return this.editedItem.ws_unit+" Cost(Ghc)"},runit_cost:function(){return this.editedItem.rt_unit+" Cost(Ghc)"}},watch:{search:function(t){t&&t!==this.select&&this.querySelections(t)},outlet:function(t){var e=this.or_purchases;this.purchases=_.filter(e,function(e){return e.outlet===t}),this.total=this.purchases.length}},mounted:function(){this.setSide(),this.loadPurchases()},created:function(){var t=this;Wg.$on("er_snack",function(e){t.er_snackbar=e}),Wg.$on("su_snack",function(e){t.su_snackbar=e}),Wg.$on("del_snack",function(e){t.del_snackbar=e}),Wg.$on("ed_snack",function(e){t.ed_snackbar=e}),Wg.$on("form_snack",function(e){t.form_error_snack=e}),Wg.$on("product_add",function(e){t.loadProducts()})},methods:{setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!1)},viewDet:function(t){var e=this,a=this;this.fetchup=!0,this.buffer_invoice=t,this.buffer_dialog=!0,Vu.post(this.apiSet.invPurchaseBuffer,{invoice:t}).then(function(t){for(var e=[],s=t.data.data,i=0,n=s.length;i<n;i++)e.push({id:s[i].id,num:i,product_name:s[i].product_name,quantity:s[i].purr_quantity+" ("+s[i].ws_unit+") / "+s[i].purr_rt_quantity+" ("+s[i].rt_unit+")",rt_unit_cost:s[i].rt_unit_cost,selling_price:s[i].selling_price,expiry:s[i].expiry});a.buffer_data=e,a.buffer_purchase=s,a.buffer_total=e.length,a.buffer_fetchup=!1,a.fetchup=!1}).catch(function(t){a.loader=!1,e.err.push(t)})},loadPurchases:function(){var t=this,e=this;this.fetchup=!0,Vu.get(this.apiSet.pendingPurchase).then(function(t){var a=t.data.data;e.purchases=a,e.total=e.purchases.length,e.fetchup=!1}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},submitPurchase:function(){var t=this,e=this.buffer_purchase;this.buffer_fetchup=!0;for(var a=0,s=e.length;a<s;a++)Vu.post(this.apiSet.productPurchase,e[a]).then(function(e){t.loader=!1,t.buffer_dialog=!1,t.buffer_fetchup=!1,t.fetchup=!1,t.snack=!0,t.snackText="Purchase Successfully Received.",t.snackColor="green",t.loadPurchases(),t.buffer_data=[]}).catch(function(e){console.log(e),this.er_snackbar=!0,t.loader=!1})},closeup:function(){this.buffer_data=[],this.buffer_dialog=!1}}},Gu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"1200px"},model:{value:t.buffer_dialog,callback:function(e){t.buffer_dialog=e},expression:"buffer_dialog"}},[a("v-card",{staticClass:"elevation-4"},[a("v-card-title",[a("p",{staticClass:"headline ttext mt-1"},[t._v("[ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.buffer_total))]),t._v(" ] Pending Products | ")]),a("br"),t._v(" "),a("p",{staticClass:"small ttext mt-1"},[t._v("Invoice No. [ "),a("i",{staticClass:"orange--text text--darken-3"},[t._v("#"+t._s(t.buffer_invoice))]),t._v(" ]")]),a("br"),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"secondary elevation-8",attrs:{large:""},on:{click:t.submitPurchase}},[a("v-icon",[t._v("mdi-format-align-middle")]),t._v(" Receive Items")],1),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.closeup(e)}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.buffer_head,items:t.buffer_data,loading:t.buffer_fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.product_name))]),t._v(" "),a("td",[t._v(t._s(e.item.quantity))]),t._v(" "),a("td",[t._v(t._s(e.item.selling_price))]),t._v(" "),a("td",[t._v(t._s(e.item.rt_unit_cost))]),t._v(" "),a("td",[t._v(t._s(e.item.expiry))])]}}])},[t._v(" "),a("template",{slot:"no-data"},[a("v-alert",{attrs:{value:!0,color:"primary",icon:"add"}},[a("v-progress-circular",{staticClass:"mr-4",attrs:{indeterminate:!0,value:0,size:"24",color:"orange darken-3"}}),t._v(" Loading Data. Please wait.\n                    ")],1)],1),t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                    Your search for "'+t._s(t.search)+'" found no results.\n                ')])],2),t._v(" "),t.buffer_state?a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"grey darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{color:"primary darken-1",dark:""},nativeOn:{click:function(t){}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-printer")]),t._v("Print")],1)],1):t._e()],1)],1),t._v(" "),a("v-card",[a("v-toolbar",{staticClass:"mt-0 primary"},[a("v-toolbar-items",{staticClass:"hidden-sm-and-down"}),t._v(" "),a("v-layout",{attrs:{row:"","align-center":""}},[a("v-spacer"),t._v(" "),a("v-flex",{attrs:{sm3:"",md3:""}},[a("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.start_date,lazy:"",box:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.start_date=e},"update:return-value":function(e){t.start_date=e}},model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-text-field",{staticClass:"mt-2 mr-4",attrs:{slot:"activator",label:"Start Date",solo:"",clearable:"","append-icon":"event",readonly:""},slot:"activator",model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}}),t._v(" "),a("v-date-picker",{on:{input:function(e){return t.$refs.menu2.save(t.start_date)}},model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}})],1)],1),t._v(" "),a("v-flex",{attrs:{sm3:"",md3:""}},[a("v-menu",{ref:"menu3",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.end_date,lazy:"",box:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.end_date=e},"update:return-value":function(e){t.end_date=e}},model:{value:t.menu3,callback:function(e){t.menu3=e},expression:"menu3"}},[a("v-text-field",{staticClass:"mt-2 ml-4",attrs:{slot:"activator",label:"End Date",solo:"",clearable:"","append-icon":"event",readonly:"",color:"secondary"},slot:"activator",model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}}),t._v(" "),a("v-date-picker",{on:{input:function(e){return t.$refs.menu3.save(t.end_date)}},model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}})],1)],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("All Pending Purchases[ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ]")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-5",attrs:{headers:t.purchase_head,items:t.purchases,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.invoice))]),t._v(" "),a("td",[t._v(t._s(e.item.supplier))]),t._v(" "),a("td",[t._v(t._s(e.item.outlet))]),t._v(" "),a("td",[t._v(t._s(e.item.mode))]),t._v(" "),a("td",[t._v(t._s(e.item.amount))]),t._v(" "),a("td",[t._v(t._s(e.item.discount))]),t._v(" "),a("td",[t._v(t._s(e.item.by))]),t._v(" "),a("td",[t._v(t._s(t.moment(e.item.date).format("MMM Do YYYY")))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"mr-2 teal--text cpoint",attrs:{flat:"",small:""},on:{click:function(a){return t.viewDet(e.item.invoice)}}},[a("v-icon",{attrs:{small:""}},[t._v("\n                            mdi-open-in-new\n                        ")]),t._v(" view")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},Hu=[],Lu={render:Gu,staticRenderFns:Hu},Wu=Lu,Qu=a("VU/8"),Zu=K,Xu=Qu(Bu,Wu,!1,Zu,"data-v-9f93ec1e",null),Ju=Xu.exports,Ku=a("mtWM"),tm={name:"purchases",data:function(){return{showMenu:!1,er_snackbar:!1,buffer_dialog:!1,buffer_total:0,buffer_invoice:"",buffer_fetchup:!1,snack:!1,snackText:"",outlet:"",snackColor:"red",loading:!1,fetchup:!1,loader:!1,items:[],dialog:!1,total:"",search:null,searchup:null,select:null,start_date:null,menu:!1,menu2:!1,end_date:null,menu3:!1,states:[{name:"Toilet Rolls",icon:"mdi-chart-bubble",category:"Toiletries"}],purchase_head:[{text:"Id",align:"left",sortable:!1,value:"id"},{text:"Invoice",align:"left",value:"invoice"},{text:"Supplier",align:"left",value:"supplier"},{text:"Outlet",value:"outlet"},{text:"Mode",value:"purchase_mode"},{text:"Amount",value:"total_amount"},{text:"Discount",value:"sup_discount"},{text:"By",value:"by"},{text:"Date",value:"date"},{text:"Actions",align:"center",value:"actions"}],purchases:[],buffer_purchase:[],or_purchases:[],buffer_head:[{text:"Id",align:"left",value:"id",class:"subheading"},{text:"Product",value:"product_name",class:"subheading",sortable:!1},{text:"Quantity",class:"subheading",value:"quantity"},{text:"S-Price(Ghc)",class:"subheading",value:"selling_price"},{text:"C-Price(Ghc)",value:"rt_unit_cost",class:"subheading"},{text:"Expiry",value:"expiry",class:"subheading"},{text:"",value:"name",align:"centre",sortable:!1}],inventory:[],raw_inventory:[],buffer_data:[],editedIndex:-1,editedItem:{id:"",product_name:"",category:"",manufacturer:"",expiry:"",product_type:"",ws_quantity:"",rt_quantity:"",barcode:"",rt_unit:"",ws_unit:"",ws_discount:0,rt_discount:0,ws_unit_cost:"",rt_unit_cost:"",markup:"",selling_price:"",subtotal:"",min_no:"",batch_no:"",max_no:"",reorder_no:""},defaultItem:{id:"",product_name:"",category:"",manufacturer:"",expiry:"",product_type:"",barcode:""},side_items:[{icon:"mdi-account-card-details",text:"Suppliers",link:"/suppliers"},{icon:"mdi-cart",text:"Purchases",link:"/purchases"}]}},computed:{apiSet:function(){return this.$store.getters.getApi},unit_cost:function(){return this.editedItem.ws_unit+" Cost(Ghc)"},runit_cost:function(){return this.editedItem.rt_unit+" Cost(Ghc)"}},watch:{search:function(t){t&&t!==this.select&&this.querySelections(t)},outlet:function(t){var e=this.or_purchases;this.purchases=_.filter(e,function(e){return e.outlet_name===t}),this.total=this.purchases.length}},mounted:function(){this.setSide(),this.loadPurchases()},created:function(){var t=this;Wg.$on("er_snack",function(e){t.er_snackbar=e}),Wg.$on("su_snack",function(e){t.su_snackbar=e}),Wg.$on("del_snack",function(e){t.del_snackbar=e}),Wg.$on("ed_snack",function(e){t.ed_snackbar=e}),Wg.$on("form_snack",function(e){t.form_error_snack=e}),Wg.$on("product_add",function(e){t.loadProducts()})},methods:{setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!0)},viewDet:function(t){var e=this,a=this;this.$store.commit("setPurchaseDet",t),this.fetchup=!0,this.buffer_invoice=t.invoice,Ku.post(this.apiSet.invPurchaseBuffer,{invoice:t.invoice}).then(function(t){var e=[],s=t.data.data;a.$store.commit("setNewPopPurchase",s),a.buffer_total=e.length,a.buffer_fetchup=!1,a.fetchup=!1,a.$router.push("/purchase_pop")}).catch(function(t){console.log(t),a.loader=!1,e.err.push(t)})},loadPurchases:function(){var t=this;this.outlet=this.userData.outlet_name;var e=this;this.fetchup=!0,Ku.get(this.apiSet.allPurchases).then(function(t){var a=t.data.data;e.or_purchases=a,e.purchases=_.filter(a,function(t){return t.outlet_name===e.outlet}),e.total=e.purchases.length,e.fetchup=!1}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},submitPurchase:function(){var t=this,e=this.buffer_purchase;this.buffer_fetchup=!0;for(var a=0,s=e.length;a<s;a++)Ku.post(this.apiSet.productPurchase,e[a]).then(function(e){console.log(e),t.loader=!1,t.buffer_dialog=!1,t.buffer_fetchup=!1,t.fetchup=!1,t.snack=!0,t.snackText="Purchase Successfully Received.",t.snackColor="green",t.loadPurchases()}).catch(function(e){console.log(e),this.er_snackbar=!0,t.loader=!1})}}},em=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-toolbar",{staticClass:"mt-0 primary"},[a("v-toolbar-items",{staticClass:"hidden-sm-and-down"}),t._v(" "),a("v-layout",{attrs:{row:"","align-center":""}},[a("v-flex",{attrs:{sm2:""}},[a("v-btn",{staticClass:"secondary elevation-8",on:{click:function(e){return t.$router.push("/new_purchase")}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-map")]),t._v(" Make New Purchase")],1)],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-flex",{attrs:{sm2:""}},[a("v-select",{staticClass:"mt-2 mr-4",attrs:{"offset-y":"",items:t.outlets,label:"Select Outlet",solo:""},model:{value:t.outlet,callback:function(e){t.outlet=e},expression:"outlet"}})],1),t._v(" "),a("v-flex",{attrs:{sm3:"",md3:""}},[a("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.start_date,lazy:"",box:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.start_date=e},"update:return-value":function(e){t.start_date=e}},model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-text-field",{staticClass:"mt-2 mr-4",attrs:{slot:"activator",label:"Start Date",solo:"",clearable:"","append-icon":"event",readonly:""},slot:"activator",model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}}),t._v(" "),a("v-date-picker",{on:{input:function(e){return t.$refs.menu2.save(t.start_date)}},model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}})],1)],1),t._v(" "),a("v-flex",{attrs:{sm3:"",md3:""}},[a("v-menu",{ref:"menu3",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.end_date,lazy:"",box:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.end_date=e},"update:return-value":function(e){t.end_date=e}},model:{value:t.menu3,callback:function(e){t.menu3=e},expression:"menu3"}},[a("v-text-field",{staticClass:"mt-2 ml-4",attrs:{slot:"activator",label:"End Date",solo:"",clearable:"","append-icon":"event",readonly:"",color:"secondary"},slot:"activator",model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}}),t._v(" "),a("v-date-picker",{on:{input:function(e){return t.$refs.menu3.save(t.end_date)}},model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}})],1)],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("All Purchases[ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ] @ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.outlet))])]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-5",attrs:{headers:t.purchase_head,items:t.purchases,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.invoice))]),t._v(" "),a("td",[t._v(t._s(e.item.supplier))]),t._v(" "),a("td",[t._v(t._s(e.item.outlet))]),t._v(" "),a("td",[t._v(t._s(e.item.mode))]),t._v(" "),a("td",[t._v(t._s(e.item.amount))]),t._v(" "),a("td",[t._v(t._s(e.item.discount))]),t._v(" "),a("td",[t._v(t._s(e.item.by))]),t._v(" "),a("td",[t._v(t._s(t.moment(e.item.date).format("MMM Do YYYY")))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"mr-2 teal--text cpoint",attrs:{flat:"",small:""},on:{click:function(a){return t.viewDet(e.item)}}},[a("v-icon",{attrs:{small:""}},[t._v("\n                            mdi-open-in-new\n                        ")]),t._v(" view")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},am=[],sm={render:em,staticRenderFns:am},im=sm,nm=a("VU/8"),rm=tt,om=nm(tm,im,!1,rm,"data-v-4e1fd8a6",null),lm=om.exports,cm=a("mtWM"),dm={name:"suppliers",props:["sup_dialog"],data:function(){return{total:0,fetchup:!1,dialog:!1,edit_dialog:!1,loader:!1,sup_name:"",sup_phone:"",sup_email:"",sup_address:"",sup_location:"",added_by:"aximilli",search:"",su_snackbar:!1,er_snackbar:!1,gender:["Male","Female"],headers:[{text:"Id.",align:"left",value:"num",class:"title"},{text:"Supplier ",align:"left",value:"name",class:"title"},{text:"Phone No.",align:"left",value:"phone",class:"title"},{text:"Debit",align:"left",value:"debit",class:"title"},{text:"Actions",value:"name",class:"title",align:"centre",sortable:!1}],suppliers:[],editedIndex:-1,editedItem:{id:"",validate:!0,supplier:"",acc_num:"",phone_no:"",email:"",country:"",address:""},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0},emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],phoneRules:[function(t){return!!t||"Phone Number is required"},function(t){return/.+@.+/.test(t)||"Phone Number must be numeric"}]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},apiSet:function(){return this.$store.getters.getApi}},methods:{loadSuppliers:function(){var t=this;cm.get(this.apiSet.allSuppliers).then(function(e){var a=e.data.data;t.$store.commit("setSup",a)}).catch(function(t){console.log(t)})},onAddSup:function(){var t=this;this.loader=!0;var e={sup_name:this.sup_name,sup_phone:this.sup_phone,sup_email:this.sup_email,sup_address:this.sup_address,sup_location:this.sup_location,added_by:"aximilli",credit_unpaid:0};cm.post(this.apiSet.singleSupplier,e).then(function(e){t.loadSuppliers(),t.loader=!1,t.closeSup()}).catch(function(e){t.loader=!1,t.er_snackbar=!0})},clearFields:function(){this.sup_name="",this.sup_phone="",this.sup_email="",this.sup_address="",this.sup_location="",this.$store.commit("setSubmitLoadState",!1),this.loader=!1,this.$validator.reset()},closeSup:function(){this.clearFields(),Wg.$emit("sup_dialog",!1)}}},um=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.sup_dialog,callback:function(e){t.sup_dialog=e},expression:"sup_dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Add Supplier")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.closeSup(e)}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Supplier Name",box:"","data-vv-name":"supplier_name",required:"","error-messages":t.errors.collect("supplier_name")},model:{value:t.sup_name,callback:function(e){t.sup_name=e},expression:"sup_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Phone No.",box:"","data-vv-name":"phone_no",required:"","error-messages":t.errors.collect("phone_no")},model:{value:t.sup_phone,callback:function(e){t.sup_phone=e},expression:"sup_phone"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Supplier Email",box:""},model:{value:t.sup_email,callback:function(e){t.sup_email=e},expression:"sup_email"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Supplier Address",box:"","data-vv-name":"sup_address",required:"","error-messages":t.errors.collect("sup_address")},model:{value:t.sup_address,callback:function(e){t.sup_address=e},expression:"sup_address"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Location",box:""},model:{value:t.sup_location,callback:function(e){t.sup_location=e},expression:"sup_location"}})],1)],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.closeSup}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary",loading:t.loader,disabled:t.loader},on:{click:t.onAddSup}},[t._v("Save")])],1)],1)],1)],1)},mm=[],vm={render:um,staticRenderFns:mm},_m=vm,pm=a("VU/8"),hm=et,fm=pm(dm,_m,!1,hm,"data-v-db474dcc",null),bm=fm.exports,gm=a("mtWM"),xm={name:"new_purchase",data:function(){return{ret_up:!1,due:!1,er_snackbar:!1,del_snackbar:!1,del_error_snack:!1,form_error_snack:!1,added_snackbar:!1,sup_dialog:!1,su_snackbar:!1,ed_snackbar:!1,pu_snackbar:!1,outlet:{outlet_name:"Warehouse",id:1},outlets:[],supplier:"Unknown",loading:!1,fetchup:!1,loader:!1,items:[],dialog:!1,inv_dialog:!1,total:"",search:null,searchup:null,select:null,outlet_name:"",states:[{name:"Toilet Rolls",icon:"mdi-chart-bubble",category:"Toiletries"}],purchase_det:{outlet:"",supplier:"",sup_invoice:"",carriage:0,vat:0,sup_discount:0,due_date:"",payment_mode:"",date:new Date},purchase_head:[{text:"Id",align:"left",value:"id"},{text:"Product",value:"product_name",sortable:!1},{text:"Batch No.",value:"batch_no"},{text:"Purchase Quantity",value:"purchase_qty"},{text:"C-Price/W-Unit(Ghc)",value:"purchase_cost"},{text:"S-Price/R-Unit(Ghc)",value:"purchase_selling"},{text:"Expiry",value:"expiry"},{text:"",value:"name",align:"centre",sortable:!1}],new_purchase:[],raw_inventory:[],editedIndex:-1,editedItem:{id:"1",product_name:"1",category:"1",manufacturer:"1",expiry:"02/02/2001",product_type:"1",ws_quantity:"1",rt_quantity:"1",barcode:"1",rt_unit:"1",ws_unit:"1",ws_discount:0,rt_discount:0,ws_unit_cost:"1",rt_unit_cost:"1",markup:"1",selling_price:"1",subtotal:"1",min_no:"1",batch_no:"1",max_no:"1",rt_pack_size:"3",ws_subtotal:"80",reorder_no:"1",carriage:"1",vat:"1",sup_invoice:"1",payment_mode:"1",sup_discount:0},defaultItem:{id:"",product_name:"",category:"",manufacturer:"",expiry:"",product_type:"",barcode:""},date:"",menu:!1,payment_modes:["Cash","Credit","Draft"],suppliers:["ECPL Pharmacy","Agapet Out Stores","Hollywood Sales"],side_items:[{icon:"mdi-chart-bubble",text:"View Drafts",link:"/purchase_draft"},{icon:"mdi-cart",text:"Purchases",link:"/purchases"}]}},computed:{purOut:function(){return this.purchase_det.outlet},purrSub:function(){var t=this.$store.getters.getNewPurchase;return gi()(t).reduce(function(t,e){return t+parseFloat(e.purr_ws_subtotal)},0)},purrSellSub:function(){var t=this.$store.getters.getNewPurchase;return gi()(t).reduce(function(t,e){return t+parseFloat(e.purr_subtotal)},0)},due_days:function(){var t=Lt()(this.purchase_det.due_date),e=Lt()(),a=1+t.diff(e,"days");return this.purchase_det.due_date?a+" Days":""},supList:function(){for(var t=this.$store.getters.getSup,e=[],a=0,s=t.length;a<s;a++)e.push(t[a].sup_name);return e},ws_sub:function(){return this.editedItem.ws_subtotal},ws_dis:function(){return this.editedItem.ws_discount},ws_cost:function(){return this.editedItem.ws_unit_cost},ws_quan:function(){return this.editedItem.ws_quantity},rt_pack:function(){return this.editedItem.rt_pack_size},rt_quan:function(){return this.editedItem.rt_quantity},mark_up:function(){return this.editedItem.markup},rt_selling:function(){return this.editedItem.selling_price},apiSet:function(){return this.$store.getters.getApi},unit_cost:function(){return this.editedItem.ws_unit+" Cost(Ghc)"},runit_cost:function(){return this.editedItem.rt_unit+" Cost(Ghc)"},prodData:function(){return this.$store.getters.getNewPurchase},payMode:function(){return this.purchase_det.payment_mode},getNewPurchase:function(){for(var t=[],e=this.$store.getters.getNewPurchase,a=0,s=e.length;a<s;a++)t.push({id:e[a].id,num:a,product_name:e[a].product_name,batch_no:e[a].batch_no,purchase_qty:e[a].purr_quantity+" ("+e[a].ws_unit+") / "+e[a].purr_rt_quantity+" ("+e[a].rt_unit+")",purchase_cost:e[a].ws_unit_cost+" / "+e[a].purr_ws_subtotal,purchase_selling:e[a].selling_price+" / "+e[a].purr_subtotal,expiry:e[a].expiry});return t}},watch:{search:function(t){t&&t!==this.select&&this.querySelections(t)},purOut:function(t){this.$store.commit("setPout",t.id),this.outlet_name=t.outlet_name},ws_sub:function(){this.costComp()},ws_dis:function(){this.costComp()},payMode:function(t){this.due="Credit"===t},ws_cost:function(){this.costComp(),this.rtCostComp(),this.sellComp()},ws_quan:function(){this.costComp(),this.sellComp(),this.rtCostComp()},rt_quan:function(){this.rtCostComp(),this.sellComp()},rt_pack:function(){this.rtCostComp()},mark_up:function(t){this.markupComp(t)},rt_selling:function(){this.sellComp()}},mounted:function(){this.setSide(),this.resetPurchase(),this.loadSup(),this.getOut()},created:function(){var t=this;Wg.$on("er_snack",function(e){t.er_snackbar=e}),Wg.$on("su_snack",function(e){t.su_snackbar=e}),Wg.$on("del_snack",function(e){t.del_snackbar=e}),Wg.$on("sup_dialog",function(e){t.sup_dialog=e}),Wg.$on("ed_snack",function(e){t.ed_snackbar=e}),Wg.$on("form_snack",function(e){t.form_error_snack=e}),Wg.$on("setSearch",function(e){t.search=e,t.added_snackbar=!0})},methods:{fromDictionary:function(){this.ret_up=!0},fromStock:function(){this.ret_up=!1},getOut:function(){this.$store.dispatch("loadOutlets"),this.outList()},outList:function(){for(var t=this.$store.getters.getOutlets,e=[],a=0,s=t.length;a<s;a++)e.push({outlet_name:t[a].outlet_name,id:t[a].id});this.outlets=e},setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!0)},loadSup:function(){var t=this;gm.get(this.apiSet.allSuppliers).then(function(e){var a=e.data.data;t.$store.commit("setSup",a),console.log("Nii here"),console.log(a)}).catch(function(t){console.log(t)})},addSup:function(){this.sup_dialog=!0},markupComp:function(t){if(t<=0)return this.editedItem.markup=1,!1;this.editedItem.selling_price=this.editedItem.rt_unit_cost*this.editedItem.markup,this.editedItem.subtotal=this.editedItem.selling_price*this.editedItem.rt_quantity},costComp:function(){var t=0,e=this.editedItem.ws_quantity*this.editedItem.ws_unit_cost;t=this.editedItem.ws_discount?e*(1-.01*this.editedItem.ws_discount):e,this.editedItem.ws_subtotal=t},rtCostComp:function(){var t=0,e=this.editedItem.rt_pack_size*this.editedItem.ws_quantity;this.editedItem.rt_quantity=e,e&&(t=this.editedItem.ws_subtotal/e),this.editedItem.rt_unit_cost=t},sellComp:function(){var t=0;t=this.editedItem.selling_price/this.editedItem.rt_unit_cost,this.editedItem.markup=t,this.editedItem.subtotal=this.editedItem.selling_price*this.editedItem.rt_quantity},querySelections:function(t){var e=this;this.loading=!0,setTimeout(function(){e.items=e.states.name.filter(function(e){return(e||"").toLowerCase().indexOf((t||"").toLowerCase())>-1}),e.loading=!1},500)},editItem:function(t){var e=this;this.patch_inventory=[];var a=t.id;gm.get(this.apiSet.singleProduct+"/"+a).then(function(t){console.log(t.data.data);var a=t.data.data;console.log(a),e.editedItem=wi()({},a),e.dialog=!0}).catch(function(t){console.log(t),self.loader=!1,e.err.push(t)})},loadSuppliers:function(){var t=this;this.fetchup=!0;var e=this;gm.get(this.apiSet.allSuppliers).then(function(t){var a=t.data.data;e.suppliers=a,e.total=a.length,e.fetchup=!1,e.$store.commit("setSuppliers",a)}).catch(function(a){console.log(a),e.loader=!1,e.er_snackbar=!0,t.err.push(a)})},submitPurchase:function(){var t=this;this.$validator.validateAll().then(function(e){if(!e)return Wg.$emit("form_snack",!0),!1;!function(){t.loader=!0;var e=t,a=t.prodData,s=t.purchase_det,i=gi()(a).reduce(function(t,e){return t+parseInt(e.ws_subtotal)},0);gi()(a).reduce(function(t,e){return t+parseInt(e.subtotal)},0);a.purchase_invoice=s.sup_invoice,a.company_id=t.userData.company_id,a.outlet_id=t.$store.getters.getPout,s.company_id=t.userData.company_id,s.outlet_id=t.userData.outlet_id,s.outlet=t.$store.getters.getPout,a.outlet=t.$store.getters.getPout,s.outlet_name=t.outlet_name,s.amount=i,s.by=t.userData.user_name,t.$store.commit("setPurchaseDet",s),gm.post(t.apiSet.singlePurchase,s).then(function(t){console.log(t),e.loader=!1,e.$validator.reset()}).catch(function(t){console.log(t),this.er_snackbar=!0,e.loader=!1});for(var n=0,r=a.length;n<r;n++)a[n].purchase_invoice=s.sup_invoice,gm.post(t.apiSet.singlePurchaseBuffer,a[n]).then(function(t){console.log(t),e.loader=!1,e.$validator.reset(),e.$router.push("/purchase_view")}).catch(function(t){console.log(t),this.er_snackbar=!0,e.loader=!1});t.pu_snackbar=!0}()})},submitPurchaseDraft:function(){var t=this;this.$validator.validateAll().then(function(e){if(!e)return Wg.$emit("form_snack",!0),!1;!function(){t.loader=!0;var e=t,a=t.prodData,s=t.purchase_det,i=gi()(a).reduce(function(t,e){return t+parseInt(e.ws_subtotal)},0);gi()(a).reduce(function(t,e){return t+parseInt(e.subtotal)},0);a.purchase_invoice=s.sup_invoice,a.company_id=t.userData.company_id,a.outlet_id=t.$store.getters.getPout,s.company_id=t.userData.company_id,s.outlet_id=t.userData.outlet_id,s.outlet=t.$store.getters.getPout,a.outlet=t.$store.getters.getPout,s.outlet_name=t.outlet_name,s.amount=i,s.by=t.userData.user_name,gm.post(t.apiSet.singlePurchase,s).then(function(t){e.loader=!1,e.$validator.reset()}).catch(function(t){console.log(t),this.er_snackbar=!0,e.loader=!1});for(var n=0,r=a.length;n<r;n++)a[n].purchase_invoice=s.sup_invoice,gm.post(t.apiSet.singlePurchaseBuffer,a[n]).then(function(t){console.log(t),e.loader=!1,e.$validator.reset(),e.$router.push("/purchase_view")}).catch(function(t){console.log(t),this.er_snackbar=!0,e.loader=!1});t.pu_snackbar=!0}()})},updateProduct:function(){var t=this,e=this;this.loader=!0,this.$validator.validateAll().then(function(a){if(!a)return t.form_error_snack=!0,t.loader=!1,!1;if(!(t.editedIndex>-1))return e.err_snackbar=!0,t.loader=!1,!1;var s=t.editedItem,i=yi()({},s,{index:t.editedIndex});t.$store.commit("editNewPurchase",i),t.loader=!1,e.ed_snackbar=!0,t.dialog=!1})},resetPurchase:function(){this.$store.commit("clearPurchase"),this.purchase_det.outlet="",this.purchase_det.supplier="",this.purchase_det.sup_invoice="",this.purchase_det.carriage="",this.purchase_det.vat="",this.purchase_det.sup_discount="",this.purchase_det.payment_mode="",this.search="",this.select="",this.$validator.reset()},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Product?",message:"Are you sure you want to Delete Product?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){this.$store.commit("delPurchase",t)}},components:{SupAdd:bm}},ym=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("sup-add",{attrs:{sup_dialog:t.sup_dialog}}),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"900px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Add Product "),a("v-btn",{attrs:{flat:"",color:"secondary"}},[t._v(t._s(t.editedItem.product_name)+" #"+t._s(t.editedItem.id))])],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[t._v("\n                Product Info\n                "),a("v-container",{staticClass:"mb-4",attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"",label:"Product name",required:"","data-vv-name":"name","error-messages":t.errors.collect("name")},model:{value:t.editedItem.product_name,callback:function(e){t.$set(t.editedItem,"product_name",e)},expression:"editedItem.product_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"Category",disabled:"",hint:"Category is pre-defined","persistent-hint":"",required:"","offset-y":""},model:{value:t.editedItem.category,callback:function(e){t.$set(t.editedItem,"category",e)},expression:"editedItem.category"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"Manufacturer"},model:{value:t.editedItem.manufacturer,callback:function(e){t.$set(t.editedItem,"manufacturer",e)},expression:"editedItem.manufacturer"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:DD/MM/YYYY",expression:"'required|date_format:DD/MM/YYYY'"}],attrs:{box:"",label:"Expiry(dd/mm/yyyy)",required:"","data-vv-name":"expiry","error-messages":t.errors.collect("expiry")},model:{value:t.editedItem.expiry,callback:function(e){t.$set(t.editedItem,"expiry",e)},expression:"editedItem.expiry"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"",label:"BarCode",required:"","data-vv-name":"barcode","error-messages":t.errors.collect("barcode"),hint:"If present on product","persistent-hint":""},model:{value:t.editedItem.barcode,callback:function(e){t.$set(t.editedItem,"barcode",e)},expression:"editedItem.barcode"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-btn",{attrs:{color:"secondary"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-barcode")]),t._v(" Generate Barcode")],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{box:"",label:"Batch No.",required:"",type:"number","data-vv-name":"batch_no","error-messages":t.errors.collect("batch_no")},model:{value:t.editedItem.batch_no,callback:function(e){t.$set(t.editedItem,"batch_no",e)},expression:"editedItem.batch_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{box:"",label:"Min No.",required:"",type:"number","data-vv-name":"min_no","error-messages":t.errors.collect("min_no")},model:{value:t.editedItem.min_no,callback:function(e){t.$set(t.editedItem,"min_no",e)},expression:"editedItem.min_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{box:"",label:"Re-order No.",required:"",type:"number","data-vv-name":"reorder","error-messages":t.errors.collect("reorder")},model:{value:t.editedItem.reorder_no,callback:function(e){t.$set(t.editedItem,"reorder_no",e)},expression:"editedItem.reorder_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{box:"",label:"Max No.",required:"",type:"number","data-vv-name":"max_no","error-messages":t.errors.collect("max_no")},model:{value:t.editedItem.max_no,callback:function(e){t.$set(t.editedItem,"max_no",e)},expression:"editedItem.max_no"}})],1)],1)],1),t._v(" "),a("v-toolbar",{staticClass:"mb-2"},[a("v-flex",{staticClass:"ml-2",attrs:{sm3:"",md3:""}},[a("span",{staticClass:"subheading secondary--text"},[t._v("Purchase Quantity:")])]),t._v(" "),a("v-flex",{staticClass:"pt-2",attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"Purchase Quantity",box:"",type:"number"},model:{value:t.editedItem.purr_quantity,callback:function(e){t.$set(t.editedItem,"purr_quantity",e)},expression:"editedItem.purr_quantity"}})],1)],1),t._v("\n\n\n\n\n                Wholesale Pricing\n                "),a("v-container",{staticClass:"mb-4",attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:["Pack","Box","Carton"],box:"",label:"Wholesale Unit",hint:"Eg. Pack","persistent-hint":"",required:"","offset-y":"","data-vv-name":"ws_unit","error-messages":t.errors.collect("ws_unit")},model:{value:t.editedItem.ws_unit,callback:function(e){t.$set(t.editedItem,"ws_unit",e)},expression:"editedItem.ws_unit"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Quantity",box:"",type:"number","data-vv-name":"ws_quantity","error-messages":t.errors.collect("ws_quantity")},model:{value:t.editedItem.ws_quantity,callback:function(e){t.$set(t.editedItem,"ws_quantity",e)},expression:"editedItem.ws_quantity"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal|required",expression:"'decimal|required'"}],attrs:{label:t.unit_cost,box:"",type:"number","data-vv-name":"ws_cost","error-messages":t.errors.collect("ws_cost")},model:{value:t.editedItem.ws_unit_cost,callback:function(e){t.$set(t.editedItem,"ws_unit_cost",e)},expression:"editedItem.ws_unit_cost"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Discount",box:"",suffix:"%","data-vv-name":"ws_discount","error-messages":t.errors.collect("ws_discount")},model:{value:t.editedItem.ws_discount,callback:function(e){t.$set(t.editedItem,"ws_discount",e)},expression:"editedItem.ws_discount"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal|required",expression:"'decimal|required'"}],attrs:{label:"SubTotal(GH¢)",box:"",readonly:"",type:"number","data-vv-name":"ws_subtotal","error-messages":t.errors.collect("ws_subtotal")},model:{value:t.editedItem.ws_subtotal,callback:function(e){t.$set(t.editedItem,"ws_subtotal",e)},expression:"editedItem.ws_subtotal"}})],1)],1)],1),t._v("\n                Retail Pricing\n                "),a("v-container",{attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:["Pack","Box","Carton"],box:"",label:"Retail Unit",hint:"Eg. Pack","persistent-hint":"",required:"","offset-y":"","data-vv-name":"rt_unit","error-messages":t.errors.collect("rt_unit")},model:{value:t.editedItem.rt_unit,callback:function(e){t.$set(t.editedItem,"rt_unit",e)},expression:"editedItem.rt_unit"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Pack Size",box:"",type:"number","data-vv-name":"rt_pack_size","error-messages":t.errors.collect("rt_pack_size")},model:{value:t.editedItem.rt_pack_size,callback:function(e){t.$set(t.editedItem,"rt_pack_size",e)},expression:"editedItem.rt_pack_size"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Retail QTY",box:"",type:"number",readonly:"","data-vv-name":"rt_quantity","error-messages":t.errors.collect("rt_quantity")},model:{value:t.editedItem.rt_quantity,callback:function(e){t.$set(t.editedItem,"rt_quantity",e)},expression:"editedItem.rt_quantity"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal:2|required",expression:"'decimal:2|required'"}],attrs:{label:t.runit_cost,box:"",type:"number","data-vv-name":"rt_cost",readonly:"","error-messages":t.errors.collect("rt_cost")},model:{value:t.editedItem.rt_unit_cost,callback:function(e){t.$set(t.editedItem,"rt_unit_cost",e)},expression:"editedItem.rt_unit_cost"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal:2|required",expression:"'decimal:2|required'"}],attrs:{label:"Markup",box:"",type:"number","data-vv-name":"markup","error-messages":t.errors.collect("markup")},model:{value:t.editedItem.markup,callback:function(e){t.$set(t.editedItem,"markup",e)},expression:"editedItem.markup"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal|required",expression:"'decimal|required'"}],attrs:{label:"Selling Price",box:"",readonly:"",type:"number","data-vv-name":"selling_price","error-messages":t.errors.collect("selling_price")},model:{value:t.editedItem.selling_price,callback:function(e){t.$set(t.editedItem,"selling_price",e)},expression:"editedItem.selling_price"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal|required",expression:"'decimal|required'"}],attrs:{label:"Subtotal",box:"",type:"number","data-vv-name":"subtotal","error-messages":t.errors.collect("subtotal"),readonly:""},model:{value:t.editedItem.subtotal,callback:function(e){t.$set(t.editedItem,"subtotal",e)},expression:"editedItem.subtotal"}})],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"grey darken-1"},nativeOn:{click:function(e){t.dialog=!1}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary darken-1",loading:t.loader,disabled:t.loader},on:{click:t.updateProduct}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-library-plus\n                    ")]),t._v("Update Product")],1)],1)],1)],1),t._v(" "),a("v-card",{attrs:{color:"primary pa-2 round_end"}},[a("div",{staticClass:"white--text"},[t._v("Please Enter Purchase Details")]),t._v(" "),a("v-layout",{attrs:{row:"","align-center":""}},[a("v-flex",{attrs:{sm2:""}},[a("v-select",{staticClass:"mt-2",attrs:{"offset-y":"",items:t.outlets,"item-text":"outlet_name","item-value":"id",label:"Select Outlet",solo:"","return-object":""},model:{value:t.purchase_det.outlet,callback:function(e){t.$set(t.purchase_det,"outlet",e)},expression:"purchase_det.outlet"}})],1),t._v(" "),a("v-flex",{attrs:{sm3:"",md3:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"mt-2 ml-2",attrs:{"offset-y":"",items:t.supList,label:"Select Supplier","data-vv-name":"supplier","error-messages":t.errors.collect("supplier"),solo:""},model:{value:t.purchase_det.supplier,callback:function(e){t.$set(t.purchase_det,"supplier",e)},expression:"purchase_det.supplier"}})],1),t._v(" "),a("v-flex",{attrs:{sm1:"",md1:""}},[a("v-btn",{staticClass:"mb-4",attrs:{icon:"",outline:"",color:"white"},on:{click:function(e){return t.addSup()}}},[a("v-icon",[t._v("mdi-plus")])],1)],1),t._v(" "),a("v-flex",{attrs:{sm2:"",md2:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"mt-2 ml-2",attrs:{label:"Invoice No.","data-vv-name":"invoice","error-messages":t.errors.collect("invoice"),solo:""},model:{value:t.purchase_det.sup_invoice,callback:function(e){t.$set(t.purchase_det,"sup_invoice",e)},expression:"purchase_det.sup_invoice"}})],1),t._v(" "),a("v-flex",{attrs:{sm3:"",md3:""}},[a("v-text-field",{staticClass:"mt-2 ml-2",attrs:{label:"Carriage/Freight",solo:""},model:{value:t.purchase_det.carriage,callback:function(e){t.$set(t.purchase_det,"carriage",e)},expression:"purchase_det.carriage"}})],1),t._v(" "),a("v-flex",{attrs:{sm2:"",md2:""}},[a("v-text-field",{staticClass:"mt-2 ml-2",attrs:{label:"Vat Charges",solo:""},model:{value:t.purchase_det.vat,callback:function(e){t.$set(t.purchase_det,"vat",e)},expression:"purchase_det.vat"}})],1),t._v(" "),a("v-flex",{attrs:{sm2:"",md2:""}},[a("v-text-field",{staticClass:"mt-2 ml-2",attrs:{label:"Discount",solo:""},model:{value:t.purchase_det.sup_discount,callback:function(e){t.$set(t.purchase_det,"sup_discount",e)},expression:"purchase_det.sup_discount"}})],1),t._v(" "),a("v-flex",{attrs:{sm2:"",md2:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"mt-2 ml-2",attrs:{"offset-y":"",items:t.payment_modes,label:"Payment Mode","data-vv-name":"mode","error-messages":t.errors.collect("mode"),solo:""},model:{value:t.purchase_det.payment_mode,callback:function(e){t.$set(t.purchase_det,"payment_mode",e)},expression:"purchase_det.payment_mode"}})],1),t._v(" "),t.due?a("v-flex",{attrs:{sm2:"",md2:""}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.purchase_det.due_date,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){return t.$set(t.purchase_det,"due_date",e)},"update:return-value":function(e){return t.$set(t.purchase_det,"due_date",e)}},model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-text-field",{staticClass:"mt-2 ml-2",attrs:{slot:"activator",solo:"",value:t.due_days,label:"Due Date",readonly:""},slot:"activator"}),t._v(" "),a("v-date-picker",{attrs:{"no-title":"",scrollable:"",color:"secondary","header-color":"primary"},model:{value:t.purchase_det.due_date,callback:function(e){t.$set(t.purchase_det,"due_date",e)},expression:"purchase_det.due_date"}},[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.purchase_det.due_date)}}},[t._v("OK")])],1)],1)],1):t._e(),t._v(" "),a("v-spacer")],1),t._v(" "),a("v-layout",[a("transition",{attrs:{"enter-class":"fadeIn","enter-active-class":"flipInX","leave-active-class":"flipOutX","leave-class":"fadeOut",mode:"out-in",appear:""}},[t.ret_up?a("v-toolbar",{key:"inv",staticClass:"round_end",attrs:{color:"orange darken-3","elevation-8":""}},[a("v-flex",{attrs:{sm12:"",md12:""}},[a("set-dictionary")],1)],1):a("v-toolbar",{key:"prod",staticClass:"round_end",attrs:{color:"grey darken-3","elevation-8":""}},[a("v-flex",{attrs:{sm12:"",md12:""}},[a("set-purchase")],1)],1)],1),t._v(" "),a("v-flex",{attrs:{sm2:"",md2:""}},[a("v-btn",{attrs:{dark:"",color:"grey darken-3",loader:t.loader,disable:t.loader},on:{click:t.fromStock}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-basket")]),t._v(" Stock")],1)],1),t._v(" "),a("v-flex",{attrs:{sm2:"",md2:""}},[a("v-btn",{attrs:{dark:"",color:"orange darken-3",loader:t.loader,disable:t.loader},on:{click:t.fromDictionary}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-dictionary")]),t._v(" Dictionary")],1)],1),t._v(" "),a("v-flex",{attrs:{sm2:"",md2:""}},[a("v-btn",{attrs:{dark:"",color:"green darken-3",loader:t.loader,disable:t.loader},on:{click:t.submitPurchase}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-content-save-all")]),t._v("Save Purchase")],1)],1),t._v(" "),a("v-flex",{attrs:{sm2:"",md2:""}},[a("v-btn",{attrs:{outline:"",color:"grey"},on:{click:t.resetPurchase}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-refresh")]),t._v("Reset")],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("New Purchases[ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.getNewPurchase.length))]),t._v(" ] from "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.purchase_det.supplier))]),t._v(" "),a("i",{staticClass:"subheading ml-4"},[t._v(" Total Cost: "),a("span",{staticClass:"green--text text--darken-3"},[t._v(" GH¢ "+t._s(t.purrSub))])]),t._v(" "),a("i",{staticClass:"subheading ml-4"},[t._v(" Total Selling: "),a("span",{staticClass:"green--text text--darken-3"},[t._v(" GH¢ "+t._s(t.purrSellSub))])])]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{class:{pulse:t.search},attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:"",clearable:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-5",attrs:{headers:t.purchase_head,items:t.getNewPurchase,search:t.search,loading:t.fetchup,class:"elevation-5"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.product_name))]),t._v(" "),a("td",[t._v(t._s(e.item.batch_no))]),t._v(" "),a("td",[t._v(t._s(e.item.purchase_qty))]),t._v(" "),a("td",[t._v(t._s(e.item.purchase_cost))]),t._v(" "),a("td",[t._v(t._s(e.item.purchase_selling))]),t._v(" "),a("td",[t._v(t._s(e.item.expiry))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"red--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.deleteItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-delete\n                    ")]),t._v(" Delete")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.added_snackbar,callback:function(e){t.added_snackbar=e},expression:"added_snackbar"}},[t._v("\n         You have already added product.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.added_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.er_snackbar,callback:function(e){t.er_snackbar=e},expression:"er_snackbar"}},[t._v("\n        Sorry Input Error. Data could not be saved.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.er_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.del_snackbar,callback:function(e){t.del_snackbar=e},expression:"del_snackbar"}},[t._v("\n        Entry Successfully Deleted.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.del_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.form_error_snack,callback:function(e){t.form_error_snack=e},expression:"form_error_snack"}},[t._v("\n        Sorry!!! Please Correct form errors.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.form_error_snack=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.del_error_snack,callback:function(e){t.del_error_snack=e},expression:"del_error_snack"}},[t._v("\n        Sorry!!! an error occured, Could not delete Product.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.del_error_snack=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.su_snackbar,callback:function(e){t.su_snackbar=e},expression:"su_snackbar"}},[t._v("\n        Product Successfully Added.\n        "),a("v-btn",{attrs:{flat:"",color:"green"},nativeOn:{click:function(e){t.su_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.pu_snackbar,callback:function(e){t.pu_snackbar=e},expression:"pu_snackbar"}},[t._v("\n        Products Successfully Purchased.\n        "),a("v-btn",{attrs:{flat:"",color:"green"},nativeOn:{click:function(e){t.pu_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.ed_snackbar,callback:function(e){t.ed_snackbar=e},expression:"ed_snackbar"}},[t._v("\n        Product Successfully Edited.\n        "),a("v-btn",{attrs:{flat:"",color:"secondary"},nativeOn:{click:function(e){t.ed_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},km=[],wm={render:ym,staticRenderFns:km},Cm=wm,Im=a("VU/8"),Sm=at,qm=Im(xm,Cm,!1,Sm,"data-v-3b7623a9",null),Dm=qm.exports,$m={name:"purchase_view",computed:{purchaseDetail:function(){return this.$store.getters.getPurchaseDet},userData:function(){return this.$store.getters.getUserData},purrProduct:function(){return this.$store.getters.getNewPurchase},purrSubtotal:function(){return this.$store.getters.getNewPurchase.reduce(function(t,e){return t+parseFloat(e.purr_ws_subtotal)},0)},purrSub:function(){return this.$store.getters.getNewPurchase.reduce(function(t,e){return t+parseFloat(e.purr_subtotal)},0)}}},Pm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{attrs:{color:"primary",small:""},on:{click:function(e){return t.$router.push("/purchases")}}},[a("v-icon",[t._v("mdi-arrow-left-thick")]),t._v("Go Back")],1),t._v(" "),a("v-btn",{attrs:{color:"secondary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-printer")]),t._v("Print")],1),t._v(" "),a("v-card",{attrs:{color:"pa-4 mt-2 round_end"}},[a("header",[a("h1",[t._v("Purchase Invoice "),a("i",{staticClass:"secondary--text"},[t._v("#"+t._s(t.purchaseDetail.sup_invoice))])]),t._v(" "),a("address",{staticStyle:{"font-size":"15px"}},[a("p",{staticClass:"headline"},[t._v(" Supplier: "+t._s(t.purchaseDetail.supplier))]),t._v(" "),a("p",[t._v(" Mode: "+t._s(t.purchaseDetail.payment_mode))]),t._v(" "),a("p",[t._v("  Discount: "+t._s(t.purchaseDetail.sup_discount))]),t._v(" "),a("p",[t._v("  Vat: "+t._s(t.purchaseDetail.vat))]),t._v(" "),a("p",[t._v(" Total Cost Price: "+t._s(t.purrSubtotal))]),t._v(" "),a("p",[t._v(" Total Selling Price: "+t._s(t.purrSub))])]),t._v(" "),a("span",{staticClass:"mid"},[a("p",{staticClass:"headline hup"},[t._v(t._s(t.userData.company_name))]),t._v(" "),a("p",[t._v("Tel: "+t._s(t.userData.company_phone_no))]),t._v(" "),a("p",[t._v("Source: "+t._s(t.userData.outlet_name))]),t._v(" "),a("p",[t._v("Outlet: "+t._s(t.purchaseDetail.outlet_name))]),t._v(" "),a("p",[t._v("Date: "+t._s((new Date).toDateString()))])])]),t._v(" "),a("article",[a("table",{staticClass:"inventory"},[a("thead",[a("tr",[a("th",[t._v("No.")]),t._v(" "),a("th",[a("span",[t._v("Product Name")])]),t._v(" "),a("th",[a("span",[t._v("Quantity")])]),t._v(" "),a("th",[a("span",[t._v("Cost Price")])]),t._v(" "),a("th",[a("span",[t._v("Selling Price")])]),t._v(" "),a("th",[a("span",[t._v("Batch N0.")])]),t._v(" "),a("th",[a("span",[t._v("Expiry")])])])]),t._v(" "),a("tbody",t._l(t.purrProduct,function(e,s){return a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(s+1))]),t._v(" "),a("td",[a("span",[t._v(t._s(e.product_name))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.purr_quantity+"("+e.ws_unit+")"))])]),t._v(" "),a("td",[a("span",{attrs:{"data-prefix":""}},[t._v("GH¢ ")]),a("span",[t._v(t._s(e.purr_ws_subtotal))])]),t._v(" "),a("td",[a("span",{attrs:{"data-prefix":""}},[t._v("GH¢ ")]),a("span",[t._v(t._s(e.purr_subtotal))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.batch_no))])]),t._v(" "),a("td",[a("span"),a("span",[t._v(t._s(e.expiry))])])])}),0)]),t._v(" "),a("table",{staticClass:"balance"},[a("tr",[a("th",[a("span",[t._v("Total Cost")])]),t._v(" "),a("td",[a("span",{attrs:{"data-prefix":""}},[t._v("GH¢ ")]),a("span",[t._v(t._s(t.purrSubtotal))])])])])]),t._v(" "),a("aside",[a("div",[a("small",[t._v("Powered By WorkIT Facility Management System")])])])])],1)},Tm=[],Em={render:Pm,staticRenderFns:Tm},Nm=Em,Am=a("VU/8"),Om=st,Mm=Am($m,Nm,!1,Om,"data-v-c849a604",null),Rm=Mm.exports,jm={name:"purchase_invoice_pop",computed:{purchaseDetail:function(){return this.$store.getters.getPurchaseDet},userData:function(){return this.$store.getters.getUserData},purrProduct:function(){return this.$store.getters.getNewPurchase},purrSubtotal:function(){return this.$store.getters.getNewPurchase.reduce(function(t,e){return t+parseFloat(e.purr_ws_subtotal)},0)},purrSub:function(){return this.$store.getters.getNewPurchase.reduce(function(t,e){return t+parseFloat(e.purr_subtotal)},0)}},mounted:function(){this.setSide()},methods:{setSide:function(){this.$store.commit("setDrawer",!1)},print_invoice:function(){window.print()}}},Ym=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{attrs:{color:"primary",small:""},on:{click:function(e){return t.$router.push("/purchases")}}},[a("v-icon",[t._v("mdi-arrow-left-thick")]),t._v("Go Back")],1),t._v(" "),a("v-btn",{attrs:{color:"secondary",small:""},on:{click:t.print_invoice}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-printer")]),t._v("Print")],1),t._v(" "),a("v-card",{attrs:{color:"pa-4 mt-2 round_end"}},[a("header",[a("h1",[t._v("Purchase Invoice "),a("i",{staticClass:"secondary--text"},[t._v("#"+t._s(t.purchaseDetail.invoice))])]),t._v(" "),a("address",{staticStyle:{"font-size":"15px"}},[a("p",{staticClass:"headline"},[t._v(" Supplier: "+t._s(t.purchaseDetail.supplier))]),t._v(" "),a("p",[t._v(" Mode: "+t._s(t.purchaseDetail.mode))]),t._v(" "),a("p",[t._v("  Discount: "+t._s(t.purchaseDetail.discount))]),t._v(" "),a("p",[t._v("  Vat: "+t._s(t.purchaseDetail.vat))]),t._v(" "),a("p",{staticClass:"subheading"},[t._v(" Total Cost Price:  "),a("i",{staticClass:"subheading ",staticStyle:{"font-weight":"bold"}},[t._v(" GH¢ "+t._s(t.purrSubtotal))])]),t._v(" "),a("p",{staticClass:"subheading"},[t._v(" Total Selling Price:  "),a("i",{staticClass:"subheading ",staticStyle:{"font-weight":"bold"}},[t._v(" GH¢ "+t._s(t.purrSub))])]),t._v(" "),a("tr",[a("td",[t._v("#Invoice No.")]),t._v(" "),a("td",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.purchaseDetail.invoice))])])]),t._v(" "),a("span",{staticClass:"mid"},[a("p",{staticClass:"headline hup"},[t._v(t._s(t.userData.company_name))]),t._v(" "),a("p",[t._v("Tel: "+t._s(t.userData.company_phone_no))]),t._v(" "),a("p",[t._v("Source: "+t._s(t.userData.outlet_name))]),t._v(" "),a("p",[t._v("Outlet: "+t._s(t.purchaseDetail.outlet_name))]),t._v(" "),a("p",[t._v("Date: "+t._s(t.moment(t.purchaseDetail.date).format("MMMM Do YYYY")))])])]),t._v(" "),a("article",[a("table",{staticClass:"inventory"},[a("thead",[a("tr",[a("th",[t._v("No.")]),t._v(" "),a("th",[a("span",[t._v("Product Name")])]),t._v(" "),a("th",[a("span",[t._v("Quantity")])]),t._v(" "),a("th",[a("span",[t._v("Cost Price")])]),t._v(" "),a("th",[a("span",[t._v("Selling Price")])]),t._v(" "),a("th",[a("span",[t._v("Batch N0.")])]),t._v(" "),a("th",[a("span",[t._v("Expiry")])])])]),t._v(" "),a("tbody",t._l(t.purrProduct,function(e,s){return a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(s+1))]),t._v(" "),a("td",[a("span",[t._v(t._s(e.product_name))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.purr_quantity+"("+e.ws_unit+")"))])]),t._v(" "),a("td",[a("span",{attrs:{"data-prefix":""}},[t._v("GH¢ ")]),a("span",[t._v(t._s(e.purr_ws_subtotal))])]),t._v(" "),a("td",[a("span",{attrs:{"data-prefix":""}},[t._v("GH¢ ")]),a("span",[t._v(t._s(e.purr_subtotal))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.batch_no))])]),t._v(" "),a("td",[a("span"),a("span",[t._v(t._s(e.expiry))])])])}),0)]),t._v(" "),a("table",{staticClass:"balance"},[a("tr",[a("th",[a("span",[t._v("Total Cost")])]),t._v(" "),a("td",[a("span",{attrs:{"data-prefix":""}},[t._v("GH¢ ")]),a("span",[t._v(t._s(t.purrSubtotal))])])])])]),t._v(" "),a("aside",[a("div",[a("small",[t._v("Powered By WorkIT Facility Management System")])])])])],1)},Fm=[],Um={render:Ym,staticRenderFns:Fm},zm=Um,Vm=a("VU/8"),Bm=it,Gm=Vm(jm,zm,!1,Bm,"data-v-b36edd78",null),Hm=Gm.exports,Lm=a("mtWM"),Wm={name:"purchase_drafts",data:function(){return{showMenu:!1,switch1:!0,er_snackbar:!1,buffer_dialog:!1,buffer_total:0,buffer_invoice:"",buffer_fetchup:!1,snack:!1,snackText:"",snackColor:"red",outlet:"Warehouse",loading:!1,fetchup:!1,loader:!1,items:[],dialog:!1,total:"",search:null,searchup:null,select:null,start_date:null,menu:!1,menu2:!1,end_date:null,menu3:!1,states:[{name:"Toilet Rolls",icon:"mdi-chart-bubble",category:"Toiletries"}],purchase_head:[{text:"No.",align:"left",sortable:!1,value:"num"},{text:"Date & Time",align:"left",value:"date"},{text:"Invoice",align:"left",value:"invoice"},{text:"Supplier",value:"supplier"},{text:"No. Products",value:"no"},{text:"Actions",align:"center",value:"actions"}],purchases:[],buffer_purchase:[],or_purchases:[],buffer_head:[{text:"Product",value:"product_name",class:"subheading",sortable:!1},{text:"Quantity",class:"subheading",value:"quantity"},{text:"S-Price(Ghc)",class:"subheading",value:"selling_price"},{text:"C-Price(Ghc)",value:"rt_unit_cost",class:"subheading"},{text:"Expiry",value:"expiry",class:"subheading"},{text:"",value:"name",align:"centre",sortable:!1}],inventory:[],raw_inventory:[],buffer_data:[],editedIndex:-1,editedItem:{id:"",product_name:"",category:"",manufacturer:"",expiry:"",product_type:"",ws_quantity:"",rt_quantity:"",barcode:"",rt_unit:"",ws_unit:"",ws_discount:0,rt_discount:0,ws_unit_cost:"",rt_unit_cost:"",markup:"",selling_price:"",subtotal:"",min_no:"",batch_no:"",max_no:"",reorder_no:""},defaultItem:{id:"",product_name:"",category:"",manufacturer:"",expiry:"",product_type:"",barcode:""},side_items:[]}},computed:{apiSet:function(){return this.$store.getters.getApi},unit_cost:function(){return this.editedItem.ws_unit+" Cost(Ghc)"},runit_cost:function(){return this.editedItem.rt_unit+" Cost(Ghc)"}},watch:{search:function(t){t&&t!==this.select&&this.querySelections(t)},outlet:function(t){var e=this.or_purchases;this.purchases=_.filter(e,function(e){return e.outlet===t}),this.total=this.purchases.length}},mounted:function(){this.setSide(),this.loadPurchases()},created:function(){var t=this;Wg.$on("er_snack",function(e){t.er_snackbar=e}),Wg.$on("su_snack",function(e){t.su_snackbar=e}),Wg.$on("del_snack",function(e){t.del_snackbar=e}),Wg.$on("ed_snack",function(e){t.ed_snackbar=e}),Wg.$on("form_snack",function(e){t.form_error_snack=e}),Wg.$on("product_add",function(e){t.loadProducts()})},methods:{setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!1)},viewDet:function(t){var e=this,a=this;this.fetchup=!0,this.buffer_invoice=t,this.buffer_dialog=!0,Lm.post(this.apiSet.invPurchaseBuffer,{invoice:t}).then(function(t){for(var e=[],s=t.data.data,i=0,n=s.length;i<n;i++)e.push({id:s[i].id,num:i,product_name:s[i].product_name,quantity:s[i].purr_quantity+" ("+s[i].ws_unit+") / "+s[i].purr_rt_quantity+" ("+s[i].rt_unit+")",rt_unit_cost:s[i].rt_unit_cost,selling_price:s[i].selling_price,expiry:s[i].expiry});a.buffer_data=e,a.buffer_purchase=s,a.buffer_total=e.length,a.buffer_fetchup=!1,a.fetchup=!1}).catch(function(t){a.loader=!1,e.err.push(t)})},loadPurchases:function(){var t=this,e=this;this.fetchup=!0,Lm.get(this.apiSet.pendingPurchase).then(function(t){var a=t.data.data;e.purchases=a,e.total=e.purchases.length,e.fetchup=!1}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},submitPurchase:function(){var t=this,e=this.buffer_purchase;this.buffer_fetchup=!0;for(var a=0,s=e.length;a<s;a++)Lm.post(this.apiSet.productPurchase,e[a]).then(function(e){t.loader=!1,t.buffer_dialog=!1,t.buffer_fetchup=!1,t.fetchup=!1,t.snack=!0,t.snackText="Purchase Successfully Received.",t.snackColor="green",t.loadPurchases(),t.buffer_data=[]}).catch(function(e){console.log(e),this.er_snackbar=!0,t.loader=!1})},closeup:function(){this.buffer_data=[],this.buffer_dialog=!1}}},Qm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"1200px"},model:{value:t.buffer_dialog,callback:function(e){t.buffer_dialog=e},expression:"buffer_dialog"}},[a("v-card",{staticClass:"elevation-4"},[a("v-card-title",[a("p",{staticClass:"headline ttext mt-1"},[t._v("[ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.buffer_total))]),t._v(" ] Pending Products | ")]),a("br"),t._v(" "),a("p",{staticClass:"small ttext mt-1"},[t._v("Invoice No. [ "),a("i",{staticClass:"orange--text text--darken-3"},[t._v("#"+t._s(t.buffer_invoice))]),t._v(" ]")]),a("br"),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"secondary elevation-8",attrs:{large:""},on:{click:t.submitPurchase}},[a("v-icon",[t._v("mdi-format-align-middle")]),t._v(" Receive Items")],1),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.closeup(e)}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.buffer_head,items:t.buffer_data,loading:t.buffer_fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.product_name))]),t._v(" "),a("td",[t._v(t._s(e.item.quantity))]),t._v(" "),a("td",[t._v(t._s(e.item.selling_price))]),t._v(" "),a("td",[t._v(t._s(e.item.rt_unit_cost))]),t._v(" "),a("td",[t._v(t._s(e.item.expiry))])]}}])},[t._v(" "),a("template",{slot:"no-data"},[a("v-alert",{attrs:{value:!0,color:"primary",icon:"add"}},[a("v-progress-circular",{staticClass:"mr-4",attrs:{indeterminate:!0,value:0,size:"24",color:"orange darken-3"}}),t._v(" Loading Data. Please wait.\n                    ")],1)],1),t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                    Your search for "'+t._s(t.search)+'" found no results.\n                ')])],2),t._v(" "),t.buffer_state?a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"grey darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{color:"primary darken-1",dark:""},nativeOn:{click:function(t){}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-printer")]),t._v("Print")],1)],1):t._e()],1)],1),t._v(" "),a("v-card",[a("v-toolbar",{staticClass:"mt-0 primary"},[a("v-toolbar-items",{staticClass:"hidden-sm-and-down"}),t._v(" "),a("v-layout",{attrs:{row:"","align-center":""}},[a("v-spacer"),t._v(" "),a("v-flex",{attrs:{sm3:"",md3:""}},[a("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.start_date,lazy:"",box:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.start_date=e},"update:return-value":function(e){t.start_date=e}},model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-text-field",{staticClass:"mt-2 mr-4",attrs:{slot:"activator",label:"Start Date",solo:"",clearable:"","append-icon":"event",readonly:""},slot:"activator",model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}}),t._v(" "),a("v-date-picker",{on:{input:function(e){return t.$refs.menu2.save(t.start_date)}},model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}})],1)],1),t._v(" "),a("v-flex",{attrs:{sm3:"",md3:""}},[a("v-menu",{ref:"menu3",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.end_date,lazy:"",box:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.end_date=e},"update:return-value":function(e){t.end_date=e}},model:{value:t.menu3,callback:function(e){t.menu3=e},expression:"menu3"}},[a("v-text-field",{staticClass:"mt-2 ml-4",attrs:{slot:"activator",label:"End Date",solo:"",clearable:"","append-icon":"event",readonly:"",color:"secondary"},slot:"activator",model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}}),t._v(" "),a("v-date-picker",{on:{input:function(e){return t.$refs.menu3.save(t.end_date)}},model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}})],1)],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("All Pending Purchases[ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ]")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-5",attrs:{headers:t.purchase_head,items:t.purchases,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.invoice))]),t._v(" "),a("td",[t._v(t._s(e.item.supplier))]),t._v(" "),a("td",[t._v(t._s(e.item.outlet))]),t._v(" "),a("td",[t._v(t._s(e.item.mode))]),t._v(" "),a("td",[t._v(t._s(e.item.amount))]),t._v(" "),a("td",[t._v(t._s(e.item.discount))]),t._v(" "),a("td",[t._v(t._s(e.item.by))]),t._v(" "),a("td",[t._v(t._s(t.moment(e.item.date).format("MMM Do YYYY")))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"mr-2 teal--text cpoint",attrs:{flat:"",small:""},on:{click:function(a){return t.viewDet(e.item.invoice)}}},[a("v-icon",{attrs:{small:""}},[t._v("\n                            mdi-open-in-new\n                        ")]),t._v(" view")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},Zm=[],Xm={render:Qm,staticRenderFns:Zm},Jm=Xm,Km=a("VU/8"),tv=nt,ev=Km(Wm,Jm,!1,tv,"data-v-4bde8300",null),av=ev.exports,sv={name:"reorder_view",computed:{purchaseDetail:function(){return this.$store.getters.getPurchaseDet},userData:function(){return this.$store.getters.getUserData},purrProduct:function(){return this.$store.getters.getNewPurchase},purrSubtotal:function(){return this.$store.getters.getNewPurchase.reduce(function(t,e){return t+parseFloat(e.purr_ws_subtotal)},0)}}},iv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{attrs:{color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")]),t._v("Go Back")],1),t._v(" "),a("v-btn",{attrs:{color:"secondary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-printer")]),t._v("Print")],1),t._v(" "),a("v-card",{attrs:{color:"pa-4 mt-2 round_end"}},[a("header",[a("h1",[t._v("Re-Order Invoice "),a("i",{staticClass:"secondary--text"},[t._v("#"+t._s(t.purchaseDetail.reorder_invoice))])]),t._v(" "),a("span",{staticClass:"mid"},[a("p",{staticClass:"headline hup"},[t._v(t._s(t.userData.company_name))]),t._v(" "),a("p",[t._v("Phone No.: "+t._s(t.userData.company_phone_no))]),t._v(" "),a("p",[t._v("Outlet: "+t._s(t.userData.outlet_name))]),t._v(" "),a("p",[t._v("Date: "+t._s((new Date).toDateString()))])])]),t._v(" "),a("article",[a("table",{staticClass:"inventory"},[a("thead",[a("tr",[a("th",[t._v("No.")]),t._v(" "),a("th",[a("span",[t._v("Product Name")])]),t._v(" "),a("th",[a("span",[t._v("Quantity")])]),t._v(" "),a("th",[a("span",[t._v("Batch N0.")])]),t._v(" "),a("th",[a("span",[t._v("Expiry")])])])]),t._v(" "),a("tbody",t._l(t.purrProduct,function(e,s){return a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(s+1))]),t._v(" "),a("td",[a("span",[t._v(t._s(e.product_name))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.purr_quantity+"("+e.ws_unit+")"))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.batch_no))])]),t._v(" "),a("td",[a("span"),a("span",[t._v(t._s(e.expiry))])])])}),0)]),t._v(" "),a("table",{staticClass:"balance"},[a("tr",[a("th",[a("span",[t._v("Total Cost")])]),t._v(" "),a("td",[a("span",{attrs:{"data-prefix":""}},[t._v("GH¢ ")]),a("span",[t._v(t._s(t.purrSubtotal))])])])])]),t._v(" "),a("aside",[a("div",[a("small",[t._v("Powered By WorkIT Facility Management System")])])])])],1)},nv=[],rv={render:iv,staticRenderFns:nv},ov=rv,lv=a("VU/8"),cv=rt,dv=lv(sv,ov,!1,cv,"data-v-58dbc967",null),uv=dv.exports,mv=a("mtWM"),vv={name:"suppliers",$_veeValidate:{validator:"new"},data:function(){return{total:0,valid:0,fetchup:!1,dialog:!1,edit_dialog:!1,loader:!1,purchase_date:"",due_date:"",credit_unpaid:"",snack:!1,snackText:"",snackColor:"",sup_name:"",sup_phone:"",sup_email:"",sup_address:"",sup_location:"",added_by:"aximilli",search:"",emenu:!1,menu:!1,su_snackbar:!1,er_snackbar:!1,del_snackbar:!1,ed_snackbar:!1,form_error_snack:!1,gender:["Male","Female"],headers:[{text:"No.",align:"left",value:"num"},{text:"Supplier Name",align:"left",value:"sup_name"},{text:"Phone No.",align:"left",value:"sup_phone"},{text:"Email",align:"left",value:"sup_email"},{text:"Address",align:"left",value:"sup_address"},{text:"Balance Amt",align:"left",value:"credit_unpaid"},{text:"Due Date",align:"left",value:"due_date"},{text:"Added By",align:"left",value:"added_by"},{text:"Action",align:"center",value:"added_by"}],suppliers:[],editedIndex:-1,editedItem:{id:"1",sup_name:"name",sup_phone:"233",sup_email:"email",sup_address:"psquare",sup_location:"round about",added_by:"aximilli",credit_unpaid:"aximilli",due_date:"aximilli",purchase_date:"aximilli"}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},apiSet:function(){return this.$store.getters.getApi},submit_loading:function(){return!0},submitted:function(){return this.$store.state.submittedState},due_days:function(){var t=Lt()(this.due_date),e=Lt()(),a=1+t.diff(e,"days");return this.due_date?a+" Days":""},ddays:function(){var t=Lt()(this.due_date),e=Lt()();return 1+t.diff(e,"days")},edue_days:function(){var t=Lt()(this.editedItem.due_date),e=Lt()(),a=1+t.diff(e,"days");return this.editedItem.due_date?a+" Days":""},eddays:function(){var t=Lt()(this.editedItem.due_date),e=Lt()();return 1+t.diff(e,"days")}},watch:{dialog:function(t){t||this.close()},submitted:function(){this.clearFields(),this.su_snackbar=!0}},mounted:function(){this.loadSuppliers()},created:function(){var t=this;Wg.$on("getCat",function(e){t.loadSuppliers()})},methods:{d:function(t){var e=Lt()(t),a=Lt()(),s=1+e.diff(a,"days");return t?s+" Days":""},loadSuppliers:function(){var t=this;this.fetchup=!0;var e=this;mv.get(this.apiSet.allSuppliers).then(function(t){var a=t.data.data;e.suppliers=a,e.total=a.length,e.fetchup=!1,e.$store.commit("setSup",a[0])}).catch(function(a){console.log(a),e.loader=!1,e.er_snackbar=!0,t.err.push(a)})},onAddSup:function(){var t=this;this.loader=!0;var e={sup_name:this.sup_name,sup_phone:this.sup_phone,sup_email:this.sup_email,sup_address:this.sup_address,sup_location:"accra",added_by:this.userData.user_name,credit_unpaid:this.credit_unpaid,purchase_date:this.purchase_date,due_date:this.due_date,due_days:this.ddays};mv.post(this.apiSet.singleSupplier,e).then(function(e){t.closeup(),t.su_snackbar=!0,t.loadSuppliers(),t.loader=!1}).catch(function(e){t.loader=!1,t.er_snackbar=!0})},clearFields:function(){this.sup_name="",this.sup_phone="",this.sup_email="",this.sup_address="",this.sup_location="",this.$store.commit("setSubmitLoadState",!1),this.loader=!1,this.$validator.reset()},closeup:function(){this.clearFields(),this.dialog=!1},close_edit:function(){this.clearFields(),this.edit_dialog=!1},editItem:function(t){this.editedIndex=this.suppliers.indexOf(t),this.editedItem=wi()({},t),this.edit_dialog=!0},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Supplier",message:"Are you sure you want to Delete Category?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.suppliers.indexOf(t);this.suppliers.splice(s,1),mv.delete(a+"/supplier/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadSuppliers(),e.$store.commit("setNetError",!1)}).catch(function(t){e.$store.commit("setNetError",!0),console.log(t)})},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.editedItem=wi()({},t.defaultItem),t.editedIndex=-1},300)},save:function(){var t=this;if(this.formError=!1,this.editedIndex>-1){wi()(this.suppliers[this.editedIndex],this.editedItem);var e=this.editedItem.id;this.loader=!0;var a={sup_name:this.editedItem.sup_name,sup_phone:this.editedItem.sup_phone,sup_email:this.editedItem.sup_email,sup_address:this.editedItem.sup_address,sup_location:this.editedItem.sup_location,added_by:this.userData.user_name,credit_unpaid:this.editedItem.credit_unpaid,purchase_date:this.editedItem.purchase_date,due_date:this.editedItem.due_date,due_days:this.eddays},s=this.$store.state.config.url;mv.patch(s+"/supplier/"+e,a).then(function(e){console.log(e),t.loader=!1,t.ed_snackbar=!0,t.edit_dialog=!1,t.$validator.reset(),t.loadSuppliers(),t.$store.commit("setNetError",!1)}).catch(function(e){console.log(e),t.loader=!1,this.snack=!0,this.snackText="Sorry Network Error occured",this.snackColor="red",this.$store.commit("setNetError",!0)})}else console.log(this.editedItem)}}},_v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"mb-2",attrs:{color:"secondary",dark:"",small:""},nativeOn:{click:function(e){t.dialog=!0}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" Add Supplier")],1),t._v(" "),a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:"",small:""},on:{click:function(e){return t.$router.push("/creditors")}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-cash-multiple")]),t._v("View Creditors")],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-spacer"),t._v(" "),a("v-card",[a("form",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Add Supplier")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Supplier Name",box:"","data-vv-name":"supplier_name",required:"","error-messages":t.errors.collect("supplier_name")},model:{value:t.sup_name,callback:function(e){t.sup_name=e},expression:"sup_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Phone No.",box:"","data-vv-name":"phone_no",required:"","error-messages":t.errors.collect("phone_no")},model:{value:t.sup_phone,callback:function(e){t.sup_phone=e},expression:"sup_phone"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Supplier Email",box:""},model:{value:t.sup_email,callback:function(e){t.sup_email=e},expression:"sup_email"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Supplier Address",box:"","data-vv-name":"sup_address",required:"","error-messages":t.errors.collect("sup_address")},model:{value:t.sup_address,callback:function(e){t.sup_address=e},expression:"sup_address"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md6:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Balance Before(Ghc)",type:"number",box:"","prepend-icon":"mdi-cash-multiple","data-vv-name":"debit_amt","error-messages":t.errors.collect("debit_amt")},model:{value:t.credit_unpaid,callback:function(e){t.credit_unpaid=e},expression:"credit_unpaid"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md6:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"date_format:DD/MM/YYYY",expression:"'date_format:DD/MM/YYYY'"}],attrs:{box:"",label:"Purchase Date(dd/mm/yyyy)",placeholder:"dd/mm/yyyy",required:"","prepend-icon":"mdi-calendar",mask:"##/##/####","return-masked-value":"","data-vv-name":"purchase_date","error-messages":t.errors.collect("purchase_date")},model:{value:t.purchase_date,callback:function(e){t.purchase_date=e},expression:"purchase_date"}})],1),t._v(" "),a("v-flex",{attrs:{sm6:"",md6:""}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.due_date,lazy:"","nudge-right":180,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.due_date=e},"update:return-value":function(e){t.due_date=e}},model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-text-field",{staticClass:"mt-2 ml-2",attrs:{slot:"activator",box:"","prepend-icon":"mdi-cash-multiple",value:t.due_days,label:"Due Date",readonly:""},slot:"activator"}),t._v(" "),a("v-date-picker",{attrs:{"no-title":"",scrollable:"",color:"secondary","header-color":"primary"},model:{value:t.due_date,callback:function(e){t.due_date=e},expression:"due_date"}},[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.due_date)}}},[t._v("OK")])],1)],1)],1)],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},nativeOn:{click:function(e){return t.closeup(e)}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary",loading:t.loader,disabled:t.loader},on:{click:t.onAddSup}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-library-plus")]),t._v("Save Supplier")],1)],1)],1)])],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.edit_dialog,callback:function(e){t.edit_dialog=e},expression:"edit_dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Edit Supplier")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.edit_dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Supplier Name",box:"","data-vv-name":"supplier_name",required:"","error-messages":t.errors.collect("supplier_name")},model:{value:t.editedItem.sup_name,callback:function(e){t.$set(t.editedItem,"sup_name",e)},expression:"editedItem.sup_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|number",expression:"'required|number'"}],attrs:{label:"Phone No.",box:"","data-vv-name":"phone_no",required:"","error-messages":t.errors.collect("phone_no")},model:{value:t.editedItem.sup_phone,callback:function(e){t.$set(t.editedItem,"sup_phone",e)},expression:"editedItem.sup_phone"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Supplier Email",box:""},model:{value:t.editedItem.sup_email,callback:function(e){t.$set(t.editedItem,"sup_email",e)},expression:"editedItem.sup_email"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Supplier Address",box:""},model:{value:t.editedItem.sup_address,callback:function(e){t.$set(t.editedItem,"sup_address",e)},expression:"editedItem.sup_address"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md6:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Credit Amount(Ghc)",type:"number",box:"","prepend-icon":"mdi-cash-multiple","data-vv-name":"debit_amt","error-messages":t.errors.collect("debit_amt")},model:{value:t.editedItem.credit_unpaid,callback:function(e){t.$set(t.editedItem,"credit_unpaid",e)},expression:"editedItem.credit_unpaid"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md6:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:DD/MM/YYYY",expression:"'required|date_format:DD/MM/YYYY'"}],attrs:{box:"",label:"Purchase Date",placeholder:"dd/mm/yyyy",required:"","prepend-icon":"mdi-calendar","data-vv-name":"purchase_date","error-messages":t.errors.collect("purchase_date")},model:{value:t.editedItem.purchase_date,callback:function(e){t.$set(t.editedItem,"purchase_date",e)},expression:"editedItem.purchase_date"}})],1),t._v(" "),a("v-flex",{attrs:{sm6:"",md6:""}},[a("v-menu",{ref:"emenu",attrs:{"close-on-content-click":!1,"return-value":t.editedItem.due_date,lazy:"","nudge-right":180,transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){return t.$set(t.editedItem,"due_date",e)},"update:return-value":function(e){return t.$set(t.editedItem,"due_date",e)}},model:{value:t.emenu,callback:function(e){t.emenu=e},expression:"emenu"}},[a("v-text-field",{staticClass:"mt-2 ml-2",attrs:{slot:"activator",box:"","prepend-icon":"mdi-cash-multiple",value:t.edue_days,label:"Due Date",readonly:""},slot:"activator"}),t._v(" "),a("v-date-picker",{attrs:{"no-title":"",scrollable:"",color:"secondary","header-color":"primary"},model:{value:t.editedItem.due_date,callback:function(e){t.$set(t.editedItem,"due_date",e)},expression:"editedItem.due_date"}},[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.emenu=!1}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.$refs.emenu.save(t.editedItem.due_date)}}},[t._v("OK")])],1)],1)],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},nativeOn:{click:function(e){return t.close_edit(e)}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary",loading:t.loader,disabled:t.loader},on:{click:t.save}},[t._v("Update Details")])],1)],1)],1),t._v(" "),a("v-card",{staticClass:"elevation-4 thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("All Suppliers [ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ]")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search",outline:"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-8",attrs:{headers:t.headers,items:t.suppliers,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.sup_name))]),t._v(" "),a("td",[t._v(t._s(e.item.sup_phone))]),t._v(" "),a("td",[t._v(t._s(e.item.sup_email))]),t._v(" "),a("td",[t._v(t._s(e.item.sup_address))]),t._v(" "),a("td",[t._v(t._s(e.item.credit_unpaid))]),t._v(" "),a("td",[t._v(t._s(t.d(e.item.due_date)))]),t._v(" "),a("td",[t._v(t._s(e.item.added_by))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"mr-2 teal--text cpoint",attrs:{flat:"",small:""},on:{click:function(a){return t.editItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-pencil\n                    ")]),t._v(" Edit")],1),t._v(" "),a("v-btn",{staticClass:"red--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.deleteItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-delete\n                    ")]),t._v(" Delete")],1)],1)]}}])},[t._v(" "),a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.loadSuppliers}},[t._v("Refresh")])],1),t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],2)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.er_snackbar,callback:function(e){t.er_snackbar=e},expression:"er_snackbar"}},[t._v("\n        Please Enter Supplier Details.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.er_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.del_snackbar,callback:function(e){t.del_snackbar=e},expression:"del_snackbar"}},[t._v("\n        Entry Successfully Deleted.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.del_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.form_error_snack,callback:function(e){t.form_error_snack=e},expression:"form_error_snack"}},[t._v("\n        Sorry!!! Please Correct form errors.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.form_error_snack=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.su_snackbar,callback:function(e){t.su_snackbar=e},expression:"su_snackbar"}},[t._v("\n        Supplier Successfully Added.\n        "),a("v-btn",{attrs:{flat:"",color:"green"},nativeOn:{click:function(e){t.su_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.ed_snackbar,callback:function(e){t.ed_snackbar=e},expression:"ed_snackbar"}},[t._v("\n        Supplier Successfully Edited.\n        "),a("v-btn",{attrs:{flat:"",color:"secondary"},nativeOn:{click:function(e){t.ed_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n       "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},pv=[],hv={render:_v,staticRenderFns:pv},fv=hv,bv=a("VU/8"),gv=ot,xv=bv(vv,fv,!1,gv,"data-v-e0f18c86",null),yv=xv.exports,kv={name:"reconciliation",data:function(){return{search:"",headers:[{text:"Inv",align:"left",sortable:!1,value:"invoice",class:"subheading"},{text:"Out.",align:"left",value:"outlet",class:"subheading"},{text:"Opn. Qty",align:"left",value:"opening_qty",class:"subheading"},{text:"Clsn. Qty",value:"closing_qty",class:"subheading"},{text:"Qty Diff",value:"qty_diff",class:"subheading"},{text:"Opn. Val(GHc)",value:"opening_value",class:"subheading"},{text:"Clsn. Val(GHc)",value:"closing_value",class:"subheading"},{text:"Diff Val(GHc)",value:"diff_value",class:"subheading"},{text:"By",Value:"userby",class:"subheading"},{text:"Date",Value:"date",class:"subheading"},{text:"",value:"name",align:"centre",sortable:!1}],dialog:!1,outlet:"Warehouse",editedIndex:-1,editedItem:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0},reconciliation:[{value:!1,invoice:123454,outlet:"warehouse",opening_qty:6,closing_qty:6,qty_diff:24,opening_value:4,closing_value:200,diff_value:186,userby:"aximilli32",date:"2018-08-22"}],side_items:[]}},watch:{dialog:function(t){t||this.close()}},mounted:function(){this.setSide()},methods:{setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!1)},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.editedItem=wi()({},t.defaultItem),t.editedIndex=-1},300)},save:function(){this.editedIndex>-1?wi()(this.reconciliation[this.editedIndex],this.editedItem):this.reconciliation.push(this.editedItem),this.close()}}},wv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.$router.push("new_recon")}}},[t._v("New Reconciliation")]),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Add Reconciliation")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{box:"",label:"Naration"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{box:"",label:"Amount"},model:{value:t.editedItem.calories,callback:function(e){t.$set(t.editedItem,"calories",e)},expression:"editedItem.calories"}})],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Save")])],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("Reconciliation")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.reconciliation,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.invoice))]),t._v(" "),a("td",[t._v(t._s(e.item.outlet))]),t._v(" "),a("td",[t._v(t._s(e.item.opening_qty))]),t._v(" "),a("td",[t._v(t._s(e.item.closing_qty))]),t._v(" "),a("td",[t._v(t._s(e.item.qty_diff))]),t._v(" "),a("td",[t._v(t._s(e.item.opening_value))]),t._v(" "),a("td",[t._v(t._s(e.item.closing_value))]),t._v(" "),a("td",[t._v(t._s(e.item.diff_value))]),t._v(" "),a("td",[t._v(t._s(e.item.userby))]),t._v(" "),a("td",[t._v(t._s(e.item.date))])]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1)],1)},Cv=[],Iv={render:wv,staticRenderFns:Cv},Sv=Iv,qv=a("VU/8"),Dv=lt,$v=qv(kv,Sv,!1,Dv,"data-v-d588ab24",null),Pv=$v.exports,Tv=a("mtWM"),Ev={name:"add_products",data:function(){return{dict_load:!1,er_snackbar:!1,del_snackbar:!1,del_error_snack:!1,form_error_snack:!1,su_snackbar:!1,ed_snackbar:!1,outlet:"Warehouse",loading:!1,fetchup:!1,load_dialog:!1,loader:!1,items:[],dialog:!1,pull:{min:"",max:""},total:"",search:null,searchup:null,select:null,states:[{name:"Toilet Rolls",icon:"mdi-chart-bubble",category:"Toiletries"}],inv_head:[{text:"Id",align:"left",value:"id",class:"subheading"},{text:"Product",value:"product_name",class:"subheading",sortable:!1},{text:"Open Quantity",class:"subheading",value:"o_quantity"},{text:"Closing Quantity",class:"subheading",value:"c_quantity"},{text:"S-Price(Ghc)",class:"subheading",value:"selling_price"},{text:"C-Price(Ghc)",value:"rt_unit_cost",class:"subheading"},{text:"Expiry",value:"expiry",class:"subheading"},{text:"",value:"name",align:"centre",sortable:!1}],inventory:[],raw_inventory:[],editedIndex:-1,editedItem:{id:"",product_name:"",category:"",manufacturer:"",expiry:"",product_type:"",ws_quantity:"",rt_quantity:"",barcode:"",rt_unit:"",ws_unit:"",ws_discount:0,rt_discount:0,ws_unit_cost:"",rt_unit_cost:"",markup:"",selling_price:"",subtotal:"",min_no:"",batch_no:"",max_no:"",reorder_no:""},defaultItem:{id:"",product_name:"",category:"",manufacturer:"",expiry:"",product_type:"",barcode:""},date:"",menu:!1,side_items:[]}},computed:{apiSet:function(){return this.$store.getters.getApi},packList:function(){for(var t=this.$store.getters.getPackUnits,e=[],a=0,s=t.length;a<s;a++)e.push(t[a].pack_name);return e},unit_cost:function(){return this.editedItem.ws_unit+" Cost(Ghc)"},runit_cost:function(){return this.editedItem.rt_unit+" Cost(Ghc)"},ws_sub:function(){return this.editedItem.ws_subtotal},ws_dis:function(){return this.editedItem.ws_discount},ws_cost:function(){return this.editedItem.ws_unit_cost},ws_quan:function(){return this.editedItem.ws_quantity},rt_pack:function(){return this.editedItem.rt_pack_size},rt_quan:function(){return this.editedItem.rt_quantity},mark_up:function(){return this.editedItem.markup},rt_selling:function(){return this.editedItem.selling_price}},watch:{search:function(t){t&&t!==this.select&&this.querySelections(t)},ws_sub:function(){this.costComp()},ws_dis:function(){this.costComp()},ws_cost:function(){this.costComp()},ws_quan:function(){this.rtCostComp(),this.costComp(),this.rtComp(),this.markupComp(),this.sellComp()},rt_pack:function(){this.rtCostComp()},rt_quan:function(){this.rtCostComp(),this.markupComp(),this.sellComp()},mark_up:function(){this.markupComp()},rt_selling:function(){this.sellComp()}},mounted:function(){this.setSide()},created:function(){var t=this;Wg.$on("er_snack",function(e){t.er_snackbar=e}),Wg.$on("su_snack",function(e){t.su_snackbar=e}),Wg.$on("del_snack",function(e){t.del_snackbar=e}),Wg.$on("ed_snack",function(e){t.ed_snackbar=e}),Wg.$on("form_snack",function(e){t.form_error_snack=e}),Wg.$on("dict_load",function(e){t.dict_load=e}),Wg.$on("product_add",function(e){t.loadProducts()})},methods:{open_load:function(){this.load_dialog=!0},rtComp:function(){this.new_product.rt_quantity=this.new_product.ws_quantity*this.new_product.rt_pack_size},markupComp:function(){var t=0;t=this.editedItem.rt_unit_cost*this.editedItem.markup,this.editedItem.selling_price=t.toFixed(2),this.editedItem.subtotal=t*this.editedItem.rt_quantity},costComp:function(){var t=0,e=this.editedItem.ws_quantity*this.editedItem.ws_unit_cost;t=this.editedItem.ws_discount?e*(1-.01*this.editedItem.ws_discount):e.toFixed(2),this.editedItem.ws_subtotal=t},rtCostComp:function(){var t=0,e=this.editedItem.rt_pack_size*this.editedItem.ws_quantity;this.editedItem.rt_quantity=e,e&&(t=this.editedItem.ws_subtotal/e),this.editedItem.rt_unit_cost=t.toFixed(2)},sellComp:function(){var t=0;t=this.editedItem.selling_price/this.editedItem.rt_unit_cost,this.editedItem.markup=t.toFixed(2),this.editedItem.subtotal=(this.editedItem.selling_price*this.editedItem.rt_quantity).toFixed(2)},setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!1)},querySelections:function(t){var e=this;this.loading=!0,setTimeout(function(){e.items=e.states.name.filter(function(e){return(e||"").toLowerCase().indexOf((t||"").toLowerCase())>-1}),e.loading=!1},500)},loadProducts:function(){var t=this,e=this;this.fetchup=!0,Tv.get(this.apiSet.allProducts).then(function(t){var a=[];console.log(t.data.data);for(var s=t.data.data,i=0,n=s.length;i<n;i++)console.log(s[i].title),a.push({id:s[i].id,num:i,product_name:s[i].product_name,o_quantity:s[i].ws_quantity+" ("+s[i].ws_unit+") / "+s[i].rt_quantity+" ("+s[i].rt_unit+")",c_quantity:0,rt_unit_cost:s[i].rt_unit_cost,selling_price:s[i].selling_price,expiry:s[i].expiry});e.inventory=a,e.raw_inventory=s,e.total=a.length,e.fetchup=!1,e.load_dialog=!1}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},editItem:function(t){this.editedIndex=this.inventory.indexOf(t);var e=this.inventory.indexOf(t),a=this.raw_inventory[e];this.editedItem=wi()({},a),this.dialog=!0},updateProduct:function(){var t=this,e=this;this.loader=!0,this.$validator.validateAll().then(function(a){if(!a)return t.form_error_snack=!0,t.loader=!1,!1;if(!(t.editedIndex>-1))return e.err_snackbar=!0,!1;wi()(t.raw_inventory[t.editedIndex],t.editedItem);var s=t.editedItem.id,i=t.editedItem,n=t.$store.state.config.url;Tv.patch(n+"/product/"+s,i).then(function(t){console.log(t),e.loader=!1,e.ed_snackbar=!0,e.dialog=!1,e.$validator.reset(),e.loadProducts(),e.$store.commit("setNetError",!1)}).catch(function(t){console.log(t),e.loader=!1,this.$store.commit("setNetError",!0)})})},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Customer",message:"Are you sure you want to Delete Product?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=(this.$store.state.config.url,this.inventory.indexOf(t));this.inventory.splice(e,1)}}},Nv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"300px"},model:{value:t.load_dialog,callback:function(e){t.load_dialog=e},expression:"load_dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Pull Stock ")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.load_dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-container",[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{box:"",label:"min (0)"},model:{value:t.pull.min,callback:function(e){t.$set(t.pull,"min",e)},expression:"pull.min"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{box:"",label:"max (500)"},model:{value:t.pull.max,callback:function(e){t.$set(t.pull,"max",e)},expression:"pull.max"}})],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"secondary"},on:{click:t.loadProducts}},[t._v("Load Stock")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"900px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Edit Product "),a("v-btn",{attrs:{flat:"",color:"secondary"}},[t._v(t._s(t.editedItem.product_name)+" #"+t._s(t.editedItem.id))])],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[t._v("\n                Product Info\n                "),a("v-container",{staticClass:"mb-4",attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"",label:"Product name",required:"","data-vv-name":"name","error-messages":t.errors.collect("name")},model:{value:t.editedItem.product_name,callback:function(e){t.$set(t.editedItem,"product_name",e)},expression:"editedItem.product_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"Category",disabled:"",hint:"Category is pre-defined","persistent-hint":"",required:"","offset-y":""},model:{value:t.editedItem.category,callback:function(e){t.$set(t.editedItem,"category",e)},expression:"editedItem.category"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"",label:"Manufacturer",required:"","data-vv-name":"manufacturer","error-messages":t.errors.collect("manufacturer")},model:{value:t.editedItem.manufacturer,callback:function(e){t.$set(t.editedItem,"manufacturer",e)},expression:"editedItem.manufacturer"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:DD/MM/YYYY",expression:"'required|date_format:DD/MM/YYYY'"}],attrs:{box:"",label:"Expiry",required:"","data-vv-name":"expiry","error-messages":t.errors.collect("expiry")},model:{value:t.editedItem.expiry,callback:function(e){t.$set(t.editedItem,"expiry",e)},expression:"editedItem.expiry"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"BarCode",hint:"If present on product","persistent-hint":""},model:{value:t.editedItem.barcode,callback:function(e){t.$set(t.editedItem,"barcode",e)},expression:"editedItem.barcode"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-btn",{attrs:{color:"secondary"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-barcode")]),t._v(" Generate Barcode")],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{box:"",label:"Batch No.",type:"number"},model:{value:t.editedItem.batch_no,callback:function(e){t.$set(t.editedItem,"batch_no",e)},expression:"editedItem.batch_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{box:"",label:"Min No.",required:"",type:"number","data-vv-name":"min_no","error-messages":t.errors.collect("min_no")},model:{value:t.editedItem.min_no,callback:function(e){t.$set(t.editedItem,"min_no",e)},expression:"editedItem.min_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{box:"",label:"Re-order No.",required:"",type:"number","data-vv-name":"reorder","error-messages":t.errors.collect("reorder")},model:{value:t.editedItem.reorder_no,callback:function(e){t.$set(t.editedItem,"reorder_no",e)},expression:"editedItem.reorder_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{box:"",label:"Max No.",required:"",type:"number","data-vv-name":"max_no","error-messages":t.errors.collect("max_no")},model:{value:t.editedItem.max_no,callback:function(e){t.$set(t.editedItem,"max_no",e)},expression:"editedItem.max_no"}})],1)],1)],1),t._v("\n\n\n\n                Wholesale Pricing\n                "),a("v-container",{staticClass:"mb-4",attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:t.packList,box:"",label:"Wholesale Unit",hint:"Eg. Pack","persistent-hint":"",required:"","offset-y":"","data-vv-name":"ws_unit","error-messages":t.errors.collect("ws_unit")},model:{value:t.editedItem.ws_unit,callback:function(e){t.$set(t.editedItem,"ws_unit",e)},expression:"editedItem.ws_unit"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Quantity",box:"",type:"number","data-vv-name":"ws_quantity","error-messages":t.errors.collect("ws_quantity")},model:{value:t.editedItem.ws_quantity,callback:function(e){t.$set(t.editedItem,"ws_quantity",e)},expression:"editedItem.ws_quantity"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal|required",expression:"'decimal|required'"}],attrs:{label:t.unit_cost,box:"",type:"number","data-vv-name":"ws_cost","error-messages":t.errors.collect("ws_cost")},model:{value:t.editedItem.ws_unit_cost,callback:function(e){t.$set(t.editedItem,"ws_unit_cost",e)},expression:"editedItem.ws_unit_cost"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Discount",box:"",suffix:"%","data-vv-name":"ws_discount","error-messages":t.errors.collect("ws_discount")},model:{value:t.editedItem.ws_discount,callback:function(e){t.$set(t.editedItem,"ws_discount",e)},expression:"editedItem.ws_discount"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal|required",expression:"'decimal|required'"}],attrs:{label:"SubTotal(GH¢)",box:"",readonly:"",type:"number","data-vv-name":"ws_subtotal","error-messages":t.errors.collect("ws_subtotal")},model:{value:t.editedItem.ws_subtotal,callback:function(e){t.$set(t.editedItem,"ws_subtotal",e)},expression:"editedItem.ws_subtotal"}})],1)],1)],1),t._v("\n                Retail Pricing\n                "),a("v-container",{attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:t.packList,box:"",label:"Retail Unit",hint:"Eg. Pack","persistent-hint":"",required:"","offset-y":"","data-vv-name":"rt_unit","error-messages":t.errors.collect("rt_unit")},model:{value:t.editedItem.rt_unit,callback:function(e){t.$set(t.editedItem,"rt_unit",e)},expression:"editedItem.rt_unit"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Pack Size",box:"",type:"number","data-vv-name":"rt_pack_size","error-messages":t.errors.collect("rt_pack_size")},model:{value:t.editedItem.rt_pack_size,callback:function(e){t.$set(t.editedItem,"rt_pack_size",e)},expression:"editedItem.rt_pack_size"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Retail QTY",box:"",type:"number",readonly:"","data-vv-name":"rt_quantity","error-messages":t.errors.collect("rt_quantity")},model:{value:t.editedItem.rt_quantity,callback:function(e){t.$set(t.editedItem,"rt_quantity",e)},expression:"editedItem.rt_quantity"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal:2|required",expression:"'decimal:2|required'"}],attrs:{label:t.runit_cost,box:"",type:"number","data-vv-name":"rt_cost",readonly:"","error-messages":t.errors.collect("rt_cost")},model:{value:t.editedItem.rt_unit_cost,callback:function(e){t.$set(t.editedItem,"rt_unit_cost",e)},expression:"editedItem.rt_unit_cost"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal|required",expression:"'decimal|required'"}],attrs:{label:"Markup",box:"",type:"number","data-vv-name":"markup","error-messages":t.errors.collect("markup")},model:{value:t.editedItem.markup,callback:function(e){t.$set(t.editedItem,"markup",e)},expression:"editedItem.markup"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal:2|required",expression:"'decimal:2|required'"}],attrs:{label:"Selling Price",box:"",type:"number","data-vv-name":"selling_price","error-messages":t.errors.collect("selling_price")},model:{value:t.editedItem.selling_price,callback:function(e){t.$set(t.editedItem,"selling_price",e)},expression:"editedItem.selling_price"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal:2|required",expression:"'decimal:2|required'"}],attrs:{label:"Subtotal",box:"",type:"number","data-vv-name":"subtotal","error-messages":t.errors.collect("subtotal")},model:{value:t.editedItem.subtotal,callback:function(e){t.$set(t.editedItem,"subtotal",e)},expression:"editedItem.subtotal"}})],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"grey darken-1"},nativeOn:{click:function(e){t.dialog=!1}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary darken-1",loading:t.loader,disabled:t.loader},on:{click:t.updateProduct}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-library-plus\n                    ")]),t._v("Update Product")],1)],1)],1)],1),t._v(" "),a("v-card",[a("v-toolbar",{staticClass:"mt-0 primary"},[a("v-toolbar-title",[a("v-textfield")],1),t._v(" "),a("v-toolbar-items",{staticClass:"hidden-sm-and-down"}),t._v(" "),a("v-layout",{attrs:{row:"","align-center":""}},[a("v-flex",{attrs:{sm2:""}},[a("v-select",{staticClass:"mt-2",attrs:{"offset-y":"",items:t.outlets,label:"Select Outlet",solo:""},model:{value:t.outlet,callback:function(e){t.outlet=e},expression:"outlet"}})],1),t._v(" "),a("v-flex",{staticClass:"ml-4",attrs:{sm4:""}},[a("v-alert",{staticClass:"pa-1",attrs:{value:!0,color:"grey",dense:"",icon:"refresh"}},[a("span",[t._v("New Reconciliation started")]),a("br"),t._v(" "),a("span",[t._v("[3 Products adjusted]")]),t._v(" "),a("v-btn",{staticClass:"cry green darken-3",attrs:{dark:"",small:""}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v("Save")],1),t._v(" "),a("v-btn",{staticClass:"cry1 green darken-3",attrs:{dark:"",small:""}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-content-save")]),t._v("Draft")],1)],1)],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-flex",{attrs:{sm5:""}},[a("v-btn",{staticClass:"mb-2",attrs:{color:"red darken-3",dark:""},on:{click:t.open_load}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-download")]),t._v(" Load Stock")],1)],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("Loaded Products[ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ] @ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.outlet))])]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search loaded products.","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-5",attrs:{headers:t.inv_head,items:t.inventory,search:t.search,loading:t.fetchup,class:"elevation-5"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.product_name))]),t._v(" "),a("td",[t._v(t._s(e.item.o_quantity))]),t._v(" "),a("td",[t._v(t._s(e.item.c_quantity))]),t._v(" "),a("td",[t._v(t._s(e.item.selling_price))]),t._v(" "),a("td",[t._v(t._s(e.item.rt_unit_cost))]),t._v(" "),a("td",[t._v(t._s(e.item.expiry))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"mr-2 teal--text cpoint",attrs:{flat:"",small:""},on:{click:function(a){return t.editItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-pencil\n                    ")]),t._v(" Edit")],1),t._v(" "),a("v-btn",{staticClass:"red--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.deleteItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-delete\n                    ")]),t._v(" Delete")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.er_snackbar,callback:function(e){t.er_snackbar=e},expression:"er_snackbar"}},[t._v("\n        Sorry input Errors. Data could not be saved.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.er_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.del_snackbar,callback:function(e){t.del_snackbar=e},expression:"del_snackbar"}},[t._v("\n        Entry Successfully Deleted.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.del_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.form_error_snack,callback:function(e){t.form_error_snack=e},expression:"form_error_snack"}},[t._v("\n        Sorry!!! Please Correct form errors.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.form_error_snack=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.del_error_snack,callback:function(e){t.del_error_snack=e},expression:"del_error_snack"}},[t._v("\n        Sorry!!! an error occured, Could not delete Product.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.del_error_snack=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.su_snackbar,callback:function(e){t.su_snackbar=e},expression:"su_snackbar"}},[t._v("\n        Product Successfully Added.\n        "),a("v-btn",{attrs:{flat:"",color:"green"},nativeOn:{click:function(e){t.su_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.ed_snackbar,callback:function(e){t.ed_snackbar=e},expression:"ed_snackbar"}},[t._v("\n        Product Successfully Edited.\n        "),a("v-btn",{attrs:{flat:"",color:"secondary"},nativeOn:{click:function(e){t.ed_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,bottom:!0,right:"right"===t.x,color:"primary"},model:{value:t.dict_load,callback:function(e){t.dict_load=e},expression:"dict_load"}},[t._v("\n        Product Dictionary Successfully loaded.\n        "),a("v-btn",{attrs:{flat:"",color:"secondary"},nativeOn:{click:function(e){t.dict_load=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},Av=[],Ov={render:Nv,staticRenderFns:Av},Mv=Ov,Rv=a("VU/8"),jv=ct,Yv=Rv(Ev,Mv,!1,jv,"data-v-0eacb056",null),Fv=Yv.exports,Uv={data:function(){return{dialog:!1,headers:[{text:"Id",align:"left",sortable:!0,value:"id"},{text:"Products",align:"left",sortable:!0,value:"name"},{text:"Open Qty",value:"open_qty"},{text:"Close Qty",value:"close_qty"},{text:"C-Price",value:"cost_price"},{text:"S-Price",value:"selling_price"},{text:"Expiry",value:"expiry_date"},{text:"Actions",value:"name",sortable:!1}],desserts:[],editedIndex:-1,editedItem:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.initialize()},methods:{initialize:function(){this.desserts=[{name:"Frozen Yogurt",calories:159,fat:6,carbs:24,protein:4},{name:"Ice cream sandwich",calories:237,fat:9,carbs:37,protein:4.3},{name:"Eclair",calories:262,fat:16,carbs:23,protein:6},{name:"Cupcake",calories:305,fat:3.7,carbs:67,protein:4.3},{name:"Gingerbread",calories:356,fat:16,carbs:49,protein:3.9},{name:"Jelly bean",calories:375,fat:0,carbs:94,protein:0},{name:"Lollipop",calories:392,fat:.2,carbs:98,protein:0},{name:"Honeycomb",calories:408,fat:3.2,carbs:87,protein:6.5},{name:"Donut",calories:452,fat:25,carbs:51,protein:4.9},{name:"KitKat",calories:518,fat:26,carbs:65,protein:7}]},editItem:function(t){this.editedIndex=this.desserts.indexOf(t),this.editedItem=wi()({},t),this.dialog=!0},deleteItem:function(t){var e=this.desserts.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.desserts.splice(e,1)},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.editedItem=wi()({},t.defaultItem),t.editedIndex=-1},300)},save:function(){this.editedIndex>-1?wi()(this.desserts[this.editedIndex],this.editedItem):this.desserts.push(this.editedItem),this.close()}}},zv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("card",[a("v-toolbar",{staticClass:"mt-0 primary round_end"},[a("v-toolbar-title",[a("v-textfield")],1),t._v(" "),a("v-toolbar-items",{staticClass:"hidden-sm-and-down"}),t._v(" "),a("v-layout",{attrs:{row:"","align-center":""}},[a("v-flex",{attrs:{sm3:"","offset-x":""}},[a("v-select",{staticClass:"mt-1",attrs:{"offset-y":"",items:t.outlets,label:"Filter by Outlet",solo:""},model:{value:t.outlet,callback:function(e){t.outlet=e},expression:"outlet"}})],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"red",dark:""},slot:"activator"},[t._v("Load Stock")]),t._v(" "),a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Pull Stock")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{nativeOn:{click:function(e){t.dialog=!1}}})],1),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs10:"",sm8:"",md10:""}},[a("v-text-field",{attrs:{box:"",label:"min (0)"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),t._v(" "),a("v-flex",{attrs:{xs10:"",sm8:"",md10:""}},[a("v-text-field",{attrs:{box:"",label:"max (500)"},model:{value:t.editedItem.calories,callback:function(e){t.$set(t.editedItem,"calories",e)},expression:"editedItem.calories"}})],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"secondry",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Load Stock")])],1)],1)],1)],1)],1)],1),t._v(" "),a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Outlet")]),t._v(" "),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),a("v-spacer"),t._v(" "),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"secondary",dark:""},slot:"activator"},[t._v("draft")]),t._v(" "),a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("save")]),t._v(" "),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Product name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Open Qty"},model:{value:t.editedItem.open_qty,callback:function(e){t.$set(t.editedItem,"open_qty",e)},expression:"editedItem.open_qty"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Close Qty"},model:{value:t.editedItem.close_qty,callback:function(e){t.$set(t.editedItem,"close_qty",e)},expression:"editedItem.close_qty"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"C/Price"},model:{value:t.editedItem.cost_price,callback:function(e){t.$set(t.editedItem,"cost_price",e)},expression:"editedItem.cost_price"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"S/Price"},model:{value:t.editedItem.selling_price,callback:function(e){t.$set(t.editedItem,"selling_price",e)},expression:"editedItem.selling_price"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Expiry"},model:{value:t.editedItem.expiry_date,callback:function(e){t.$set(t.editedItem,"expiry_date",e)},expression:"editedItem.expiry_date"}})],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Save")])],1)],1)],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.desserts,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.name))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.id))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.open_qty))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.close_qty))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.cost_price))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.selling_price))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.expiry_date))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n          edit\n        ")]),t._v(" "),a("v-icon",{attrs:{small:""},on:{click:function(a){return t.deleteItem(e.item)}}},[t._v("\n          delete\n        ")])],1)]}}])},[t._v(" "),a("template",{slot:"no-data"})],2)],1)},Vv=[],Bv={render:zv,staticRenderFns:Vv},Gv=Bv,Hv=a("VU/8"),Lv=Hv(Uv,Gv,!1,null,null,null),Wv=Lv.exports,Qv=a("mtWM"),Zv={name:"inv-reorder",data:function(){return{showMenu:!1,items:[{title:"Click Me"},{title:"Click Me"},{title:"Click Me"},{title:"Click Me 2"}],er_snackbar:!1,fstate:"Pending",fetchSetName:"Fetch All",fetchSetColor:"green darken-3",fetchSetIcon:"mdi-arrow-collapse-all",transfer_dialog:!1,transfer_total:0,transfer_invoice:"",transfer_fetchup:!1,snack:!1,snackText:"",snackColor:"red",outlet:"all Outlets",loading:!1,fetchup:!1,loader:!1,dialog:!1,total:"",search:null,searchup:null,select:null,start_date:null,menu:!1,menu2:!1,end_date:null,menu3:!1,states:[{name:"Toilet Rolls",icon:"mdi-chart-bubble",category:"Toiletries"}],purchase_head:[{text:"Id",align:"left",sortable:!1,value:"id"},{text:"No. Items",align:"left",value:"num_items"},{text:"Source",align:"left",value:"source"},{text:"Destination",value:"destination"},{text:"Sender",value:"sender"},{text:"Status",value:"status"},{text:"Date",value:"date"},{text:"Actions",align:"center",value:"actions"}],purchases:[],transfer_purchase:[],or_purchases:[],transfer_head:[{text:"Id",align:"left",value:"id",class:"subheading"},{text:"Product",value:"product_name",class:"subheading",sortable:!1},{text:"Available Qty",class:"subheading",value:"purr_rt_quantity"},{text:"Transfer Qty",class:"subheading",value:"purr_rt_quantity"},{text:"S-Price(Ghc)",class:"subheading",value:"selling_price"},{text:"C-Price(Ghc)",value:"rt_unit_cost",class:"subheading"},{text:"Expiry",value:"expiry",class:"subheading"},{text:"",value:"name",align:"centre",sortable:!1}],inventory:[],raw_inventory:[],transfer_data:[],side_items:[]}},computed:{apiSet:function(){return this.$store.getters.getApi},unit_cost:function(){return this.editedItem.ws_unit+" Cost(Ghc)"},runit_cost:function(){return this.editedItem.rt_unit+" Cost(Ghc)"}},watch:{search:function(t){t&&t!==this.select&&this.querySelections(t)},outlet:function(t){var e=this.or_purchases;t?(this.purchases=_.filter(e,function(e){return e.source===t}),this.total=this.purchases.length):(this.purchases=e,this.total=this.purchases.length)}},mounted:function(){this.setSide(),this.loadPendingReorders()},created:function(){},methods:{setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!1)},fetchSet:function(){"Fetch All"===this.fetchSetName?(this.loadPurchases(),this.fetchSetName="Fetch Pending",this.fetchSetColor="orange darken-3",this.fetchSetIcon="mdi-view-sequential",this.fstate="All "):(this.loadPendingReorders(),this.fetchSetName="Fetch All",this.fetchSetColor="green darken-3",this.fetchSetIcon="mdi-arrow-collapse-all",this.fstate="Pending ")},viewDet:function(t){var e=this,a=this;this.$store.commit("setPurchaseDet",t),this.fetchup=!0,this.transfer_invoice=t.reorder_invoice,Qv.get(this.apiSet.reorderBuffer+"/"+t.reorder_invoice).then(function(t){var e=[],s=t.data.data;a.$store.commit("setNewPopPurchase",s),a.transfer_total=e.length,a.transfer_fetchup=!1,a.fetchup=!1,a.$router.push("/reorder_pop")}).catch(function(t){console.log(t),a.loader=!1,e.err.push(t)})},transView:function(t){var e=this,a=this;this.$store.commit("setTransferDet",t),this.fetchup=!0,this.transfer_invoice=t.reorder_invoice,Qv.get(this.apiSet.reorderBuffer+"/"+t.reorder_invoice).then(function(t){var s=t.data.data;a.$store.commit("setTransferNew",s),a.transfer_data=s,a.transfer_total=s.length,a.transfer_fetchup=!1,a.fetchup=!1,e.transfer_dialog=!0}).catch(function(t){console.log(t),a.loader=!1,e.err.push(t)})},loadPendingReorders:function(){var t=this,e=this;this.fetchup=!0;var a={oid:this.userData.outlet_id,cid:this.userData.company_id};Qv.post(this.apiSet.postReorderPending,a).then(function(t){var a=t.data.data;e.or_purchases=a,e.purchases=a,e.total=e.purchases.length,e.fetchup=!1}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},loadPurchases:function(){var t=this,e=this;this.fetchup=!0;var a={oid:this.userData.outlet_id,cid:this.userData.company_id};Qv.post(this.apiSet.postReorder,a).then(function(t){var a=t.data.data;e.or_purchases=a,e.purchases=a,e.total=e.purchases.length,e.fetchup=!1}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},transferItems:function(){var t=this,e=this.transfer_data;this.transfer_fetchup=!0;for(var a=e[0].reorder_invoice,s=0,i=e.length;s<i;s++)Qv.post(this.apiSet.posrecBuffer,e[s]).then(function(e){console.log(e),t.loader=!1,t.transfer_dialog=!1,t.transfer_fetchup=!1,t.fetchup=!1,t.snack=!0,t.snackText="Transfer Successfully Sent.",t.snackColor="green",t.setReorder(a),t.loadPendingReorders()}).catch(function(e){console.log(e),t.transfer_dialog=!1,t.transfer_fetchup=!1,t.fetchup=!1,t.snack=!0,t.snackText="Communication Error.",t.snackColor="red",t.loader=!1})},setReorder:function(t){var e=this;Qv.get(this.apiSet.recReorder+"/"+t).then(function(t){console.log(t);t.data.data}).catch(function(t){console.log(t),self.loader=!1,e.err.push(t)})},closeup:function(){this.transfer_dialog=!1}}},Xv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"1200px"},model:{value:t.transfer_dialog,callback:function(e){t.transfer_dialog=e},expression:"transfer_dialog"}},[a("v-card",{staticClass:"elevation-4"},[a("v-card-title",[a("p",{staticClass:"headline ttext mt-1"},[t._v("[ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.transfer_total))]),t._v(" ] Requested Products | ")]),a("br"),t._v(" "),a("p",{staticClass:"small ttext mt-1"},[t._v("Invoice No. [ "),a("i",{staticClass:"orange--text text--darken-3"},[t._v("#"+t._s(t.transfer_invoice))]),t._v(" ]")]),a("br"),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"secondary elevation-8",attrs:{large:""},on:{click:t.transferItems}},[a("v-icon",[t._v("mdi-format-align-middle")]),t._v(" Transfer Items")],1),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.closeup(e)}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.transfer_head,items:t.transfer_data,loading:t.transfer_fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.product_name))]),t._v(" "),a("td",[t._v(t._s(e.item.purr_rt_quantity+"("+e.item.rt_unit+")"))]),t._v(" "),a("td",[t._v(t._s(e.item.purr_rt_quantity+"("+e.item.rt_unit+")"))]),t._v(" "),a("td",[t._v(t._s(e.item.selling_price))]),t._v(" "),a("td",[t._v(t._s(e.item.rt_unit_cost))]),t._v(" "),a("td",[t._v(t._s(e.item.expiry))])]}}])},[t._v(" "),a("template",{slot:"no-data"},[a("v-alert",{attrs:{value:!0,color:"primary",icon:"add"}},[a("v-progress-circular",{staticClass:"mr-4",attrs:{indeterminate:!0,value:0,size:"24",color:"orange darken-3"}}),t._v(" Loading Data. Please wait.\n                    ")],1)],1),t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                    Your search for "'+t._s(t.search)+'" found no results.\n                ')])],2),t._v(" "),t.transfer_state?a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"grey darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{color:"primary darken-1",dark:""},nativeOn:{click:function(t){}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-printer")]),t._v("Print")],1)],1):t._e()],1)],1),t._v(" "),a("v-card",[a("v-toolbar",{staticClass:"mt-0 primary"},[a("v-toolbar-items",{staticClass:"hidden-sm-and-down"}),t._v(" "),a("v-layout",{attrs:{row:"","align-center":""}},[a("v-flex",{attrs:{sm2:""}},[a("v-select",{staticClass:"mt-2 mr-4",attrs:{"offset-y":"",items:t.outlets,label:"Select Outlet",solo:"",clearable:""},model:{value:t.outlet,callback:function(e){t.outlet=e},expression:"outlet"}})],1),t._v(" "),a("v-flex",[a("v-btn",{attrs:{dark:"",large:"",color:t.fetchSetColor},on:{click:t.fetchSet}},[a("v-icon",[t._v(t._s(t.fetchSetIcon))]),t._v(" "+t._s(t.fetchSetName))],1)],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-flex",{attrs:{sm3:"",md3:""}},[a("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.start_date,lazy:"",box:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.start_date=e},"update:return-value":function(e){t.start_date=e}},model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-text-field",{staticClass:"mt-2 mr-4",attrs:{slot:"activator",label:"Start Date",solo:"",clearable:"","append-icon":"event",readonly:""},slot:"activator",model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}}),t._v(" "),a("v-date-picker",{on:{input:function(e){return t.$refs.menu2.save(t.start_date)}},model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}})],1)],1),t._v(" "),a("v-flex",{attrs:{sm3:"",md3:""}},[a("v-menu",{ref:"menu3",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.end_date,lazy:"",box:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.end_date=e},"update:return-value":function(e){t.end_date=e}},model:{value:t.menu3,callback:function(e){t.menu3=e},expression:"menu3"}},[a("v-text-field",{staticClass:"mt-2 ml-4",attrs:{slot:"activator",label:"End Date",solo:"",clearable:"","append-icon":"event",readonly:"",color:"secondary"},slot:"activator",model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}}),t._v(" "),a("v-date-picker",{on:{input:function(e){return t.$refs.menu3.save(t.end_date)}},model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}})],1)],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v(t._s(t.fstate)+" Orders[ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ] from "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.outlet))])]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search by eg. Status","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-5",attrs:{headers:t.purchase_head,items:t.purchases,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.no_items))]),t._v(" "),a("td",[t._v(t._s(e.item.source))]),t._v(" "),a("td",[t._v(t._s(e.item.destination))]),t._v(" "),a("td",[t._v(t._s(e.item.sender))]),t._v(" "),a("td",[t._v(t._s(e.item.status))]),t._v(" "),a("td",[t._v(t._s(t.moment(e.item.reorder_date).format("MMM Do YYYY")))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"mr-2 teal--text cpoint",attrs:{flat:""},on:{click:function(a){return t.viewDet(e.item)}}},[a("v-icon",{attrs:{small:""}},[t._v("\n                        mdi-open-in-new\n                    ")]),t._v(" view")],1),t._v(" "),a("v-btn",{staticClass:"mr-2 orange--text darken-3 cpoint",attrs:{flat:""},on:{click:function(a){return t.transView(e.item)}}},[a("v-icon",[t._v("\n                        mdi-arrow-right\n                    ")]),t._v(" Transfer")],1),t._v(" "),a("v-btn",{staticClass:"mr-2 red--text darken-3 cpoint",attrs:{flat:""},on:{click:function(a){return t.viewDet(e.item)}}},[a("v-icon",{attrs:{small:""}},[t._v("\n                        mdi-delete\n                    ")]),t._v(" Reject")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},Jv=[],Kv={render:Xv,staticRenderFns:Jv},t_=Kv,e_=a("VU/8"),a_=dt,s_=e_(Zv,t_,!1,a_,"data-v-490b96b0",null),i_=s_.exports,n_=a("mtWM"),r_={name:"requisitions",data:function(){return{showMenu:!1,items:[{title:"Click Me"},{title:"Click Me"},{title:"Click Me"},{title:"Click Me 2"}],er_snackbar:!1,buffer_dialog:!1,buffer_total:0,buffer_invoice:"",buffer_fetchup:!1,snack:!1,snackText:"",snackColor:"red",outlet:"Warehouse",loading:!1,fetchup:!1,loader:!1,dialog:!1,total:"",search:null,searchup:null,select:null,start_date:null,menu:!1,menu2:!1,end_date:null,menu3:!1,states:[{name:"Toilet Rolls",icon:"mdi-chart-bubble",category:"Toiletries"}],purchase_head:[{text:"Id",align:"left",sortable:!1,value:"id"},{text:"No. Items",align:"left",value:"num_items"},{text:"Source",align:"left",value:"source"},{text:"Destination",value:"destination"},{text:"Sender",value:"sender"},{text:"Status",value:"status"},{text:"Date",value:"date"},{text:"Actions",align:"center",value:"actions"}],purchases:[],buffer_purchase:[],or_purchases:[],buffer_head:[{text:"Id",align:"left",value:"id",class:"subheading"},{text:"Product",value:"product_name",class:"subheading",sortable:!1},{text:"Quantity",class:"subheading",value:"quantity"},{text:"S-Price(Ghc)",class:"subheading",value:"selling_price"},{text:"C-Price(Ghc)",value:"rt_unit_cost",class:"subheading"},{text:"Expiry",value:"expiry",class:"subheading"},{text:"",value:"name",align:"centre",sortable:!1}],inventory:[],raw_inventory:[],buffer_data:[],editedIndex:-1,editedItem:{id:"",product_name:"",category:"",manufacturer:"",expiry:"",product_type:"",ws_quantity:"",rt_quantity:"",barcode:"",rt_unit:"",ws_unit:"",ws_discount:0,rt_discount:0,ws_unit_cost:"",rt_unit_cost:"",markup:"",selling_price:"",subtotal:"",min_no:"",batch_no:"",max_no:"",reorder_no:""},defaultItem:{id:"",product_name:"",category:"",manufacturer:"",expiry:"",product_type:"",barcode:""},side_items:[]}},computed:{apiSet:function(){return this.$store.getters.getApi},unit_cost:function(){return this.editedItem.ws_unit+" Cost(Ghc)"},runit_cost:function(){return this.editedItem.rt_unit+" Cost(Ghc)"}},watch:{search:function(t){t&&t!==this.select&&this.querySelections(t)},outlet:function(t){var e=this.or_purchases;this.purchases=_.filter(e,function(e){return e.source===t}),this.total=this.purchases.length}},mounted:function(){this.setSide(),this.loadPurchases()},created:function(){},methods:{setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!1)},conv_status:function(t){return"0"===t?"pending":"transfered"},viewDet:function(t){var e=this,a=this;this.$store.commit("setPurchaseDet",t),this.fetchup=!0,this.buffer_invoice=t.reorder_invoice,n_.get(this.apiSet.reorderBuffer+"/"+t.reorder_invoice).then(function(t){var e=[],s=t.data.data;a.$store.commit("setNewPopPurchase",s),a.buffer_total=e.length,a.buffer_fetchup=!1,a.fetchup=!1,a.$router.push("/reorder_pop")}).catch(function(t){console.log(t),a.loader=!1,e.err.push(t)})},loadPurchases:function(){var t=this,e=this;this.fetchup=!0;var a={oid:this.userData.outlet_id,cid:this.userData.company_id};n_.post(this.apiSet.postReorder,a).then(function(t){var a=t.data.data;e.or_purchases=a,e.purchases=_.filter(a,function(t){return t.source===e.outlet}),e.total=e.purchases.length,e.fetchup=!1}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},submitPurchase:function(){var t=this,e=this.buffer_purchase;this.buffer_fetchup=!0;for(var a=0,s=e.length;a<s;a++)n_.post(this.apiSet.productPurchase,e[a]).then(function(e){console.log(e),t.loader=!1,t.buffer_dialog=!1,t.buffer_fetchup=!1,t.fetchup=!1,t.snack=!0,t.snackText="Purchase Successfully Received.",t.snackColor="green",t.loadPurchases()}).catch(function(e){console.log(e),this.er_snackbar=!0,t.loader=!1})}}},o_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-toolbar",{staticClass:"mt-0 primary"},[a("v-toolbar-items",{staticClass:"hidden-sm-and-down"}),t._v(" "),a("v-layout",{attrs:{row:"","align-center":""}},[a("v-flex",{attrs:{sm2:""}},[a("v-btn",{staticClass:"secondary elevation-8",on:{click:function(e){return t.$router.push("/new_shortages")}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-redo")]),t._v(" Create Order ")],1)],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-flex",{attrs:{sm2:""}},[a("v-select",{staticClass:"mt-2 mr-4",attrs:{"offset-y":"",items:t.outlets,label:"Select Outlet",solo:""},model:{value:t.outlet,callback:function(e){t.outlet=e},expression:"outlet"}})],1),t._v(" "),a("v-flex",{attrs:{sm3:"",md3:""}},[a("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.start_date,lazy:"",box:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.start_date=e},"update:return-value":function(e){t.start_date=e}},model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-text-field",{staticClass:"mt-2 mr-4",attrs:{slot:"activator",label:"Start Date",solo:"",clearable:"","append-icon":"event",readonly:""},slot:"activator",model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}}),t._v(" "),a("v-date-picker",{on:{input:function(e){return t.$refs.menu2.save(t.start_date)}},model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}})],1)],1),t._v(" "),a("v-flex",{attrs:{sm3:"",md3:""}},[a("v-menu",{ref:"menu3",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.end_date,lazy:"",box:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.end_date=e},"update:return-value":function(e){t.end_date=e}},model:{value:t.menu3,callback:function(e){t.menu3=e},expression:"menu3"}},[a("v-text-field",{staticClass:"mt-2 ml-4",attrs:{slot:"activator",label:"End Date",solo:"",clearable:"","append-icon":"event",readonly:"",color:"secondary"},slot:"activator",model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}}),t._v(" "),a("v-date-picker",{on:{input:function(e){return t.$refs.menu3.save(t.end_date)}},model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}})],1)],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("All Re-Orders[ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ] from "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.outlet))])]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-5",attrs:{headers:t.purchase_head,items:t.purchases,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.no_items))]),t._v(" "),a("td",[t._v(t._s(e.item.source))]),t._v(" "),a("td",[t._v(t._s(e.item.destination))]),t._v(" "),a("td",[t._v(t._s(e.item.sender))]),t._v(" "),a("td",[t._v(t._s(t.conv_status(e.item.status)))]),t._v(" "),a("td",[t._v(t._s(t.moment(e.item.reorder_date).format("MMM Do YYYY")))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"mr-2 teal--text cpoint",attrs:{flat:"",small:""},on:{click:function(a){return t.viewDet(e.item)}}},[a("v-icon",{attrs:{small:""}},[t._v("\n                        mdi-open-in-new\n                    ")]),t._v(" view")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},l_=[],c_={render:o_,staticRenderFns:l_},d_=c_,u_=a("VU/8"),m_=ut,v_=u_(r_,d_,!1,m_,"data-v-bf4fefc8",null),__=v_.exports,p_={name:"reorder_view",computed:{purchaseDetail:function(){return this.$store.getters.getPurchaseDet},userData:function(){return this.$store.getters.getUserData},purrProduct:function(){return this.$store.getters.getNewPurchase},purrSubtotal:function(){return this.$store.getters.getNewPurchase.reduce(function(t,e){return t+parseFloat(e.purr_ws_subtotal)},0)}},methods:{kabimame:function(){window.print()}}},h_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{attrs:{color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")]),t._v("Go Back")],1),t._v(" "),a("v-btn",{attrs:{color:"secondary",small:""},on:{click:t.kabimame}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-printer")]),t._v("Print")],1),t._v(" "),a("v-card",{attrs:{color:"pa-4 mt-2 round_end"}},[a("header",[a("h1",[t._v("Re-Order Invoice "),a("i",{staticClass:"secondary--text"},[t._v("#"+t._s(t.purchaseDetail.reorder_invoice))])]),t._v(" "),a("span",{staticClass:"mid"},[a("p",{staticClass:"headline hup"},[t._v(t._s(t.userData.company_name))]),t._v(" "),a("p",[t._v("Phone No.: "+t._s(t.userData.company_phone_no))]),t._v(" "),a("p",[t._v("Outlet: "+t._s(t.userData.outlet_name))]),t._v(" "),a("p",[t._v("Date: "+t._s((new Date).toDateString()))])])]),t._v(" "),a("article",[a("table",{staticClass:"inventory"},[a("thead",[a("tr",[a("th",[t._v("No.")]),t._v(" "),a("th",[a("span",[t._v("Product Name")])]),t._v(" "),a("th",[a("span",[t._v("Quantity")])]),t._v(" "),a("th",[a("span",[t._v("Batch N0.")])]),t._v(" "),a("th",[a("span",[t._v("Expiry")])])])]),t._v(" "),a("tbody",t._l(t.purrProduct,function(e,s){return a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v(t._s(s+1))]),t._v(" "),a("td",[a("span",[t._v(t._s(e.product_name))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.ws_quantity+"("+e.ws_unit+") /"+e.rt_quantity+"("+e.rt_unit+")"))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.batch_no))])]),t._v(" "),a("td",[a("span"),a("span",[t._v(t._s(e.expiry))])])])}),0)]),t._v(" "),a("table",{staticClass:"balance"})]),t._v(" "),a("aside",[a("div",[a("small",[t._v("Powered By WorkIT Facility Management System")])])])])],1)},f_=[],b_={render:h_,staticRenderFns:f_},g_=b_,x_=a("VU/8"),y_=mt,k_=x_(p_,g_,!1,y_,"data-v-112fdb64",null),w_=k_.exports,C_=a("mtWM"),I_={name:"new_reorder",data:function(){return{due:!1,snack:!1,snackText:"",min_quantity:0,snackColor:"green",outlet:{outlet_name:"Warehouse",id:1},outlet_set:[],supplier:"Unknown",pull_dialog:!1,loading:!1,fetchup:!1,loader:!1,items:[],dialog:!1,inv_dialog:!1,total:"",search:null,searchup:null,select:null,outlet_name:"",states:[{name:"Toilet Rolls",icon:"mdi-chart-bubble",category:"Toiletries"}],reorder_det:{source:"",destination:"",reorder_date:new Date,status:0},purchase_head:[{text:"Id",align:"left",value:"id"},{text:"Product",value:"product_name",sortable:!1},{text:"Batch No.",value:"batch_no"},{text:"Available Quantity",value:"available_qty"},{text:"Expiry",value:"expiry"},{text:"",value:"name",align:"centre",sortable:!1}],new_purchase:[],raw_inventory:[],editedIndex:-1,editedItem:{id:"1",product_name:"1",category:"1",manufacturer:"1",expiry:"02/02/2001",product_type:"1",ws_quantity:"1",rt_quantity:"1",barcode:"1",rt_unit:"1",ws_unit:"1",ws_discount:0,rt_discount:0,ws_unit_cost:"1",rt_unit_cost:"1",markup:"1",selling_price:"1",subtotal:"1",min_no:"1",batch_no:"1",max_no:"1",rt_pack_size:"3",ws_subtotal:"80",reorder_no:"1",carriage:"1",vat:"1",sup_invoice:"1",payment_mode:"1",sup_discount:0},defaultItem:{id:"",product_name:"",category:"",manufacturer:"",expiry:"",product_type:"",barcode:""},date:"",menu:!1,purrSet:0,side_items:[{icon:"mdi-cart",text:"Reorders",link:"/requisitions"}]}},computed:{purOut:function(){return this.purchase_det.outlet},ws_sub:function(){return this.editedItem.ws_subtotal},ws_dis:function(){return this.editedItem.ws_discount},ws_cost:function(){return this.editedItem.ws_unit_cost},ws_quan:function(){return this.editedItem.ws_quantity},rt_pack:function(){return this.editedItem.rt_pack_size},rt_quan:function(){return this.editedItem.rt_quantity},mark_up:function(){return this.editedItem.markup},rt_selling:function(){return this.editedItem.selling_price},apiSet:function(){return this.$store.getters.getApi},unit_cost:function(){return this.editedItem.ws_unit+" Cost(Ghc)"},runit_cost:function(){return this.editedItem.rt_unit+" Cost(Ghc)"},prodData:function(){return this.$store.getters.getNewPurchase},getNewPurchase:function(){for(var t=[],e=this.$store.getters.getNewPurchase,a=0,s=e.length;a<s;a++)t.push({id:e[a].id,num:a,product_name:e[a].product_name,batch_no:e[a].batch_no,available_qty:e[a].ws_quantity+" ("+e[a].ws_unit+") / "+e[a].rt_quantity+" ("+e[a].rt_unit+")",expiry:e[a].expiry});return t}},watch:{search:function(t){t&&t!==this.select&&this.querySelections(t)},purOut:function(t){this.$store.commit("setPout",t.id),this.outlet_name=t.outlet_name},ws_sub:function(){this.costComp()},ws_dis:function(){this.costComp()},payMode:function(t){this.due="Credit"===t},ws_cost:function(){this.costComp(),this.rtCostComp(),this.markupComp(),this.sellComp()},ws_quan:function(){this.costComp(),this.markupComp(),this.sellComp(),this.rtCostComp()},rt_quan:function(){this.rtCostComp(),this.markupComp(),this.sellComp()},rt_pack:function(){this.rtCostComp()},mark_up:function(){this.markupComp()},rt_selling:function(){this.sellComp()}},mounted:function(){this.setSide(),this.outList()},created:function(){this.resetPurchase()},methods:{testSnack:function(){this.$store.commit("setSnack",{t:"Yes Test Works",c:"red darken-3"})},outList:function(){var t=this,e="",a=this.$store.state.user_data.company_id;e=1===a?this.$store.state.config.api.allOutlets:this.$store.state.config.api.companyOutlets+"/"+a,C_.get(e).then(function(e){console.log(e.data.data);for(var a=e.data.data,s=[],i=0,n=a.length;i<n;i++)s.push({outlet_name:a[i].outlet_name,id:a[i].id});t.outlet_set=s}).catch(function(t){console.log(t)})},setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!0)},pullMin:function(){this.pull_dialog=!0},fetchMin:function(){var t=this,e={min:this.min_quantity,oid:this.userData.outlet_id,cid:this.userData.company_id},a=this;this.fetchup=!0,C_.post(this.apiSet.minReorder,e).then(function(t){var e=t.data.data;a.$store.commit("setNewPopPurchase",e),a.fetchup=!1,a.pull_dialog=!1}).catch(function(e){console.log(e),a.pull_dialog=!1,a.loader=!1,t.err.push(e)})},autoFetch:function(){var t=this,e={oid:this.userData.outlet_id,cid:this.userData.company_id},a=this;this.fetchup=!0,C_.post(this.apiSet.post_low_stock,e).then(function(t){var e=t.data.data;a.$store.commit("setNewPopPurchase",e),a.fetchup=!1,a.pull_dialog=!1}).catch(function(e){console.log(e),a.pull_dialog=!1,a.loader=!1,t.err.push(e)})},loadSup:function(){var t=this;C_.get(this.apiSet.allSuppliers).then(function(e){var a=e.data.data;t.$store.commit("setSup",a)}).catch(function(t){console.log(t)})},addSup:function(){this.snack=!0,this.snackColor="green",this.snackText="Reorder Sucessful"},markupComp:function(){var t=0;t=this.editedItem.rt_unit_cost*this.editedItem.markup,this.editedItem.selling_price=t,this.editedItem.subtotal=t*this.editedItem.rt_quantity},costComp:function(){var t=0,e=this.editedItem.ws_quantity*this.editedItem.ws_unit_cost;t=this.editedItem.ws_discount?e*(1-.01*this.editedItem.ws_discount):e,this.editedItem.ws_subtotal=t},rtCostComp:function(){var t=0,e=this.editedItem.rt_pack_size*this.editedItem.ws_quantity;e&&(t=this.editedItem.ws_subtotal/e),this.editedItem.rt_unit_cost=t},sellComp:function(){var t=0;t=this.editedItem.selling_price/this.editedItem.rt_unit_cost,this.editedItem.markup=t,this.editedItem.subtotal=this.editedItem.selling_price*this.editedItem.rt_quantity},querySelections:function(t){var e=this;this.loading=!0,setTimeout(function(){e.items=e.states.name.filter(function(e){return(e||"").toLowerCase().indexOf((t||"").toLowerCase())>-1}),e.loading=!1},500)},editItem:function(t){this.editedIndex=t.id;var e=this.prodData.filter(function(e){return e.id===t.id});console.log(e[0]),this.editedItem=e[0],this.dialog=!0},submitPurchase:function(){var t=this,e=this.userData.company_name.charAt(0)+"-"+Math.random().toString(36).substr(2,16);this.$validator.validateAll().then(function(a){if(!a)return self.$store.commit("setSnack",{t:"Please fix form errors. ",c:"red darken-3"}),!1;!function(){t.loader=!0;var a=t;t.purrSet=t.purrSub;var s=t.prodData,i=t.reorder_det;gi()(s).reduce(function(t,e){return t+parseInt(e.ws_subtotal)},0);s.purchase_invoice=i.sup_invoice,s.company_id=t.userData.company_id,s.outlet_id=t.$store.getters.getPout,i.company_id=t.userData.company_id,i.outlet_id=t.userData.outlet_id,i.outlet=t.$store.getters.getPout,i.outlet_name=t.outlet_name,i.reorder_invoice=e,i.sender=t.userData.user_name,i.source=i.source.outlet_name,i.s_id=i.source.id,i.destination=i.destination.outlet_name,i.d_id=i.destination.id,i.no_items=s.length,t.$store.commit("setPurchaseDet",i),C_.post(t.apiSet.singleReorder,i).then(function(t){console.log(t),a.loader=!1,a.$validator.reset(),a.$store.commit("setSnack",{t:"Reorder Successful ",c:"green darken-3"})}).catch(function(t){console.log(t),a.$store.commit("setSnack",{t:"Sorry, Reorder Error ",c:"red darken-3"}),a.loader=!1});for(var n=0,r=s.length;n<r;n++)!function(e,n){s[e].reorder_invoice=i.reorder_invoice,C_.post(t.apiSet.reorderBuffer,s[e]).then(function(t){a.loader=!1,a.$validator.reset(),a.$store.commit("setSnack",{t:e+1+" Product(s) Ordered. ",c:"green darken-3"})}).catch(function(t){console.log(t),a.loader=!1})}(n);a.$router.push("/reorder_view")}()})},updateProduct:function(){var t=this,e=this;this.loader=!0,this.$validator.validateAll().then(function(a){if(!a)return t.form_error_snack=!0,t.loader=!1,!1;if(!(t.editedIndex>-1))return e.err_snackbar=!0,t.loader=!1,!1;var s=t.editedItem,i=yi()({},s,{index:t.editedIndex});t.$store.commit("editNewPurchase",i),t.loader=!1,e.ed_snackbar=!0,t.dialog=!1})},resetPurchase:function(){this.$store.commit("clearPurchase"),this.reorder_det.source="",this.reorder_det.destination=""},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Product?",message:"Are you sure you want to Delete Product?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){this.$store.commit("delPurchase",t)}},components:{}},S_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.pull_dialog,callback:function(e){t.pull_dialog=e},expression:"pull_dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Pull Minimum")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.pull_dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{box:"",label:"Enter Minimum Quantity to pull"},model:{value:t.min_quantity,callback:function(e){t.min_quantity=e},expression:"min_quantity"}})],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"secondary elevation-4",nativeOn:{click:function(e){return t.fetchMin(e)}}},[t._v("Pull less than "+t._s(t.min_quantity)+"  "),a("v-icon",{attrs:{right:""}},[t._v("mdi-arrow-down")])],1)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"900px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Reorder Product "),a("v-btn",{attrs:{flat:"",color:"secondary"}},[t._v(t._s(t.editedItem.product_name)+" #"+t._s(t.editedItem.id))])],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[t._v("\n                Product Info\n                "),a("v-container",{staticClass:"mb-4",attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"",label:"Product name",required:"","data-vv-name":"name","error-messages":t.errors.collect("name")},model:{value:t.editedItem.product_name,callback:function(e){t.$set(t.editedItem,"product_name",e)},expression:"editedItem.product_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"Category",disabled:"",hint:"Category is pre-defined","persistent-hint":"",required:"","offset-y":""},model:{value:t.editedItem.category,callback:function(e){t.$set(t.editedItem,"category",e)},expression:"editedItem.category"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"Manufacturer"},model:{value:t.editedItem.manufacturer,callback:function(e){t.$set(t.editedItem,"manufacturer",e)},expression:"editedItem.manufacturer"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:DD/MM/YYYY",expression:"'required|date_format:DD/MM/YYYY'"}],attrs:{box:"",label:"Expiry(dd/mm/yyyy)",required:"","data-vv-name":"expiry","error-messages":t.errors.collect("expiry")},model:{value:t.editedItem.expiry,callback:function(e){t.$set(t.editedItem,"expiry",e)},expression:"editedItem.expiry"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"BarCode",hint:"If present on product","persistent-hint":""},model:{value:t.editedItem.barcode,callback:function(e){t.$set(t.editedItem,"barcode",e)},expression:"editedItem.barcode"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-btn",{attrs:{color:"secondary"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-barcode")]),t._v(" Generate Barcode")],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{box:"",label:"Batch No.",type:"number"},model:{value:t.editedItem.batch_no,callback:function(e){t.$set(t.editedItem,"batch_no",e)},expression:"editedItem.batch_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{box:"",label:"Min No.",type:"number"},model:{value:t.editedItem.min_no,callback:function(e){t.$set(t.editedItem,"min_no",e)},expression:"editedItem.min_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{box:"",label:"Re-order No.",type:"number"},model:{value:t.editedItem.reorder_no,callback:function(e){t.$set(t.editedItem,"reorder_no",e)},expression:"editedItem.reorder_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{box:"",label:"Max No.",type:"number"},model:{value:t.editedItem.max_no,callback:function(e){t.$set(t.editedItem,"max_no",e)},expression:"editedItem.max_no"}})],1)],1)],1),t._v(" "),a("v-toolbar",{staticClass:"mb-2"},[a("v-flex",{staticClass:"ml-2",attrs:{sm3:"",md3:""}},[a("span",{staticClass:"subheading secondary--text"},[t._v("Purchase Quantity:")])]),t._v(" "),a("v-flex",{staticClass:"pt-2",attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"Purchase Quantity",box:"",type:"number"},model:{value:t.editedItem.purr_quantity,callback:function(e){t.$set(t.editedItem,"purr_quantity",e)},expression:"editedItem.purr_quantity"}})],1)],1),t._v("\n\n\n\n\n                Wholesale Pricing\n                "),a("v-container",{staticClass:"mb-4",attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:["Pack","Box","Carton"],box:"",label:"Wholesale Unit",hint:"Eg. Pack","persistent-hint":"",required:"","offset-y":"","data-vv-name":"ws_unit","error-messages":t.errors.collect("ws_unit")},model:{value:t.editedItem.ws_unit,callback:function(e){t.$set(t.editedItem,"ws_unit",e)},expression:"editedItem.ws_unit"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Quantity",box:"",type:"number","data-vv-name":"ws_quantity","error-messages":t.errors.collect("ws_quantity")},model:{value:t.editedItem.ws_quantity,callback:function(e){t.$set(t.editedItem,"ws_quantity",e)},expression:"editedItem.ws_quantity"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal|required",expression:"'decimal|required'"}],attrs:{label:t.unit_cost,box:"",type:"number","data-vv-name":"ws_cost","error-messages":t.errors.collect("ws_cost")},model:{value:t.editedItem.ws_unit_cost,callback:function(e){t.$set(t.editedItem,"ws_unit_cost",e)},expression:"editedItem.ws_unit_cost"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Discount",box:"",suffix:"%","data-vv-name":"ws_discount","error-messages":t.errors.collect("ws_discount")},model:{value:t.editedItem.ws_discount,callback:function(e){t.$set(t.editedItem,"ws_discount",e)},expression:"editedItem.ws_discount"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal|required",expression:"'decimal|required'"}],attrs:{label:"SubTotal(GH¢)",box:"",readonly:"",type:"number","data-vv-name":"ws_subtotal","error-messages":t.errors.collect("ws_subtotal")},model:{value:t.editedItem.ws_subtotal,callback:function(e){t.$set(t.editedItem,"ws_subtotal",e)},expression:"editedItem.ws_subtotal"}})],1)],1)],1),t._v("\n                Retail Pricing\n                "),a("v-container",{attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:["Pack","Box","Carton"],box:"",label:"Retail Unit",hint:"Eg. Pack","persistent-hint":"",required:"","offset-y":"","data-vv-name":"rt_unit","error-messages":t.errors.collect("rt_unit")},model:{value:t.editedItem.rt_unit,callback:function(e){t.$set(t.editedItem,"rt_unit",e)},expression:"editedItem.rt_unit"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Pack Size",box:"",type:"number","data-vv-name":"rt_pack_size","error-messages":t.errors.collect("rt_pack_size")},model:{value:t.editedItem.rt_pack_size,callback:function(e){t.$set(t.editedItem,"rt_pack_size",e)},expression:"editedItem.rt_pack_size"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Retail QTY",box:"",type:"number",readonly:"","data-vv-name":"rt_quantity","error-messages":t.errors.collect("rt_quantity")},model:{value:t.editedItem.rt_quantity,callback:function(e){t.$set(t.editedItem,"rt_quantity",e)},expression:"editedItem.rt_quantity"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal:2|required",expression:"'decimal:2|required'"}],attrs:{label:t.runit_cost,box:"",type:"number","data-vv-name":"rt_cost",readonly:"","error-messages":t.errors.collect("rt_cost")},model:{value:t.editedItem.rt_unit_cost,callback:function(e){t.$set(t.editedItem,"rt_unit_cost",e)},expression:"editedItem.rt_unit_cost"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal:2|required",expression:"'decimal:2|required'"}],attrs:{label:"Markup",box:"",type:"number","data-vv-name":"markup","error-messages":t.errors.collect("markup")},model:{value:t.editedItem.markup,callback:function(e){t.$set(t.editedItem,"markup",e)},expression:"editedItem.markup"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal|required",expression:"'decimal|required'"}],attrs:{label:"Selling Price",box:"",readonly:"",type:"number","data-vv-name":"selling_price","error-messages":t.errors.collect("selling_price")},model:{value:t.editedItem.selling_price,callback:function(e){t.$set(t.editedItem,"selling_price",e)},expression:"editedItem.selling_price"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal|required",expression:"'decimal|required'"}],attrs:{label:"Subtotal",box:"",type:"number","data-vv-name":"subtotal","error-messages":t.errors.collect("subtotal"),readonly:""},model:{value:t.editedItem.subtotal,callback:function(e){t.$set(t.editedItem,"subtotal",e)},expression:"editedItem.subtotal"}})],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"grey darken-1"},nativeOn:{click:function(e){t.dialog=!1}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary darken-1",loading:t.loader,disabled:t.loader},on:{click:t.updateProduct}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-library-plus\n                    ")]),t._v("Update Product")],1)],1)],1)],1),t._v(" "),a("v-card",{attrs:{color:"primary pa-2 round_end"}},[a("v-layout",{attrs:{row:"","align-center":""}},[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mb-2 ml-4",attrs:{slot:"activator",dark:"",color:"orange darken-3",loader:t.loader,disable:t.loader},on:{click:t.autoFetch},slot:"activator"},[a("v-icon",{attrs:{left:""}},[t._v("mdi-arrow-collapse")]),t._v("Auto Pull Low Stock")],1),t._v(" "),a("span",[t._v("click to retrieve all minimum quantity products.")])],1),t._v(" "),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",dark:"",color:"grey darken-3",loader:t.loader,disable:t.loader},on:{click:t.pullMin},slot:"activator"},[a("v-icon",{attrs:{left:""}},[t._v("mdi-arrow-down")]),t._v("Pull Minimum ")],1),t._v(" "),a("span",[t._v("Click to pull all products that have minimum quantities.")])],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{sm8:"",md8:""}},[a("set-reorder")],1),t._v(" "),a("v-flex",{attrs:{sm2:"",md2:""}},[a("v-btn",{attrs:{outline:"",color:"grey"},on:{click:t.resetPurchase}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-refresh")]),t._v("Reset")],1)],1),t._v(" "),a("v-flex",{attrs:{sm2:"",md2:""}},[a("v-btn",{attrs:{dark:"",color:"secondary"},on:{click:function(e){return t.$router.push("/inv_shortage_view")}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-view-carousel")]),t._v("Preview")],1)],1),t._v(" "),a("v-flex",{attrs:{sm2:"",md2:""}},[a("v-btn",{attrs:{dark:"",color:"green darken-3",loader:t.loader,disable:t.loader},on:{click:function(e){return t.$router.push("/inv_shortage_view")}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-redo-variant")]),t._v("Generate Reorder")],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("Reorder[ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.getNewPurchase.length))]),t._v(" ]\n                "),a("small",[t._v("\n                    from "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.reorder_det.source.outlet_name))]),t._v("\n                    to "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.reorder_det.destination.outlet_name))])])]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{class:{pulse:t.search},attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:"",clearable:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-5",attrs:{headers:t.purchase_head,items:t.getNewPurchase,search:t.search,loading:t.fetchup,class:"elevation-5"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.product_name))]),t._v(" "),a("td",[t._v(t._s(e.item.batch_no))]),t._v(" "),a("td",[t._v(t._s(e.item.available_qty))]),t._v(" "),a("td",[t._v(t._s(e.item.expiry))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"red--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.deleteItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-delete\n                    ")]),t._v(" Delete")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:t.snackColor},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:"secondary"},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},q_=[],D_={render:S_,staticRenderFns:q_},$_=D_,P_=a("VU/8"),T_=vt,E_=P_(I_,$_,!1,T_,"data-v-4add526e",null),N_=E_.exports,A_=a("mtWM"),O_={name:"inv_transfer",data:function(){return{due:!1,snack:!1,snackText:"",snackColor:"green",outlet:{outlet_name:"Warehouse",id:1},outlet_set:[],supplier:"Unknown",loading:!1,fetchup:!1,loader:!1,items:[],dialog:!1,inv_dialog:!1,total:"",search:null,searchup:null,select:null,outlet_name:"",states:[{name:"Toilet Rolls",icon:"mdi-chart-bubble",category:"Toiletries"}],reorder_det:{source:"",destination:"",reorder_date:new Date,status:0},purchase_head:[{text:"Id",align:"left",value:"id"},{text:"Product",value:"product_name",sortable:!1},{text:"Batch No.",value:"batch_no"},{text:"Reorder Quantity",value:"reorder_qty"},{text:"C-Price(Ghc)",value:"purchase_cost"},{text:"S-Price(Ghc)",value:"purchase_selling"},{text:"Expiry",value:"expiry"},{text:"",value:"name",align:"centre",sortable:!1}],new_purchase:[],raw_inventory:[],editedIndex:-1,editedItem:{id:"1",product_name:"1",category:"1",manufacturer:"1",expiry:"02/02/2001",product_type:"1",ws_quantity:"1",rt_quantity:"1",barcode:"1",rt_unit:"1",ws_unit:"1",ws_discount:0,rt_discount:0,ws_unit_cost:"1",rt_unit_cost:"1",markup:"1",selling_price:"1",subtotal:"1",min_no:"1",batch_no:"1",max_no:"1",rt_pack_size:"3",ws_subtotal:"80",reorder_no:"1",carriage:"1",vat:"1",sup_invoice:"1",payment_mode:"1",sup_discount:0},defaultItem:{id:"",product_name:"",category:"",manufacturer:"",expiry:"",product_type:"",barcode:""},date:"",menu:!1,purrSet:0,side_items:[{icon:"mdi-cart",text:"Reorders",link:"/requisitions"}]}},computed:{purOut:function(){return this.purchase_det.outlet},ws_sub:function(){return this.editedItem.ws_subtotal},ws_dis:function(){return this.editedItem.ws_discount},ws_cost:function(){return this.editedItem.ws_unit_cost},ws_quan:function(){return this.editedItem.ws_quantity},rt_pack:function(){return this.editedItem.rt_pack_size},rt_quan:function(){return this.editedItem.rt_quantity},mark_up:function(){return this.editedItem.markup},rt_selling:function(){return this.editedItem.selling_price},apiSet:function(){return this.$store.getters.getApi},unit_cost:function(){return this.editedItem.ws_unit+" Cost(Ghc)"},runit_cost:function(){return this.editedItem.rt_unit+" Cost(Ghc)"},prodData:function(){return this.$store.getters.getNewPurchase},getNewPurchase:function(){for(var t=[],e=this.$store.getters.getNewPurchase,a=0,s=e.length;a<s;a++)t.push({id:e[a].id,num:a,product_name:e[a].product_name,batch_no:e[a].batch_no,purchase_qty:e[a].purr_quantity+" ("+e[a].ws_unit+") / "+e[a].purr_rt_quantity+" ("+e[a].rt_unit+")",purchase_cost:e[a].ws_unit_cost,purchase_selling:e[a].selling_price,expiry:e[a].expiry});return t}},watch:{search:function(t){t&&t!==this.select&&this.querySelections(t)},ws_sub:function(){this.costComp()},ws_dis:function(){this.costComp()},payMode:function(t){this.due="Credit"===t},ws_cost:function(){this.costComp(),this.rtCostComp(),this.markupComp(),this.sellComp()},ws_quan:function(){this.costComp(),this.markupComp(),this.sellComp(),this.rtCostComp()},rt_quan:function(){this.rtCostComp(),this.markupComp(),this.sellComp()},rt_pack:function(){this.rtCostComp()},mark_up:function(){this.markupComp()},rt_selling:function(){this.sellComp()}},mounted:function(){this.setSide(),this.outList()},created:function(){this.resetPurchase()},methods:{testSnack:function(){this.$store.commit("setSnack",{t:"Yes Test Works",c:"red darken-3"})},outList:function(){var t=this,e="",a=this.$store.state.user_data.company_id;e=1===a?this.$store.state.config.api.allOutlets:this.$store.state.config.api.companyOutlets+"/"+a,A_.get(e).then(function(e){console.log(e.data.data);for(var a=e.data.data,s=[],i=0,n=a.length;i<n;i++)s.push({outlet_name:a[i].outlet_name,id:a[i].id});t.outlet_set=s}).catch(function(t){console.log(t)})},setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!0)},pullMin:function(){},loadSup:function(){var t=this;A_.get(this.apiSet.allSuppliers).then(function(e){var a=e.data.data;t.$store.commit("setSup",a)}).catch(function(t){console.log(t)})},addSup:function(){this.snack=!0,this.snackColor="green",this.snackText="Reorder Sucessful"},markupComp:function(){var t=0;t=this.editedItem.rt_unit_cost*this.editedItem.markup,this.editedItem.selling_price=t,this.editedItem.subtotal=t*this.editedItem.rt_quantity},costComp:function(){var t=0,e=this.editedItem.ws_quantity*this.editedItem.ws_unit_cost;t=this.editedItem.ws_discount?e*(1-.01*this.editedItem.ws_discount):e,this.editedItem.ws_subtotal=t},rtCostComp:function(){var t=0,e=this.editedItem.rt_pack_size*this.editedItem.ws_quantity;this.editedItem.rt_quantity=e,e&&(t=this.editedItem.ws_subtotal/e),this.editedItem.rt_unit_cost=t},sellComp:function(){var t=0;t=this.editedItem.selling_price/this.editedItem.rt_unit_cost,this.editedItem.markup=t,this.editedItem.subtotal=this.editedItem.selling_price*this.editedItem.rt_quantity},querySelections:function(t){var e=this;this.loading=!0,setTimeout(function(){e.items=e.states.name.filter(function(e){return(e||"").toLowerCase().indexOf((t||"").toLowerCase())>-1}),e.loading=!1},500)},editItem:function(t){this.editedIndex=t.id;var e=this.prodData.filter(function(e){return e.id===t.id});console.log(e[0]),this.editedItem=e[0],this.dialog=!0},submitPurchase:function(){var t=this;this.$validator.validateAll().then(function(e){if(!e)return self.$store.commit("setSnack",{t:"Please fix form errors. ",c:"red darken-3"}),!1;!function(){t.loader=!0;var e=t;t.purrSet=t.purrSub;var a=t.prodData,s=t.reorder_det;gi()(a).reduce(function(t,e){return t+parseInt(e.ws_subtotal)},0);a.purchase_invoice=s.sup_invoice,a.company_id=t.userData.company_id,a.outlet_id=t.$store.getters.getPout,s.company_id=t.userData.company_id,s.outlet_id=t.userData.outlet_id,s.outlet=t.$store.getters.getPout,s.outlet_name=t.outlet_name,s.reorder_invoice=(new Date).toISOString(),s.sender=t.userData.user_name,s.source=s.source.outlet_name,s.s_id=s.source.id,s.destination=s.destination.outlet_name,s.d_id=s.destination.id,s.no_items=a.length,t.$store.commit("setPurchaseDet",s),A_.post(t.apiSet.singleReorder,s).then(function(t){console.log(t),e.loader=!1,e.$validator.reset(),e.$store.commit("setSnack",{t:"Reorder Successful ",c:"green darken-3"})}).catch(function(t){console.log(t),e.$store.commit("setSnack",{t:"Sorry, Reorder Error ",c:"red darken-3"}),e.loader=!1});for(var i=0,n=a.length;i<n;i++)!function(i,n){a[i].reorder_invoice=s.reorder_invoice,A_.post(t.apiSet.reorderBuffer,a[i]).then(function(t){e.loader=!1,e.$validator.reset(),e.$store.commit("setSnack",{t:i+" Products Ordered. ",c:"green darken-3"})}).catch(function(t){console.log(t),e.loader=!1})}(i);e.$router.push("/reorder_view")}()})},updateProduct:function(){var t=this,e=this;this.loader=!0,this.$validator.validateAll().then(function(a){if(!a)return t.form_error_snack=!0,t.loader=!1,!1;if(!(t.editedIndex>-1))return e.err_snackbar=!0,t.loader=!1,!1;var s=t.editedItem,i=yi()({},s,{index:t.editedIndex});t.$store.commit("editNewPurchase",i),t.loader=!1,e.ed_snackbar=!0,t.dialog=!1})},resetPurchase:function(){this.$store.commit("clearPurchase"),this.reorder_det.source="",this.reorder_det.destination=""},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Product?",message:"Are you sure you want to Delete Product?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){this.$store.commit("delPurchase",t)}},components:{}},M_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"900px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Add Product "),a("v-btn",{attrs:{flat:"",color:"secondary"}},[t._v(t._s(t.editedItem.product_name)+" #"+t._s(t.editedItem.id))])],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[t._v("\n                Product Info\n                "),a("v-container",{staticClass:"mb-4",attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"",label:"Product name",required:"","data-vv-name":"name","error-messages":t.errors.collect("name")},model:{value:t.editedItem.product_name,callback:function(e){t.$set(t.editedItem,"product_name",e)},expression:"editedItem.product_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"Category",disabled:"",hint:"Category is pre-defined","persistent-hint":"",required:"","offset-y":""},model:{value:t.editedItem.category,callback:function(e){t.$set(t.editedItem,"category",e)},expression:"editedItem.category"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"",label:"Manufacturer",required:"","data-vv-name":"manufacturer","error-messages":t.errors.collect("manufacturer")},model:{value:t.editedItem.manufacturer,callback:function(e){t.$set(t.editedItem,"manufacturer",e)},expression:"editedItem.manufacturer"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:DD/MM/YYYY",expression:"'required|date_format:DD/MM/YYYY'"}],attrs:{box:"",label:"Expiry(dd/mm/yyyy)",required:"","data-vv-name":"expiry","error-messages":t.errors.collect("expiry")},model:{value:t.editedItem.expiry,callback:function(e){t.$set(t.editedItem,"expiry",e)},expression:"editedItem.expiry"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"",label:"BarCode",required:"","data-vv-name":"barcode","error-messages":t.errors.collect("barcode"),hint:"If present on product","persistent-hint":""},model:{value:t.editedItem.barcode,callback:function(e){t.$set(t.editedItem,"barcode",e)},expression:"editedItem.barcode"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-btn",{attrs:{color:"secondary"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-barcode")]),t._v(" Generate Barcode")],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{box:"",label:"Batch No.",required:"",type:"number","data-vv-name":"batch_no","error-messages":t.errors.collect("batch_no")},model:{value:t.editedItem.batch_no,callback:function(e){t.$set(t.editedItem,"batch_no",e)},expression:"editedItem.batch_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{box:"",label:"Min No.",required:"",type:"number","data-vv-name":"min_no","error-messages":t.errors.collect("min_no")},model:{value:t.editedItem.min_no,callback:function(e){t.$set(t.editedItem,"min_no",e)},expression:"editedItem.min_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{box:"",label:"Re-order No.",required:"",type:"number","data-vv-name":"reorder","error-messages":t.errors.collect("reorder")},model:{value:t.editedItem.reorder_no,callback:function(e){t.$set(t.editedItem,"reorder_no",e)},expression:"editedItem.reorder_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{box:"",label:"Max No.",required:"",type:"number","data-vv-name":"max_no","error-messages":t.errors.collect("max_no")},model:{value:t.editedItem.max_no,callback:function(e){t.$set(t.editedItem,"max_no",e)},expression:"editedItem.max_no"}})],1)],1)],1),t._v(" "),a("v-toolbar",{staticClass:"mb-2"},[a("v-flex",{staticClass:"ml-2",attrs:{sm3:"",md3:""}},[a("span",{staticClass:"subheading secondary--text"},[t._v("Purchase Quantity:")])]),t._v(" "),a("v-flex",{staticClass:"pt-2",attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{label:"Purchase Quantity",box:"",type:"number"},model:{value:t.editedItem.purr_quantity,callback:function(e){t.$set(t.editedItem,"purr_quantity",e)},expression:"editedItem.purr_quantity"}})],1)],1),t._v("\n\n\n\n\n                Wholesale Pricing\n                "),a("v-container",{staticClass:"mb-4",attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:["Pack","Box","Carton"],box:"",label:"Wholesale Unit",hint:"Eg. Pack","persistent-hint":"",required:"","offset-y":"","data-vv-name":"ws_unit","error-messages":t.errors.collect("ws_unit")},model:{value:t.editedItem.ws_unit,callback:function(e){t.$set(t.editedItem,"ws_unit",e)},expression:"editedItem.ws_unit"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Quantity",box:"",type:"number","data-vv-name":"ws_quantity","error-messages":t.errors.collect("ws_quantity")},model:{value:t.editedItem.ws_quantity,callback:function(e){t.$set(t.editedItem,"ws_quantity",e)},expression:"editedItem.ws_quantity"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal|required",expression:"'decimal|required'"}],attrs:{label:t.unit_cost,box:"",type:"number","data-vv-name":"ws_cost","error-messages":t.errors.collect("ws_cost")},model:{value:t.editedItem.ws_unit_cost,callback:function(e){t.$set(t.editedItem,"ws_unit_cost",e)},expression:"editedItem.ws_unit_cost"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Discount",box:"",suffix:"%","data-vv-name":"ws_discount","error-messages":t.errors.collect("ws_discount")},model:{value:t.editedItem.ws_discount,callback:function(e){t.$set(t.editedItem,"ws_discount",e)},expression:"editedItem.ws_discount"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal|required",expression:"'decimal|required'"}],attrs:{label:"SubTotal(GH¢)",box:"",readonly:"",type:"number","data-vv-name":"ws_subtotal","error-messages":t.errors.collect("ws_subtotal")},model:{value:t.editedItem.ws_subtotal,callback:function(e){t.$set(t.editedItem,"ws_subtotal",e)},expression:"editedItem.ws_subtotal"}})],1)],1)],1),t._v("\n                Retail Pricing\n                "),a("v-container",{attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:["Pack","Box","Carton"],box:"",label:"Retail Unit",hint:"Eg. Pack","persistent-hint":"",required:"","offset-y":"","data-vv-name":"rt_unit","error-messages":t.errors.collect("rt_unit")},model:{value:t.editedItem.rt_unit,callback:function(e){t.$set(t.editedItem,"rt_unit",e)},expression:"editedItem.rt_unit"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Pack Size",box:"",type:"number","data-vv-name":"rt_pack_size","error-messages":t.errors.collect("rt_pack_size")},model:{value:t.editedItem.rt_pack_size,callback:function(e){t.$set(t.editedItem,"rt_pack_size",e)},expression:"editedItem.rt_pack_size"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Retail QTY",box:"",type:"number",readonly:"","data-vv-name":"rt_quantity","error-messages":t.errors.collect("rt_quantity")},model:{value:t.editedItem.rt_quantity,callback:function(e){t.$set(t.editedItem,"rt_quantity",e)},expression:"editedItem.rt_quantity"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal:2|required",expression:"'decimal:2|required'"}],attrs:{label:t.runit_cost,box:"",type:"number","data-vv-name":"rt_cost",readonly:"","error-messages":t.errors.collect("rt_cost")},model:{value:t.editedItem.rt_unit_cost,callback:function(e){t.$set(t.editedItem,"rt_unit_cost",e)},expression:"editedItem.rt_unit_cost"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal:2|required",expression:"'decimal:2|required'"}],attrs:{label:"Markup",box:"",type:"number","data-vv-name":"markup","error-messages":t.errors.collect("markup")},model:{value:t.editedItem.markup,callback:function(e){t.$set(t.editedItem,"markup",e)},expression:"editedItem.markup"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal|required",expression:"'decimal|required'"}],attrs:{label:"Selling Price",box:"",readonly:"",type:"number","data-vv-name":"selling_price","error-messages":t.errors.collect("selling_price")},model:{value:t.editedItem.selling_price,callback:function(e){t.$set(t.editedItem,"selling_price",e)},expression:"editedItem.selling_price"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal|required",expression:"'decimal|required'"}],attrs:{label:"Subtotal",box:"",type:"number","data-vv-name":"subtotal","error-messages":t.errors.collect("subtotal"),readonly:""},model:{value:t.editedItem.subtotal,callback:function(e){t.$set(t.editedItem,"subtotal",e)},expression:"editedItem.subtotal"}})],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"grey darken-1"},nativeOn:{click:function(e){t.dialog=!1}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary darken-1",loading:t.loader,disabled:t.loader},on:{click:t.updateProduct}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-library-plus\n                    ")]),t._v("Update Product")],1)],1)],1)],1),t._v(" "),a("v-card",{attrs:{color:"primary pa-2 round_end"}},[a("div",{staticClass:"white--text"},[t._v("Please Enter Reorder Details")]),t._v(" "),a("v-layout",{attrs:{row:"","align-center":""}},[a("v-flex",{attrs:{sm3:""}},[a("v-select",{staticClass:"mt-2",attrs:{color:"secondary","prepend-icon":"mdi-arrow-right","offset-y":"",items:t.outlet_set,"item-text":"outlet_name","item-value":"id",label:"Select Source",solo:"","return-object":""},model:{value:t.reorder_det.source,callback:function(e){t.$set(t.reorder_det,"source",e)},expression:"reorder_det.source"}})],1),t._v(" "),a("v-divider",{staticClass:"ml-2",attrs:{vertical:""}}),t._v(" "),a("v-flex",{attrs:{sm3:""}},[a("v-select",{staticClass:"mt-2",attrs:{color:"secondary","prepend-icon":"mdi-arrow-right","offset-y":"",items:t.outlet_set,"item-text":"outlet_name","item-value":"id",label:"Select Destination",solo:"","return-object":""},model:{value:t.reorder_det.destination,callback:function(e){t.$set(t.reorder_det,"destination",e)},expression:"reorder_det.destination"}})],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-flex",[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mb-4",attrs:{slot:"activator",dark:"",color:"orange darken-3",loader:t.loader,disable:t.loader},on:{click:t.pullMin},slot:"activator"},[a("v-icon",{attrs:{left:""}},[t._v("mdi-arrow-collapse")]),t._v("Auto Request")],1),t._v(" "),a("span",[t._v("click to retrieve all minimum quantity products.")])],1)],1),t._v(" "),a("v-flex",[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mb-4",attrs:{slot:"activator",dark:"",color:"grey darken-3",loader:t.loader,disable:t.loader},on:{click:t.testSnack},slot:"activator"},[a("v-icon",{attrs:{left:""}},[t._v("mdi-arrow-down")]),t._v("Pull Minimum ")],1),t._v(" "),a("span",[t._v("Click to pull all products that have minimum quantities.")])],1)],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{sm8:"",md8:""}},[a("set-reorder")],1),t._v(" "),a("v-flex",{attrs:{sm2:"",md2:""}},[a("v-btn",{attrs:{outline:"",color:"grey"},on:{click:t.resetPurchase}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-refresh")]),t._v("Reset")],1)],1),t._v(" "),a("v-flex",{attrs:{sm2:"",md2:""}},[a("v-btn",{attrs:{dark:"",color:"secondary"},on:{click:function(e){return t.$router.push("/reorder_view")}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-view-carousel")]),t._v("Preview")],1)],1),t._v(" "),a("v-flex",{attrs:{sm2:"",md2:""}},[a("v-btn",{attrs:{dark:"",color:"green darken-3",loader:t.loader,disable:t.loader},on:{click:t.submitPurchase}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-redo-variant")]),t._v("Send Reorder")],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("Reorder[ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.getNewPurchase.length))]),t._v(" ]\n                "),a("small",[t._v("\n                    from "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.reorder_det.source.outlet_name))]),t._v("\n                    to "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.reorder_det.destination.outlet_name))])])]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{class:{pulse:t.search},attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:"",clearable:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-5",attrs:{headers:t.purchase_head,items:t.getNewPurchase,search:t.search,loading:t.fetchup,class:"elevation-5"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.product_name))]),t._v(" "),a("td",[t._v(t._s(e.item.batch_no))]),t._v(" "),a("td",[t._v(t._s(e.item.purchase_qty))]),t._v(" "),a("td",[t._v(t._s(e.item.purchase_cost))]),t._v(" "),a("td",[t._v(t._s(e.item.purchase_selling))]),t._v(" "),a("td",[t._v(t._s(e.item.expiry))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"mr-2 teal--text cpoint",attrs:{flat:"",small:""},on:{click:function(a){return t.editItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-pencil\n                    ")]),t._v(" Edit")],1),t._v(" "),a("v-btn",{staticClass:"red--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.deleteItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-delete\n                    ")]),t._v(" Delete")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:t.snackColor},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:"secondary"},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},R_=[],j_={render:M_,staticRenderFns:R_},Y_=j_,F_=a("VU/8"),U_=_t,z_=F_(O_,Y_,!1,U_,"data-v-692d67ae",null),V_=z_.exports,B_=a("mtWM"),G_={name:"bank_account",data:function(){return{snack:!1,snackText:"",snackColor:"",fetchup:!1,loader:!1,edit_dialog:!1,bank_data:{value:!1,id:1,bank_name:"",account_name:"",account_type:"",account_num:0,close_bal:0,open_bal:0,added_by:"",opening_date:""},search:"",headers:[{text:"Id",align:"left",sortable:!1,value:"id",class:"subheading"},{text:"Bank Name",align:"left",value:"bank_name",class:"subheading"},{text:"Account Name",align:"left",value:"acc_name",class:"subheading"},{text:"Type",align:"left",value:"acc_type",class:"subheading"},{text:"Opening Bal",value:"opening_bal",class:"subheading"},{text:"Closing Bal",value:"closing_bal",class:"subheading"},{text:"By",Value:"added_by",class:"subheading"},{text:"Date",Value:"date",class:"subheading"},{text:"",value:"name",align:"centre",sortable:!1}],dialog:!1,total:"",outlet:"Warehouse",editedIndex:-1,editedItem:{value:!1,id:123454,bank_name:"Ecobank",account_name:"GOKALS LTD",account_type:"SAVINGS",account_num:29283938,close_bal:6,open_bal:24,added_by:"aximilli32",opening_date:"03/04/2018"},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0},bank_account:[]}},mounted:function(){this.loadBankAccounts()},watch:{dialog:function(t){t||this.close()}},computed:{apiSet:function(){return this.$store.getters.getApi}},methods:{loadBankAccounts:function(){var t=this;this.fetchup=!0;var e=this;B_.get(this.apiSet.allBankAccounts).then(function(t){console.log(t.data.data);var a=t.data.data;e.bank_account=a,e.total=a.length,e.fetchup=!1}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},onAddAccount:function(){var t=this,e=this;this.$validator.validateAll().then(function(a){if(!a)return t.snack=!0,t.snackText="Sorry Correct Errors on form",t.snackColor="red",t.reset(),!1;t.loader=!0;var s=t.bank_data;s.added_by=t.userData.user_name,s.cid=t.userData.company_id,s.oid=t.userData.outlet_id,B_.post(t.apiSet.singleBankAccount,s).then(function(t){e.closeup(),e.snack=!0,e.snackText="Bank Account Successfully Added",e.snackColor="green",e.loadBankAccounts(),e.loader=!1}).catch(function(t){e.loader=!1,e.er_snackbar=!0})})},onUpdateAccount:function(){var t=this;if(this.formError=!1,this.editedIndex>-1){wi()(this.bank_account[this.editedIndex],this.editedItem);var e=this.editedItem.id;this.loader=!0;var a=this.editedItem,s=this.$store.state.config.url;B_.patch(s+"/bankaccount/"+e,a).then(function(e){console.log(e),t.loader=!1,t.snack=!0,t.snackText="Account Successfully Edited",t.snackColor="green",t.edit_dialog=!1,t.$validator.reset(),t.loadBankAccounts()}).catch(function(e){console.log(e),t.loader=!1,t.snack=!0,t.snackText="Error. Please Contact Administrator",t.snackColor="red",t.edit_dialog=!1})}else console.log(this.editedItem),t.snack=!0,t.snackText="Error. Item not Selected.",t.snackColor="red"},closeup:function(){this.dialog=!1,this.bank_data.account_name="",this.bank_data.bank_name="",this.bank_data.account_num="",this.bank_data.open_bal="",this.bank_data.close_bal="",this.bank_data.user_id="",this.bank_data.opening_date="",this.$validator.reset()},reset:function(){this.bank_data.account_name="",this.bank_data.bank_name="",this.bank_data.account_num="",this.bank_data.open_bal=0,this.bank_data.close_bal=0,this.bank_data.user_id="",this.bank_data.opening_date="",this.$validator.reset()},editItem:function(t){this.editedIndex=this.bank_account.indexOf(t),this.editedItem=wi()({},t),this.edit_dialog=!0},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.editedItem=wi()({},t.defaultItem),t.editedIndex=-1},300)},save:function(){this.editedIndex>-1?wi()(this.reconciliation[this.editedIndex],this.editedItem):this.reconciliation.push(this.editedItem),this.close()}}},H_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"secondary",dark:""},slot:"activator"},[a("v-icon",[t._v("mdi-plus")]),t._v("New Account")],1),t._v(" "),a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Add Bank Account")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Bank",box:"","data-vv-name":"bank_name",required:"","error-messages":t.errors.collect("bank_name")},model:{value:t.bank_data.bank_name,callback:function(e){t.$set(t.bank_data,"bank_name",e)},expression:"bank_data.bank_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"offset-y":"",items:["CURRENT","SAVINGS"],label:"Account Type",required:"","data-vv-name":"account_type","error-messages":t.errors.collect("account_type"),box:"",required:""},model:{value:t.bank_data.account_type,callback:function(e){t.$set(t.bank_data,"account_type",e)},expression:"bank_data.account_type"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"",label:"Account Name",placeholder:"eg. Gokals ltd.","data-vv-name":"acc_name","error-messages":t.errors.collect("acc_name")},model:{value:t.bank_data.account_name,callback:function(e){t.$set(t.bank_data,"account_name",e)},expression:"bank_data.account_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"",label:"Account Num",placeholder:"eg. 000116467893","data-vv-name":"acc_num","error-messages":t.errors.collect("acc_num")},model:{value:t.bank_data.account_num,callback:function(e){t.$set(t.bank_data,"account_num",e)},expression:"bank_data.account_num"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"",label:"Opening Bal",required:"","data-vv-name":"opening_bal","error-messages":t.errors.collect("opening_bal")},model:{value:t.bank_data.open_bal,callback:function(e){t.$set(t.bank_data,"open_bal",e)},expression:"bank_data.open_bal"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"",label:"Closing Bal",required:"","data-vv-name":"closing_bal","error-messages":t.errors.collect("closing_bal")},model:{value:t.bank_data.close_bal,callback:function(e){t.$set(t.bank_data,"close_bal",e)},expression:"bank_data.close_bal"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"date_format:DD/MM/YYYY",expression:"'date_format:DD/MM/YYYY'"}],attrs:{box:"",label:"Opening Date",placeholder:"dd/mm/yyyy",mask:"##/##/####",required:"","return-masked-value":"","data-vv-name":"opening_date","error-messages":t.errors.collect("opening_date")},model:{value:t.bank_data.opening_date,callback:function(e){t.$set(t.bank_data,"opening_date",e)},expression:"bank_data.opening_date"}})],1)],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"grey",flat:""},nativeOn:{click:function(e){return t.closeup(e)}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary",loading:t.loader,disabled:t.loader},on:{click:t.onAddAccount}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-library-plus")]),t._v("Add Account")],1)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.edit_dialog,callback:function(e){t.edit_dialog=e},expression:"edit_dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Edit Bank Account")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.edit_dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Bank",box:"","data-vv-name":"ebank_name",required:"","error-messages":t.errors.collect("ebank_name")},model:{value:t.editedItem.bank_name,callback:function(e){t.$set(t.editedItem,"bank_name",e)},expression:"editedItem.bank_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"offset-y":"",items:["CURRENT","SAVINGS"],label:"Account Type",required:"","data-vv-name":"eaccount_type","error-messages":t.errors.collect("eaccount_type"),box:"",required:""},model:{value:t.editedItem.account_type,callback:function(e){t.$set(t.editedItem,"account_type",e)},expression:"editedItem.account_type"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"",label:"Account Name",placeholder:"eg. Gokals ltd.","data-vv-name":"eacc_name","error-messages":t.errors.collect("eacc_name")},model:{value:t.editedItem.account_name,callback:function(e){t.$set(t.editedItem,"account_name",e)},expression:"editedItem.account_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"",label:"Account Num",placeholder:"eg. 000116467893","data-vv-name":"eacc_num","error-messages":t.errors.collect("eacc_num")},model:{value:t.editedItem.account_num,callback:function(e){t.$set(t.editedItem,"account_num",e)},expression:"editedItem.account_num"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Opening Bal",required:"","data-vv-name":"eopening_bal","error-messages":t.errors.collect("eopening_bal")},model:{value:t.editedItem.open_bal,callback:function(e){t.$set(t.editedItem,"open_bal",e)},expression:"editedItem.open_bal"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"",label:"Closing Bal",required:"","data-vv-name":"eclosing_bal","error-messages":t.errors.collect("eclosing_bal")},model:{value:t.editedItem.close_bal,callback:function(e){t.$set(t.editedItem,"close_bal",e)},expression:"editedItem.close_bal"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Opening Date",placeholder:"dd/mm/yyyy",required:"",mask:"##/##/####","return-masked-value":"","data-vv-name":"eopening_date"},model:{value:t.editedItem.opening_date,callback:function(e){t.$set(t.editedItem,"opening_date",e)},expression:"editedItem.opening_date"}})],1)],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"grey",flat:""},nativeOn:{click:function(e){return t.closeup(e)}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary",loading:t.loader,disabled:t.loader},on:{click:t.onUpdateAccount}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-library-plus")]),t._v("Update Account")],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("Bank Accounts [ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ]")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-8",attrs:{headers:t.headers,items:t.bank_account,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.bank_name))]),t._v(" "),a("td",[t._v(t._s(e.item.account_name))]),t._v(" "),a("td",[t._v(t._s(e.item.account_type))]),t._v(" "),a("td",[t._v(t._s(e.item.open_bal))]),t._v(" "),a("td",[t._v(t._s(e.item.close_bal))]),t._v(" "),a("td",[t._v(t._s(e.item.added_by))]),t._v(" "),a("td",[t._v(t._s(e.item.opening_date))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"mr-2 teal--text cpoint",attrs:{flat:"",small:""},on:{click:function(a){return t.editItem(e.item)}}},[a("v-icon",[t._v("\n                           mdi-pencil\n                       ")]),t._v(" Edit")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                   Your search for "'+t._s(t.search)+'" found no results.\n               ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n           "+t._s(t.snackText)+"\n           "),a("v-btn",{attrs:{flat:"",color:t.snackColor},on:{click:function(e){t.snack=!1}}},[t._v("Close")])],1)],1)},L_=[],W_={render:H_,staticRenderFns:L_},Q_=W_,Z_=a("VU/8"),X_=pt,J_=Z_(G_,Q_,!1,X_,"data-v-7fcdc9a7",null),K_=J_.exports,tp=a("mtWM"),ep={name:"bank_transact",$_veeValidate:{validator:"new"},data:function(){return{loader:!1,b:{charges:"23323",bank_name:"Zenith Bank",account_name:"Shop",account_num:"234234234",mode:"",transaction_amount:"343434",transaction_date:"04/05/2018",transaction_type:"ererer"},search:"",headers:[{text:"Bank Name",align:"left",value:"bank_name",class:"subheading"},{text:"Account Name",align:"left",value:"account_name",class:"subheading"},{text:"Mode",value:"mode",class:"subheading"},{text:"Amount (Ghc)",Value:"amount",class:"subheading"},{text:"Date",value:"transaction_date",align:"center",class:"subheading"},{text:"",value:"name",sortable:!1}],dialog:!1,fetchup:!1,snack:!1,total:"",snackText:!1,snackColor:"",editedIndex:-1,editedItem:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0},bank_transact:[]}},computed:{apiSet:function(){return this.$store.getters.getApi},unit_cost:function(){return this.editedItem.ws_unit+" Cost(Ghc)"},runit_cost:function(){return this.editedItem.rt_unit+" Cost(Ghc)"},formTitle:function(){return-1===this.editedIndex?"Add Transaction":"Edit Transaction"},btnTitle:function(){return-1===this.editedIndex?"Add Transactiod":"Update Transaction"}},watch:{search:function(t){t&&t!==this.select&&this.querySelections(t)}},mounted:function(){this.loadTransactions()},methods:{setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!0)},loadTransactions:function(){var t=this,e=this;this.fetchup=!0,tp.get(this.apiSet.allBankTransactions).then(function(a){var s=a.data.data;e.bank_transact=s,e.total=s.length,e.fetchup=!1,t.snack=!0,t.snackText="Data Was Successfully loaded.",t.snackColor="green"}).catch(function(a){console.log(a),e.loader=!1,t.snack=!0,t.snackText="sorry an error occurred.",t.snackColor="red",t.err.push(a)})},onAddTrans:function(){var t=this;if(this.editedIndex>-1)this.updateTransaction();else{var e=this;this.$validator.validateAll().then(function(a){if(!a)return e.snack=!0,e.snackText="Error. Please correct form errors.",e.snackColor="red",!1;t.loader=!0;var s=t.b;tp.post(t.apiSet.singleBankTransaction,s).then(function(t){e.closeup(),e.loadTransactions(),e.loader=!1,e.snack=!0,e.snackText="Success. Data was successfully added.",e.snackColor="green"}).catch(function(t){e.loader=!1,e.snack=!0,e.snackText="Error.Sorry an error occured.",e.snackColor="red"})})}},editItem:function(t){this.editedIndex=this.bank_transact.indexOf(t);var e=this.bank_transact.indexOf(t),a=this.bank_transact[e];this.b=wi()({},a),this.dialog=!0},closeup:function(){this.dialog=!1,this.b.charges="",this.b.bank_name="",this.b.account_name="",this.b.account_num="",this.b.mode="",this.b.transaction_amount="",this.b.transaction_date="",this.b.transaction_type="",this.editedIndex=-1},updateTransaction:function(){var t=this;if(this.editedIndex>-1){wi()(this.bank_transact[this.editedIndex],this.editedItem);var e=this.editedIndex,a=this.bank_transact[e].id;this.loader=!0,console.log(e);var s=this.b;tp.patch(this.apiSet.singleBankTransaction+"/"+a,s).then(function(e){console.log(e),t.loader=!1,t.snack=!0,t.snackText="Update Successful",t.snackColor="green",t.closeup(),t.$validator.reset(),t.loadTransactions()}).catch(function(e){console.log(e),t.loader=!1,this.snack=!0,this.snackText="Network erorr occured.",this.snackColor="red"})}else console.log(this.editedItem)},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Customer",message:"Are you sure you want to Delete Transaction?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.inventory.indexOf(t);this.inventory.splice(s,1),tp.delete(a+"/product/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadProducts(),e.$store.commit("setNetError",!1)}).catch(function(t){e.del_error_snack=!0,e.$store.commit("setNetError",!0),console.log(t)})}}},ap=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("New Transaction")]),t._v(" "),a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v(t._s(t.formTitle))]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.closeup(e)}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Bank",box:"","data-vv-name":"bank_name",required:"","error-messages":t.errors.collect("bank_name")},model:{value:t.b.bank_name,callback:function(e){t.$set(t.b,"bank_name",e)},expression:"b.bank_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"offset-y":"",items:["DEPOSIT","WITHDRAWAL"],label:"Mode",required:"","data-vv-name":"transact_type","error-messages":t.errors.collect("transact_type"),box:"",required:""},model:{value:t.b.mode,callback:function(e){t.$set(t.b,"mode",e)},expression:"b.mode"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"",label:"Account Name",placeholder:"eg. Gokals ltd.","data-vv-name":"acc_name","error-messages":t.errors.collect("acc_name")},model:{value:t.b.account_name,callback:function(e){t.$set(t.b,"account_name",e)},expression:"b.account_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"",label:"Account Num",placeholder:"eg. 000116467893","data-vv-name":"acc_num","error-messages":t.errors.collect("acc_num")},model:{value:t.b.account_num,callback:function(e){t.$set(t.b,"account_num",e)},expression:"b.account_num"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"",label:"Trans. Amt(GHc)",required:"","data-vv-name":"transaction_amt","error-messages":t.errors.collect("transaction_amt")},model:{value:t.b.transaction_amount,callback:function(e){t.$set(t.b,"transaction_amount",e)},expression:"b.transaction_amount"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"",label:"Charges",required:"","data-vv-name":"bank_charge","error-messages":t.errors.collect("bank_charge")},model:{value:t.b.charges,callback:function(e){t.$set(t.b,"charges",e)},expression:"b.charges"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Trans. Date",placeholder:"dd/mm/yyyy",required:"",mask:"##/##/####","return-masked-value":""},model:{value:t.b.transaction_date,callback:function(e){t.$set(t.b,"transaction_date",e)},expression:"b.transaction_date"}})],1)],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},nativeOn:{click:function(e){return t.closeup(e)}}},[t._v("Close")]),t._v(" "),(t.editedItem=-1)?a("v-btn",{attrs:{color:"secondary",loading:t.loader,disabled:t.loader},on:{click:t.onAddTrans}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-library-plus")]),t._v(t._s(t.btnTitle))],1):t._e()],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("Bank Transactions [ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ]")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-8",attrs:{headers:t.headers,items:t.bank_transact,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.bank_name))]),t._v(" "),a("td",[t._v(t._s(e.item.account_name))]),t._v(" "),a("td",[t._v(t._s(e.item.mode))]),t._v(" "),a("td",[t._v(t._s(e.item.transaction_amount))]),t._v(" "),a("td",[t._v(t._s(e.item.transaction_type))]),t._v(" "),a("td",[t._v(t._s(e.item.transaction_date))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"primary--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.editItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-pencil\n                    ")]),t._v(" Edit ")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},sp=[],ip={render:ap,staticRenderFns:sp},np=ip,rp=a("VU/8"),op=ht,lp=rp(ep,np,!1,op,"data-v-4af05011",null),cp=lp.exports,dp=a("mtWM"),up={name:"customer_statements",$_veeValidate:{validator:"new"},data:function(){return{search:"",loader:!1,snack:!1,snackText:"",snackColor:"",pay_loader:!1,fetchup:!1,indiv_total:"",indiv_cus:"",indiv_limit:"",total_debt:"",indiv_invoice:"",indiv_dialog:!1,debt_id:-1,receive_dialog:!1,payup:{pay_comments:"",pay_method:"CASH",cheque_no:"",momo_no:"",visa_bank:""},headers:[{text:"Id",align:"left",sortable:!1,value:"id",class:"subheading"},{text:"Customer Name",align:"left",value:"name",class:"subheading"},{text:"Phone No.",align:"left",value:"phone_no",class:"subheading"},{text:"Credit Amount(Ghc)",value:"credit",align:"left",class:"subheading"},{text:"Purchase Date",value:"pdate",align:"left",class:"subheading"},{text:"",Value:"name",align:"left",class:"subheading"}],indiv_headers:[{text:"No.",align:"left",sortable:!1,value:"num",class:"subheading"},{text:"Product Name",align:"left",value:"product_name",class:"subheading"},{text:"Purchase Date",align:"left",value:"purchase_date",class:"subheading"},{text:"Quantity",value:"quantity",align:"left",class:"subheading"},{text:"Price(Ghc)",value:"price",align:"left",class:"subheading"},{text:"Total Amount(Ghc)",value:"total_amount",align:"left",class:"subheading"}],dialog:!1,outlet:"Warehouse",editedIndex:-1,editedItem:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0},indiv_debt:[],debtors:[]}},watch:{dialog:function(t){t||this.close()}},mounted:function(){this.loadDebtors()},computed:{apiSet:function(){return this.$store.getters.getApi}},methods:{loadDebtors:function(){var t=this,e=this;this.fetchup=!0;var a={oid:this.userData.outlet_id,cid:this.userData.company_id};dp.post(this.apiSet.postDebtors,a).then(function(t){var a=[],i=t.data.data;console.log(i);for(var n=0,r=i.length;n<r;n++)a.push({id:i[n].id,num:n,name:i[n].sale_transaction.customer.firstname+" "+i[n].sale_transaction.customer.lastname,phone_no:i[n].sale_transaction.customer.phone_no,credit_limit:i[n].sale_transaction.customer.credit,credit:i[n].amount_due,invoice_no:i[n].invoice_no,pdate:i[n].date_received});e.debtors=a,e.fetchup=!1,e.total_debt=gi()(a).reduce(function(t,e){return t+parseInt(e.credit)},0),s}).catch(function(a){console.log(a),e.fetchup=!1,t.err.push(a)})},view_det:function(t,e,a,s){var i=this,n=this;this.fetchup=!0,dp.get(this.apiSet.allDebitItems+"/"+t).then(function(t){var i=[],r=t.data.data;console.log(r);for(var o=0,l=r.length;o<l;o++)i.push({id:r[o].id,num:o,product_name:r[o].product.product_name,purchase_date:r[o].purchase_date,quantity:r[o].quantity,invoice_no:r[o].invoice_no,price:r[o].item_selling_price,total_amount:r[o].item_selling_price*r[o].quantity});n.indiv_debt=i,n.indiv_total=i.length,n.indiv_cus=e,n.indiv_limit=a,n.debt_id=s,n.fetchup=!1,n.indiv_dialog=!0}).catch(function(t){console.log(t),n.fetchup=!1,i.err.push(t)})},open_receive_pay:function(t){this.debt_id=t,this.dialog=!1,this.receive_dialog=!0},receive_pay:function(){var t=this,e=this;this.pay_loader=!0,this.$validator.validateAll().then(function(a){if(a){var s=t.debt_id,i={payment_type:t.payup.pay_method,pay_comments:t.payup.pay_comments,cheque_no:t.payup.cheque_no,momo_no:t.payup.momo_no,visa_bank:t.visa_bank,date_received:new Date,_method:"PUT"},n=t.$store.state.config.url;dp.patch(n+"/clear_debt/"+s,i).then(function(t){console.log(t),e.pay_loader=!1,e.snack=!0,e.snackText="Payment Sucessfully received.",e.snackColor="green",e.loadDebtors(),e.closeup()}).catch(function(t){console.log(t),e.pay_loader=!1,e.snack=!0,e.snackText="Database error occurred",e.snackColor="red"})}else t.pay_loader=!1,t.snack=!0,t.snackText="Please enter pay details",t.snackColor="red"})},closeup:function(){this.debt_id=-1,this.dialog=!1,this.indiv_dialog=!1,this.receive_dialog=!1,this.payup.pay_comments="",this.payup.pay_method="CASH",this.payup.cheque_no="",this.payup.momo_no="",this.payup.visa_bank=""}}},mp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:t.receive_dialog,callback:function(e){t.receive_dialog=e},expression:"receive_dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dense:""}},[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Receive Payment")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.closeup(e)}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-flex",{attrs:{sm8:"","offset-sm2":""}},[a("p",[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:["CASH","VISA","CHEQUE","MoMo"],box:"",label:"Payment Method","full-width":"",required:"","offset-y":"","data-vv-name":"pay_method","error-messages":t.errors.collect("pay_method")},model:{value:t.payup.pay_method,callback:function(e){t.$set(t.payup,"pay_method",e)},expression:"payup.pay_method"}})],1),t._v(" "),"CHEQUE"===t.payup.pay_method?a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"","data-vv-name":"cheque","error-messages":t.errors.collect("cheque"),label:"Cheque Number"},model:{value:t.payup.cheque_no,callback:function(e){t.$set(t.payup,"cheque_no",e)},expression:"payup.cheque_no"}})],1):t._e(),t._v(" "),"MoMo"===t.payup.pay_method?a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"","data-vv-name":"momo_no","error-messages":t.errors.collect("momo_no"),label:"Mobile Money Number"},model:{value:t.payup.momo_no,callback:function(e){t.$set(t.payup,"momo_no",e)},expression:"payup.momo_no"}})],1):t._e(),t._v(" "),"VISA"===t.payup.pay_method?a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:["Zenith","Barclays","SG-Bank","Fidelity"],box:"",label:"Select Receiving Bank","full-width":"",required:"","offset-y":"","data-vv-name":"visa_bank","error-messages":t.errors.collect("visa_bank")},model:{value:t.payup.visa_bank,callback:function(e){t.$set(t.payup,"visa_bank",e)},expression:"payup.visa_bank"}})],1):t._e(),t._v(" "),a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-textarea",{attrs:{box:"",name:"input-7-4",label:"Additional Comments/ Note",value:""},model:{value:t.payup.pay_comments,callback:function(e){t.$set(t.payup,"pay_comments",e)},expression:"payup.pay_comments"}})],1),t._v(" "),a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-btn",{staticClass:"secondary",attrs:{loading:t.pay_loader,large:""},on:{click:t.receive_pay}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-cash")]),t._v(" Receive Payment ")],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"1200px"},model:{value:t.indiv_dialog,callback:function(e){t.indiv_dialog=e},expression:"indiv_dialog"}},[a("v-card",{staticClass:"elevation-4"},[a("v-card-title",[a("p",{staticClass:"headline ttext mt-1"},[t._v("[ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.indiv_total))]),t._v(" ] "+t._s(t.indiv_cus)+" | ")]),a("br"),t._v(" "),a("p",{staticClass:"small ttext mt-1"},[t._v("Credit Limit [ "),a("i",{staticClass:"orange--text text--darken-3"},[t._v("Gh¢ "+t._s(t.indiv_limit))]),t._v(" ]")]),a("br"),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.indiv_dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.indiv_headers,items:t.indiv_debt,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.num))]),t._v(" "),a("td",[t._v(t._s(e.item.product_name))]),t._v(" "),a("td",[t._v(t._s(e.item.purchase_date))]),t._v(" "),a("td",[t._v(t._s(e.item.quantity))]),t._v(" "),a("td",[t._v(t._s(e.item.price))]),t._v(" "),a("td",[t._v(t._s(e.item.total_amount))])]}}])},[t._v(" "),a("template",{slot:"no-data"},[a("v-alert",{attrs:{value:!0,color:"primary",icon:"add"}},[t._v("\n                        Data table Empty.\n                    ")])],1),t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                    Your search for "'+t._s(t.search)+'" found no results.\n                ')])],2),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"grey darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{color:"primary darken-1",dark:""},nativeOn:{click:function(t){}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-printer")]),t._v("Print")],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("Customer Statements\n                ")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.debtors,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.name))]),t._v(" "),a("td",[t._v(t._s(e.item.phone_no))]),t._v(" "),a("td",[t._v(t._s(e.item.credit))]),t._v(" "),a("td",[t._v(t._s(e.item.pdate))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"mr-2 secondary--text cpoint",attrs:{flat:"",small:""},on:{click:function(a){return t.view_det(e.item.invoice_no,e.item.name,e.item.credit_limit,e.item.id)}}},[a("v-icon",[t._v("mdi-pencil")]),t._v("\n                        View Details\n                    ")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1)],1)},vp=[],_p={render:mp,staticRenderFns:vp},pp=_p,hp=a("VU/8"),fp=ft,bp=hp(up,pp,!1,fp,"data-v-4724cca7",null),gp=bp.exports,xp=a("mtWM"),yp={name:"add_debtor",props:["add_debtor"],data:function(){return{total:0,fetchup:!1,debit_amt:0,purchase_date:"",dialog:!1,edit_dialog:!1,loader:!1,title:"Mr.",firstname:"",lastname:"",phone:"",email:"",company:"",address:"",credit:"",discount_percentage:"",discount_amount:"",markup:"",search:"",gender:["Male","Female"],customers:[],editedIndex:-1,editedItem:{id:"",validate:!0,title:"Mr",firstname:"",lastname:"",phone_no:"",email:"",company:"",address:"",credit:"",discount_percentage:"",discount_amount:"",markup:""},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0},side_items:[{icon:"mdi-history",text:"History",link:"/customer_history"}],emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],phoneRules:[function(t){return!!t||"Phone Numver is required"},function(t){return/.+@.+/.test(t)||"Phone Number must be numeric"}]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},apiSet:function(){return this.$store.getters.getApi},formIsValid:function(){return""!==this.title&&""!==this.firstname&&""!==this.lastname&&""!==this.phone&&""!==this.email&&""!==this.company&&""!==this.address&&""!==this.credit&&""!==this.discount_percentage&&""!==this.discount_amount&&""!==this.markup},editFormIsValid:function(){return""!==this.editedItem.firstname&&""!==this.editedItem.lastname&&""!==this.editedItem.phone&&""!==this.editedItem.email&&""!==this.editedItem.company&&""!==this.editedItem.address&&""!==this.editedItem.credit&&""!==this.editedItem.discount_percentage&&""!==this.editedItem.discount_amount&&""!==this.editedItem.markup}},submit_loading:function(){return!0},submitted:function(){return this.$store.state.submittedState},watch:{dialog:function(t){t||this.close()},submitted:function(){this.clearFields(),this.su_snackbar=!0}},mounted:function(){this.loadCustomers(),this.setSide()},methods:{setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!0)},add_deb:function(){Wg.$emit("close_debtor",!0)},loadCustomers:function(){var t=this;this.fetchup=!0;var e=this;xp.get(this.apiSet.allCustomers).then(function(t){for(var a=[],s=t.data.data,i=0,n=s.length;i<n;i++)a.push({id:s[i].id,num:i,title:s[i].title,name:s[i].firstname+" "+s[i].lastname,firstname:s[i].firstname,lastname:s[i].lastname,phone_no:s[i].phone_no,email:s[i].email,company:s[i].company_name,address:s[i].address,credit:s[i].credit,discount_percentage:s[i].discount_percentage,discount_amount:s[i].discount_amount,markup:s[i].markup});e.customers=a,e.total=a.length,e.fetchup=!1,e.$store.commit("setCustomers",a)}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},onAddCustomer:function(){this.loader=!0;var t={title:this.title,firstname:this.firstname,lastname:this.lastname,phone:this.phone,email:this.email,company:this.company,address:this.address,credit:this.credit,discount_percentage:this.discount_percentage,discount_amount:this.discount_amount,markup:this.markup},e=this;xp.post(this.apiSet.singleCustomer,t).then(function(t){console.log(t),e.closeup(),e.su_snackbar=!0,e.loadCustomers(),e.loader=!1}).catch(function(t){console.log(t)})},clearFields:function(){this.title="",this.firstname="",this.lastname="",this.email="",this.phone="",this.company="",this.address="",this.credit="",this.discount_percentage="",this.discount_amount="",this.markup="",this.$store.commit("setSubmitLoadState",!1)},closeup:function(){Wg.$emit("close_debtor",!1),this.clearFields(),this.dialog=!1},close_edit:function(){this.clearFields(),this.edit_dialog=!1},editItem:function(t){this.editedIndex=this.customers.indexOf(t),this.editedItem=wi()({},t),this.edit_dialog=!0},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Customer",message:"Are you sure you want to Delete Customer?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.customers.indexOf(t);this.customers.splice(s,1),xp.delete(a+"/customer/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadCustomers(),e.$store.commit("setNetError",!1)}).catch(function(t){e.$store.commit("setNetError",!0),console.log(t)})},close:function(){var t=this;Wg.$emit("close_debtor",!1),setTimeout(function(){t.editedItem=wi()({},t.defaultItem),t.editedIndex=-1},300)},save:function(){var t=this;if(this.formError=!1,this.editedIndex>-1){wi()(this.customers[this.editedIndex],this.editedItem);var e=this.editedItem.id;this.loader=!0;var a={title:this.editedItem.title,firstname:this.editedItem.firstname,lastname:this.editedItem.lastname,phone_no:this.editedItem.phone_no,email:this.editedItem.email,company_name:this.editedItem.company,address:this.editedItem.address,credit:this.editedItem.credit,discount_percentage:this.editedItem.discount_percentage,discount_amount:this.editedItem.discount_amount,markup:this.editedItem.markup},s=this.$store.state.config.url;xp.patch(s+"/customer/"+e,a).then(function(e){console.log(e),t.loader=!1,t.ed_snackbar=!0,t.edit_dialog=!1,t.loadCustomers(),t.$store.commit("setNetError",!1)}).catch(function(e){console.log(e),t.loader=!1,this.$store.commit("setNetError",!0)})}else console.log(this.editedItem);this.close()}}},kp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{staticClass:"mb-2",attrs:{color:"secondary",dark:"",small:""},on:{click:t.add_deb}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" Add Debtor ")],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.add_debtor,callback:function(e){t.add_debtor=e},expression:"add_debtor"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Add Debtor")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.closeup(e)}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-select",{attrs:{items:t.gender,box:"",label:"Please Select Customer"},model:{value:t.debit_customer,callback:function(e){t.debit_customer=e},expression:"debit_customer"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md6:"",sm6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Debit Amount(Ghc)",type:"number",box:"","data-vv-name":"debit_amt","error-messages":t.errors.collect("debit_amt")},model:{value:t.debit_amt,callback:function(e){t.debit_amt=e},expression:"debit_amt"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",md6:"",sm6:""}},[a("v-text-field",{attrs:{box:"",label:"Purchase Date",placeholder:"dd/mm/yyyy",required:"",mask:"##/##/####","return-masked-value":""},model:{value:t.purchase_date,callback:function(e){t.purchase_date=e},expression:"purchase_date"}})],1)],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},nativeOn:{click:function(e){return t.closeup(e)}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary",loading:t.loader,disabled:t.loader},on:{click:t.onAddCustomer}},[t._v("Save")])],1)],1)],1)],1)},wp=[],Cp={render:kp,staticRenderFns:wp},Ip=Cp,Sp=a("VU/8"),qp=bt,Dp=Sp(yp,Ip,!1,qp,"data-v-9b518d74",null),$p=Dp.exports,Pp=a("mtWM"),Tp={name:"customer_statements",$_veeValidate:{validator:"new"},data:function(){return{search:"",loader:!1,snack:!1,add_debtor:!1,snackText:"",snackColor:"",pay_loader:!1,fetchup:!1,indiv_search:"",indiv_total:"",indiv_name:"",indiv_rem:"",total_debt:"",indiv_invoice:"",indiv_dialog:!1,debt_id:-1,debt_name:"",debt_amount:0,receive_dialog:!1,payup:{payment_amount:0,pay_comments:"",pay_method:"CASH",cheque_no:"",momo_no:"",visa_bank:""},headers:[{text:"Id",align:"left",sortable:!1,value:"id",class:"subheading"},{text:"Customer Name",align:"left",value:"name",class:"subheading"},{text:"Phone No.",align:"left",value:"phone_no",class:"subheading"},{text:"Credit Amount(Ghc)",value:"credit",align:"left",class:"subheading"},{text:"Purchase Date",value:"pdate",align:"left",class:"subheading"},{text:"",Value:"name",align:"left",class:"subheading"}],indiv_headers:[{text:"Id",align:"left",sortable:!1,value:"id"},{text:"Balance Before",align:"left",value:"bal_before"},{text:"Payment Amount",value:"payment_amount"},{text:"Balance Remaining",value:"bal_remaining"},{text:"Mode",value:"payment_type"},{text:"Payment Date",value:"payment_date"},{text:"Paid By",value:"paid_by"}],dialog:!1,outlet:"Warehouse",editedIndex:-1,editedItem:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0},indiv_debt:[],debtors:[]}},watch:{dialog:function(t){t||this.close()}},mounted:function(){var t=this;this.loadDebtors(),Wg.$on("close_debtor",function(e){t.add_debtor=e})},computed:{apiSet:function(){return this.$store.getters.getApi}},methods:{loadDebtors:function(){var t=this,e=this;this.fetchup=!0;var a={oid:this.userData.outlet_id,cid:this.userData.company_id};Pp.post(this.apiSet.allPostCusDebtors,a).then(function(t){var a=[],s=t.data.data;console.log(s);for(var i=0,n=s.length;i<n;i++)a.push({id:s[i].id,num:i,name:s[i].firstname+" "+s[i].lastname,phone_no:s[i].phone_no,credit_limit:s[i].credit,credit_amount:s[i].credit_amount,purchase_date:s[i].purchase_date});e.debtors=a,e.fetchup=!1,e.total_debt=gi()(a).reduce(function(t,e){return t+parseFloat(e.credit_amount)},0)}).catch(function(a){console.log(a),e.fetchup=!1,t.err.push(a)})},view_det:function(t,e){var a=this,s=this;this.fetchup=!0,Pp.get(this.apiSet.debHistory+"/"+t).then(function(t){var a=t.data.data;console.log(a);var i=a.length-1;a.length>0?(s.indiv_debt=a,s.indiv_total=a.length,s.indiv_name=e,s.indiv_rem=a[i].bal_remaining,s.fetchup=!1,s.indiv_dialog=!0):(s.snack=!0,s.snackText="Sorry no history available.",s.snackColor="red",s.fetchup=!1)}).catch(function(t){console.log(t),s.fetchup=!1,a.err.push(t)})},open_receive_pay:function(t,e,a){this.debt_id=t,this.debt_name=e,this.debt_amount=a,this.dialog=!1,this.receive_dialog=!0},receive_pay:function(){var t=this,e=this;this.pay_loader=!0,this.$validator.validateAll().then(function(a){if(a){var s=t.debt_id,i={payment_type:t.payup.pay_method,pay_comments:t.payup.pay_comments,payment_amount:t.payup.payment_amount,cheque_no:t.payup.cheque_no,momo_no:t.payup.momo_no,visa_bank:t.visa_bank,date_received:new Date,_method:"PUT"},n=t.$store.state.config.url;Pp.patch(n+"/set_debt/"+s,i).then(function(t){e.pay_loader=!1,e.snack=!0,e.snackText="Payment Sucessfully received.",e.snackColor="green",e.pushHistory(),e.loadDebtors(),e.closeup()}).catch(function(t){console.log(t),e.pay_loader=!1,e.snack=!0,e.snackText="Database error occurred",e.snackColor="red"})}else t.pay_loader=!1,t.snack=!0,t.snackText="Please enter pay details",t.snackColor="red"})},pushHistory:function(){var t=Lt()().format("MMM Do YYYY, h:mm a"),e=this.debt_amount-this.payup.payment_amount,a={deb_id:this.debt_id,deb_name:this.debt_name,bal_before:this.debt_amount,bal_remaining:e,payment_amount:this.payup.payment_amount,payment_type:this.payup.pay_method,payment_date:t,paid_by:this.userData.user_name,user_id:this.userData.id};Pp.post(this.apiSet.debHistory,a).then(function(t){}).catch(function(t){console.log(t)})},closeup:function(){this.debt_id=-1,this.dialog=!1,this.indiv_dialog=!1,this.receive_dialog=!1,this.payup.pay_comments="",this.payup.pay_method="CASH",this.payup.cheque_no="",this.payup.momo_no="",this.payup.visa_bank=""}},components:{AddDebtor:$p}},Ep=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{staticClass:"mb-2",attrs:{color:"secondary",dark:"",small:""},nativeOn:{click:function(e){return t.$router.push("/debtors_history")}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-clock")]),t._v(" View Debtors History")],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:t.receive_dialog,callback:function(e){t.receive_dialog=e},expression:"receive_dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dense:""}},[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Receive Payment")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.closeup(e)}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-flex",{attrs:{sm8:"","offset-sm2":""}},[a("p",[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:["CASH","VISA","CHEQUE","MoMo"],box:"",label:"Payment Method","full-width":"",required:"","offset-y":"",dense:"","data-vv-name":"pay_method","error-messages":t.errors.collect("pay_method")},model:{value:t.payup.pay_method,callback:function(e){t.$set(t.payup,"pay_method",e)},expression:"payup.pay_method"}})],1),t._v(" "),"CHEQUE"===t.payup.pay_method?a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"","data-vv-name":"cheque","error-messages":t.errors.collect("cheque"),label:"Cheque Number"},model:{value:t.payup.cheque_no,callback:function(e){t.$set(t.payup,"cheque_no",e)},expression:"payup.cheque_no"}})],1):t._e(),t._v(" "),"MoMo"===t.payup.pay_method?a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"","data-vv-name":"momo_no","error-messages":t.errors.collect("momo_no"),label:"Mobile Money Number"},model:{value:t.payup.momo_no,callback:function(e){t.$set(t.payup,"momo_no",e)},expression:"payup.momo_no"}})],1):t._e(),t._v(" "),"VISA"===t.payup.pay_method?a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:["Zenith","Barclays","SG-Bank","Fidelity"],box:"",label:"Select Receiving Bank","full-width":"",required:"","offset-y":"","data-vv-name":"visa_bank","error-messages":t.errors.collect("visa_bank")},model:{value:t.payup.visa_bank,callback:function(e){t.$set(t.payup,"visa_bank",e)},expression:"payup.visa_bank"}})],1):t._e(),t._v(" "),a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"","data-vv-name":"payment_amount","error-messages":t.errors.collect("payment_amount"),label:"Payment Amount"},model:{value:t.payup.payment_amount,callback:function(e){t.$set(t.payup,"payment_amount",e)},expression:"payup.payment_amount"}})],1),t._v(" "),a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-textarea",{attrs:{box:"",name:"input-7-4",label:"Additional Comments/ Note",value:""},model:{value:t.payup.pay_comments,callback:function(e){t.$set(t.payup,"pay_comments",e)},expression:"payup.pay_comments"}})],1),t._v(" "),a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-btn",{staticClass:"secondary",attrs:{loading:t.pay_loader,large:""},on:{click:t.receive_pay}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-cash")]),t._v(" Receive Payment ")],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"1200px"},model:{value:t.indiv_dialog,callback:function(e){t.indiv_dialog=e},expression:"indiv_dialog"}},[a("v-card",{staticClass:"elevation-4"},[a("v-card-title",[a("p",{staticClass:"headline ttext mt-1"},[t._v(t._s(t.indiv_name)+"[ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.indiv_total))]),t._v(" ] "+t._s(t.indiv_cus)+" | ")]),a("br"),t._v(" "),a("p",{staticClass:"small ttext mt-1"},[t._v(" Outstanding Debt [ "),a("i",{staticClass:"orange--text text--darken-3"},[t._v("Gh¢ "+t._s(t.indiv_rem))]),t._v(" ]")]),a("br"),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.indiv_search,callback:function(e){t.indiv_search=e},expression:"indiv_search"}}),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.indiv_dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.indiv_headers,items:t.indiv_debt,search:t.indiv_search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.bal_before))]),t._v(" "),a("td",[t._v(t._s(e.item.payment_amount))]),t._v(" "),a("td",[t._v(t._s(e.item.bal_remaining))]),t._v(" "),a("td",[t._v(t._s(e.item.payment_type))]),t._v(" "),a("td",[t._v(t._s(e.item.payment_date))]),t._v(" "),a("td",[t._v(t._s(e.item.paid_by))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"})]}}])},[t._v(" "),a("template",{slot:"no-data"},[a("v-alert",{attrs:{value:!0,color:"primary",icon:"add"}},[t._v("\n                        Data table Empty.\n                    ")])],1),t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                    Your search for "'+t._s(t.search)+'" found no results.\n                ')])],2)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("All Debtors [ "),a("i",{staticClass:"green--text  text--darken-3"},[t._v("Gh¢ "+t._s(t.total_debt))]),t._v(" ]")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.debtors,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.name))]),t._v(" "),a("td",[t._v(t._s(e.item.phone_no))]),t._v(" "),a("td",[t._v(t._s(e.item.credit_amount))]),t._v(" "),a("td",[t._v(t._s(e.item.purchase_date))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"mr-2 secondary--text cpoint",attrs:{flat:"",small:""},on:{click:function(a){return t.view_det(e.item.id,e.item.name)}}},[a("v-icon",[t._v("mdi-pencil")]),t._v("\n                        View History\n                    ")],1),t._v(" "),a("v-btn",{staticClass:"mr-2 teal--text cpoint",attrs:{flat:"",small:""},on:{click:function(a){return t.open_receive_pay(e.item.id,e.item.name,e.item.credit_amount)}}},[a("v-icon",[t._v("mdi-cash")]),t._v("\n                       Receive Payment\n                   ")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1)],1)},Np=[],Ap={render:Ep,staticRenderFns:Np},Op=Ap,Mp=a("VU/8"),Rp=gt,jp=Mp(Tp,Op,!1,Rp,"data-v-22706544",null),Yp=jp.exports,Fp=a("mtWM"),Up={name:"sales_report",data:function(){return{showMenu:!1,outlet:"Warehouse",snack:!1,snackColor:"",snackText:"",loading:!1,fetchup:!1,loader:!1,items:[],dialog:!1,total:"",search:null,searchup:null,select:null,range:[Object(yo.format)(new Date,"DD-MM-YYYY"),Object(yo.format)(new Date,"DD-MM-YYYY")],dateMenu:!1,dateRangeOptions:{startDate:Object(yo.format)(Object(yo.subDays)(new Date,7),"YYYY-MM-DD"),endDate:Object(yo.format)(new Date,"YYYY-MM-DD"),format:"MM/DD/YYYY",presets:[{label:"Today",range:[Object(yo.format)(new Date,"YYYY-MM-DD"),Object(yo.format)(new Date,"YYYY-MM-DD")]},{label:"Yesterday",range:[Object(yo.format)(Object(yo.subDays)(new Date,1),"YYYY-MM-DD"),Object(yo.format)(Object(yo.subDays)(new Date,1),"YYYY-MM-DD")]},{label:"Last Week",range:[Object(yo.format)(Object(yo.subDays)(new Date,7),"YYYY-MM-DD"),Object(yo.format)(Object(yo.subDays)(new Date,1),"YYYY-MM-DD")]},{label:"Last 2 Weeks",range:[Object(yo.format)(Object(yo.subDays)(new Date,14),"YYYY-MM-DD"),Object(yo.format)(Object(yo.subDays)(new Date,1),"YYYY-MM-DD")]},{label:"Last 30 Days",range:[Object(yo.format)(Object(yo.subDays)(new Date,30),"YYYY-MM-DD"),Object(yo.format)(Object(yo.subDays)(new Date,1),"YYYY-MM-DD")]}]},deb_head:[{text:"Id",align:"left",sortable:!1,value:"id",class:"subheading"},{text:"Customer Name",align:"left",value:"deb_name",class:"subheading"},{text:"Balance Before",align:"left",value:"bal_before",class:"subheading"},{text:"Payment Amount",value:"payment_amount",class:"subheading"},{text:"Balance Remaining",value:"bal_remaining",class:"subheading"},{text:"Mode",value:"payment_type",class:"subheading"},{text:"Payment Date",value:"payment_date",class:"subheading"},{text:"Paid By",value:"paid_by",class:"subheading"}],my_debs:[],side_items:[]}},computed:{apiSet:function(){return this.$store.getters.getApi},unit_cost:function(){return this.editedItem.ws_unit+" Cost(Ghc)"},runit_cost:function(){return this.editedItem.rt_unit+" Cost(Ghc)"}},watch:{search:function(t){t&&t!==this.select&&this.querySelections(t)}},mounted:function(){this.setSide(),this.loadMyDebs()},methods:{setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!1)},onDateRangeChange:function(t){this.range=t},querySelections:function(t){var e=this;this.loading=!0,setTimeout(function(){e.items=e.states.name.filter(function(e){return(e||"").toLowerCase().indexOf((t||"").toLowerCase())>-1}),e.loading=!1},500)},loadMyDebs:function(){var t=this,e=this;this.fetchup=!0,Fp.get(this.apiSet.debHistory).then(function(t){var a=t.data.data;e.my_debs=a,e.total=a.length,e.fetchup=!1}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},editItem:function(t){this.editedIndex=this.inventory.indexOf(t);var e=this.inventory.indexOf(t),a=this.raw_inventory[e];this.editedItem=wi()({},a),this.dialog=!0},updateProduct:function(){var t=this,e=this;this.loader=!0,this.$validator.validateAll().then(function(a){if(!a)return t.form_error_snack=!0,t.loader=!1,!1;if(!(t.editedIndex>-1))return e.err_snackbar=!0,!1;wi()(t.raw_inventory[t.editedIndex],t.editedItem);var s=t.editedItem.id,i=t.editedItem,n=t.$store.state.config.url;Fp.patch(n+"/product/"+s,i).then(function(t){console.log(t),e.loader=!1,e.ed_snackbar=!0,e.dialog=!1,e.$validator.reset(),e.loadProducts(),e.$store.commit("setNetError",!1)}).catch(function(t){console.log(t),e.loader=!1,this.$store.commit("setNetError",!0)})})},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Customer",message:"Are you sure you want to Delete Product?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.inventory.indexOf(t);this.inventory.splice(s,1),Fp.delete(a+"/product/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadProducts(),e.$store.commit("setNetError",!1)}).catch(function(t){e.del_error_snack=!0,e.$store.commit("setNetError",!0),console.log(t)})}}},zp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-toolbar",{staticClass:"mt-0 primary"},[a("v-toolbar-title",[a("v-textfield")],1),t._v(" "),a("v-toolbar-items",{staticClass:"hidden-sm-and-down"}),t._v(" "),a("v-layout",{attrs:{row:"","align-center":""}},[a("v-spacer"),t._v(" "),a("v-flex",{attrs:{sm3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":"",bottom:""},model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[a("v-btn",{attrs:{slot:"activator",large:"",color:"secondary"},slot:"activator"},[a("v-icon",{attrs:{left:""}},[t._v("mdi-calendar")]),t._v(" Select Date Range")],1),t._v(" "),a("v-card",[a("v-card-text",[a("v-daterange",{attrs:{options:t.dateRangeOptions},on:{input:t.onDateRangeChange}})],1)],1)],1)],1),t._v(" "),a("v-flex",{staticClass:"mt-3",attrs:{sm4:""}},[a("p",{staticClass:"subheading white--text"},[t._v("From:\n                        "),a("v-chip",{staticClass:"subheading elevation-8"},[t._v(t._s(t.range[0]))]),t._v(" To:\n                        "),a("v-chip",{staticClass:"subheading elevation-8"},[t._v(t._s(t.range[1]))])],1)])],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("Debtors History[ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ]")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-5",attrs:{headers:t.deb_head,items:t.my_debs,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.deb_name))]),t._v(" "),a("td",[t._v(t._s(e.item.bal_before))]),t._v(" "),a("td",[t._v(t._s(e.item.payment_amount))]),t._v(" "),a("td",[t._v(t._s(e.item.bal_remaining))]),t._v(" "),a("td",[t._v(t._s(e.item.payment_type))]),t._v(" "),a("td",[t._v(t._s(e.item.payment_date))]),t._v(" "),a("td",[t._v(t._s(e.item.paid_by))])]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},Vp=[],Bp={render:zp,staticRenderFns:Vp},Gp=Bp,Hp=a("VU/8"),Lp=xt,Wp=Hp(Up,Gp,!1,Lp,"data-v-390f4196",null),Qp=Wp.exports,Zp=a("mtWM"),Xp={name:"sales_report",data:function(){return{showMenu:!1,outlet:"Warehouse",snack:!1,snackColor:"",snackText:"",loading:!1,fetchup:!1,loader:!1,items:[],dialog:!1,total:"",search:null,searchup:null,select:null,range:[Object(yo.format)(new Date,"DD-MM-YYYY"),Object(yo.format)(new Date,"DD-MM-YYYY")],dateMenu:!1,dateRangeOptions:{startDate:Object(yo.format)(Object(yo.subDays)(new Date,7),"YYYY-MM-DD"),endDate:Object(yo.format)(new Date,"YYYY-MM-DD"),format:"MM/DD/YYYY",presets:[{label:"Today",range:[Object(yo.format)(new Date,"YYYY-MM-DD"),Object(yo.format)(new Date,"YYYY-MM-DD")]},{label:"Yesterday",range:[Object(yo.format)(Object(yo.subDays)(new Date,1),"YYYY-MM-DD"),Object(yo.format)(Object(yo.subDays)(new Date,1),"YYYY-MM-DD")]},{label:"Last Week",range:[Object(yo.format)(Object(yo.subDays)(new Date,7),"YYYY-MM-DD"),Object(yo.format)(Object(yo.subDays)(new Date,1),"YYYY-MM-DD")]},{label:"Last 2 Weeks",range:[Object(yo.format)(Object(yo.subDays)(new Date,14),"YYYY-MM-DD"),Object(yo.format)(Object(yo.subDays)(new Date,1),"YYYY-MM-DD")]},{label:"Last 30 Days",range:[Object(yo.format)(Object(yo.subDays)(new Date,30),"YYYY-MM-DD"),Object(yo.format)(Object(yo.subDays)(new Date,1),"YYYY-MM-DD")]}]},cred_head:[{text:"Id",align:"left",sortable:!1,class:"subheading",value:"id"},{text:"Supplier Name",align:"left",value:"cred_name",class:"subheading"},{text:"Balance Before",align:"left",value:"bal_before",class:"subheading"},{text:"Payment Amount",value:"payment_amount",class:"subheading"},{text:"Balance Remaining",value:"bal_remaining",class:"subheading"},{text:"Mode",value:"payment_type",class:"subheading"},{text:"Payment Date",value:"payment_date",class:"subheading"},{text:"Paid By",value:"paid_by",class:"subheading"}],my_creds:[],side_items:[]}},computed:{apiSet:function(){return this.$store.getters.getApi},unit_cost:function(){return this.editedItem.ws_unit+" Cost(Ghc)"},runit_cost:function(){return this.editedItem.rt_unit+" Cost(Ghc)"}},watch:{search:function(t){t&&t!==this.select&&this.querySelections(t)}},mounted:function(){this.setSide(),this.loadMycreds()},methods:{setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!1)},onDateRangeChange:function(t){this.range=t},querySelections:function(t){var e=this;this.loading=!0,setTimeout(function(){e.items=e.states.name.filter(function(e){return(e||"").toLowerCase().indexOf((t||"").toLowerCase())>-1}),e.loading=!1},500)},loadMycreds:function(){var t=this,e=this;this.fetchup=!0,Zp.get(this.apiSet.credHistory).then(function(t){var a=t.data.data;e.my_creds=a,e.total=a.length,e.fetchup=!1}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},editItem:function(t){this.editedIndex=this.inventory.indexOf(t);var e=this.inventory.indexOf(t),a=this.raw_inventory[e];this.editedItem=wi()({},a),this.dialog=!0},updateProduct:function(){var t=this,e=this;this.loader=!0,this.$validator.validateAll().then(function(a){if(!a)return t.form_error_snack=!0,t.loader=!1,!1;if(!(t.editedIndex>-1))return e.err_snackbar=!0,!1;wi()(t.raw_inventory[t.editedIndex],t.editedItem);var s=t.editedItem.id,i=t.editedItem,n=t.$store.state.config.url;Zp.patch(n+"/product/"+s,i).then(function(t){console.log(t),e.loader=!1,e.ed_snackbar=!0,e.dialog=!1,e.$validator.reset(),e.loadProducts(),e.$store.commit("setNetError",!1)}).catch(function(t){console.log(t),e.loader=!1,this.$store.commit("setNetError",!0)})})},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Customer",message:"Are you sure you want to Delete Product?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.inventory.indexOf(t);this.inventory.splice(s,1),Zp.delete(a+"/product/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadProducts(),e.$store.commit("setNetError",!1)}).catch(function(t){e.del_error_snack=!0,e.$store.commit("setNetError",!0),console.log(t)})}}},Jp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-toolbar",{staticClass:"mt-0 primary"},[a("v-toolbar-title",[a("v-textfield")],1),t._v(" "),a("v-toolbar-items",{staticClass:"hidden-sm-and-down"}),t._v(" "),a("v-layout",{attrs:{row:"","align-center":""}},[a("v-spacer"),t._v(" "),a("v-flex",{attrs:{sm3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":"",bottom:""},model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[a("v-btn",{attrs:{slot:"activator",large:"",color:"secondary"},slot:"activator"},[a("v-icon",{attrs:{left:""}},[t._v("mdi-calendar")]),t._v(" Select Date Range")],1),t._v(" "),a("v-card",[a("v-card-text",[a("v-daterange",{attrs:{options:t.dateRangeOptions},on:{input:t.onDateRangeChange}})],1)],1)],1)],1),t._v(" "),a("v-flex",{staticClass:"mt-3",attrs:{sm4:""}},[a("p",{staticClass:"subheading white--text"},[t._v("From:\n                        "),a("v-chip",{staticClass:"subheading elevation-8"},[t._v(t._s(t.range[0]))]),t._v(" To:\n                        "),a("v-chip",{staticClass:"subheading elevation-8"},[t._v(t._s(t.range[1]))])],1)])],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("Creditors History[ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ]")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-5",attrs:{headers:t.cred_head,items:t.my_creds,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.cred_name))]),t._v(" "),a("td",[t._v(t._s(e.item.bal_before))]),t._v(" "),a("td",[t._v(t._s(e.item.payment_amount))]),t._v(" "),a("td",[t._v(t._s(e.item.bal_remaining))]),t._v(" "),a("td",[t._v(t._s(e.item.payment_type))]),t._v(" "),a("td",[t._v(t._s(e.item.payment_date))]),t._v(" "),a("td",[t._v(t._s(e.item.received_by))])]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},Kp=[],th={render:Jp,staticRenderFns:Kp},eh=th,ah=a("VU/8"),sh=yt,ih=ah(Xp,eh,!1,sh,"data-v-5430c9ed",null),nh=ih.exports,rh=a("mtWM"),oh={name:"customer_statements",$_veeValidate:{validator:"new"},data:function(){return{search:"",loader:!1,snack:!1,add_debtor:!1,snackText:"",creditors:[],snackColor:"",pay_loader:!1,fetchup:!1,indiv_total:"",indiv_cred:"",indiv_search:"",indiv_limit:"",cred_name:"shmoo",cred_amount:"",indiv_invoice:"",indiv_dialog:!1,cred_id:-1,receive_dialog:!1,payup:{payment_amount:0,pay_comments:"",pay_method:"CASH",cheque_no:"",momo_no:"",visa_bank:""},headers:[{text:"Id",align:"left",sortable:!1,value:"id",class:"subheading"},{text:"Supplier Name",align:"left",value:"name",class:"subheading"},{text:"Phone No.",align:"left",value:"phone_no",class:"subheading"},{text:"Credit Amount(Ghc)",value:"credit",align:"left",class:"subheading"},{text:"",Value:"name",align:"left",class:"subheading"}],indiv_headers:[{text:"Id",align:"left",sortable:!1,value:"id"},{text:"Balance Before",align:"left",value:"bal_before"},{text:"Payment Amount",value:"payment_amount"},{text:"Balance Remaining",value:"bal_remaining"},{text:"Mode",value:"payment_type"},{text:"Payment Date",value:"payment_date"},{text:"Paid By",value:"paid_by"}],dialog:!1,outlet:"Warehouse",editedIndex:-1,editedItem:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0},indiv_debt:[],debtors:[]}},watch:{dialog:function(t){t||this.close()}},mounted:function(){var t=this;this.loadDebtors(),Wg.$on("close_debtor",function(e){t.add_debtor=e})},computed:{apiSet:function(){return this.$store.getters.getApi}},methods:{d:function(t){var e=Lt()(t),a=Lt()(),s=1+e.diff(a,"days");return t?s+" Days":""},loadDebtors:function(){var t=this,e=this;this.fetchup=!0,rh.get(this.apiSet.allSupCreditors).then(function(t){var a=[],s=t.data.data;console.log(s);for(var i=0,n=s.length;i<n;i++)a.push({id:s[i].id,num:i,sup_name:s[i].sup_name,sup_phone:s[i].sup_phone,credit_unpaid:s[i].credit_unpaid,purchase_date:s[i].purchase_date,due_date:s[i].due_date});e.creditors=a,e.fetchup=!1,e.total_debt=gi()(a).reduce(function(t,e){return t+parseInt(e.credit_unpaid)},0)}).catch(function(a){console.log(a),e.fetchup=!1,t.err.push(a)})},view_det:function(t,e){var a=this,s=this;this.fetchup=!0,rh.get(this.apiSet.credHistory+"/"+t).then(function(e){var a=e.data.data;console.log(a);var i=a.length-1;a.length>0?(s.indiv_cred=a,s.indiv_total=a.length,s.cred_id=t,s.indiv_rem=a[i].bal_remaining,s.cred_name=a[i].cred_name,s.fetchup=!1,s.indiv_dialog=!0):(s.snack=!0,s.snackText="Sorry no history available.",s.snackColor="red",s.fetchup=!1)}).catch(function(t){console.log(t),s.fetchup=!1,a.err.push(t)})},open_receive_pay:function(t,e,a){this.cred_id=t,this.cred_amount=e,this.cred_name=a,this.dialog=!1,this.receive_dialog=!0},receive_pay:function(){var t=this,e=this;this.pay_loader=!0,this.$validator.validateAll().then(function(a){if(a){var s=t.cred_id,i={payment_type:t.payup.pay_method,pay_comments:t.payup.pay_comments,payment_amount:t.payup.payment_amount,cheque_no:t.payup.cheque_no,momo_no:t.payup.momo_no,visa_bank:t.payup.visa_bank,date_received:new Date,_method:"PUT"},n=t.$store.state.config.url;rh.patch(n+"/sup_set_debt/"+s,i).then(function(t){console.log(t),e.pay_loader=!1,e.snack=!0,e.snackText="Payment Sucessfully received.",e.snackColor="green",e.pushHistory(),e.loadDebtors(),e.closeup()}).catch(function(t){console.log(t),e.pay_loader=!1,e.snack=!0,e.snackText="Database error occurred",e.snackColor="red"})}else t.pay_loader=!1,t.snack=!0,t.snackText="Please enter pay details",t.snackColor="red"})},pushHistory:function(){var t=Lt()().format("MMM Do YYYY, h:mm a"),e=this.cred_amount-this.payup.payment_amount,a={cred_id:this.cred_id,cred_name:this.cred_name,bal_before:this.cred_amount,bal_remaining:e,payment_amount:this.payup.payment_amount,payment_type:this.payup.pay_method,payment_date:t,received_by:this.userData.user_name,user_id:this.userData.id};rh.post(this.apiSet.credHistory,a).then(function(t){console.log(t.data.data)}).catch(function(t){console.log(t)})},closeup:function(){this.cred_id=-1,this.dialog=!1,this.payup.payment_amount=0,this.indiv_dialog=!1,this.receive_dialog=!1,this.payup.pay_comments="",this.payup.pay_method="CASH",this.payup.cheque_no="",this.payup.momo_no="",this.payup.visa_bank=""}}},lh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{staticClass:"mb-2",attrs:{color:"secondary",dark:"",small:""},nativeOn:{click:function(e){return t.$router.push("/creditors_history")}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-clock")]),t._v(" View Creditors History")],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:t.receive_dialog,callback:function(e){t.receive_dialog=e},expression:"receive_dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dense:""}},[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Make Payment")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.closeup(e)}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-layout",[a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-flex",{attrs:{sm8:"","offset-sm2":""}},[a("p",[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:["CASH","VISA","CHEQUE","MoMo"],box:"",label:"Payment Method","full-width":"",required:"","offset-y":"",dense:"","data-vv-name":"pay_method","error-messages":t.errors.collect("pay_method")},model:{value:t.payup.pay_method,callback:function(e){t.$set(t.payup,"pay_method",e)},expression:"payup.pay_method"}})],1),t._v(" "),"CHEQUE"===t.payup.pay_method?a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"","data-vv-name":"cheque","error-messages":t.errors.collect("cheque"),label:"Cheque Number"},model:{value:t.payup.cheque_no,callback:function(e){t.$set(t.payup,"cheque_no",e)},expression:"payup.cheque_no"}})],1):t._e(),t._v(" "),"MoMo"===t.payup.pay_method?a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"","data-vv-name":"momo_no","error-messages":t.errors.collect("momo_no"),label:"Mobile Money Number"},model:{value:t.payup.momo_no,callback:function(e){t.$set(t.payup,"momo_no",e)},expression:"payup.momo_no"}})],1):t._e(),t._v(" "),"VISA"===t.payup.pay_method?a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:["Zenith","Barclays","SG-Bank","Fidelity"],box:"",label:"Select Receiving Bank","full-width":"",required:"","offset-y":"","data-vv-name":"visa_bank","error-messages":t.errors.collect("visa_bank")},model:{value:t.payup.visa_bank,callback:function(e){t.$set(t.payup,"visa_bank",e)},expression:"payup.visa_bank"}})],1):t._e(),t._v(" "),a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"","data-vv-name":"payment_amount","error-messages":t.errors.collect("payment_amount"),label:"Payment Amount"},model:{value:t.payup.payment_amount,callback:function(e){t.$set(t.payup,"payment_amount",e)},expression:"payup.payment_amount"}})],1),t._v(" "),a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-textarea",{attrs:{box:"",name:"input-7-2",label:"Additional Comments/ Note",value:""},model:{value:t.payup.pay_comments,callback:function(e){t.$set(t.payup,"pay_comments",e)},expression:"payup.pay_comments"}})],1),t._v(" "),a("v-flex",{attrs:{sm12:"",md12:""}},[a("v-btn",{staticClass:"secondary",attrs:{loading:t.pay_loader,large:""},on:{click:t.receive_pay}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-cash")]),t._v(" Make Payment ")],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"1200px"},model:{value:t.indiv_dialog,callback:function(e){t.indiv_dialog=e},expression:"indiv_dialog"}},[a("v-card",{staticClass:"elevation-4"},[a("v-card-title",[a("p",{staticClass:"headline ttext mt-1"},[t._v(t._s(t.cred_name)+" [ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.indiv_total))]),t._v(" ] "+t._s(t.indiv_cus)+" | ")]),a("br"),t._v(" "),a("p",{staticClass:"small ttext mt-1"},[t._v(" Outstanding Debt [ "),a("i",{staticClass:"orange--text text--darken-3"},[t._v("Gh¢ "+t._s(t.indiv_rem))]),t._v(" ]")]),a("br"),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.indiv_search,callback:function(e){t.indiv_search=e},expression:"indiv_search"}}),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.indiv_dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.indiv_headers,items:t.indiv_cred,search:t.indiv_search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.bal_before))]),t._v(" "),a("td",[t._v(t._s(e.item.payment_amount))]),t._v(" "),a("td",[t._v(t._s(e.item.bal_remaining))]),t._v(" "),a("td",[t._v(t._s(e.item.payment_type))]),t._v(" "),a("td",[t._v(t._s(e.item.payment_date))]),t._v(" "),a("td",[t._v(t._s(e.item.received_by))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"})]}}])},[t._v(" "),a("template",{slot:"no-data"},[a("v-alert",{attrs:{value:!0,color:"primary",icon:"add"}},[t._v("\n                        Data table Empty.\n                    ")])],1),t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                    Your search for "'+t._s(t.search)+'" found no results.\n                ')])],2)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("All Creditors [ "),a("i",{staticClass:"green--text  text--darken-3"},[t._v("Gh¢ "+t._s(t.total_debt))]),t._v(" ]")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.creditors,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.sup_name))]),t._v(" "),a("td",[t._v(t._s(e.item.sup_phone))]),t._v(" "),a("td",[t._v(t._s(e.item.credit_unpaid))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"mr-2 secondary--text cpoint",attrs:{flat:"",small:""},on:{click:function(a){return t.view_det(e.item.id)}}},[a("v-icon",[t._v("mdi-pencil")]),t._v("\n                        View History\n                    ")],1),t._v(" "),a("v-btn",{staticClass:"mr-2 primary--text cpoint",attrs:{flat:"",small:""},on:{click:function(a){return t.open_receive_pay(e.item.id,e.item.credit_unpaid,e.item.sup_name)}}},[a("v-icon",[t._v("mdi-cash")]),t._v("\n                        Make Payment\n                    ")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1)],1)},ch=[],dh={render:lh,staticRenderFns:ch},uh=dh,mh=a("VU/8"),vh=kt,_h=mh(oh,uh,!1,vh,"data-v-53941222",null),ph=_h.exports,hh=a("mtWM"),fh={name:"supplier_statements",data:function(){return{search:"",loader:!1,fetchup:!1,indiv_total:2,indiv_sup:"",indiv_amount:0,indiv_dialog:!1,headers:[{text:"Id",align:"left",sortable:!1,value:"id",class:"subheading"},{text:"Supplier Name",align:"left",value:"name",class:"subheading"},{text:"Invoice No.",align:"left",value:"invoice",class:"subheading"},{text:"Credit",value:"credit",align:"left",class:"subheading"},{text:"Date",value:"date",align:"left",class:"subheading"},{text:"",Value:"name",align:"left",class:"subheading"}],indiv_headers:[{text:"No.",align:"left",sortable:!1,value:"num",class:"subheading"},{text:"Product Name",align:"left",value:"product_name",class:"subheading"},{text:"Purchase Date",align:"left",value:"purchase_date",class:"subheading"},{text:"Quantity",value:"quantity",align:"left",class:"subheading"},{text:"Amount(Ghc)",value:"amount",align:"left",class:"subheading"}],dialog:!1,outlet:"Warehouse",editedIndex:-1,editedItem:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0},indiv_supplier:[{num:2,product_name:"Walkie Talkie",purchase_date:"Saturday, 2nd Oct",quantity:30,amount:"Ghc 490"}],suppliers:[]}},mounted:function(){this.loadCreditors()},computed:{apiSet:function(){return this.$store.getters.getApi}},watch:{dialog:function(t){t||this.close()}},methods:{loadCreditors:function(){var t=this,e=this;this.fetchup=!0;var a={oid:this.userData.outlet_id,cid:this.userData.company_id};hh.post(this.apiSet.postCreditors,a).then(function(t){var a=[],s=t.data.data;console.log(s);for(var i=0,n=s.length;i<n;i++)a.push({id:s[i].id,num:i,name:s[i].supplier,invoice:s[i].invoice,credit:s[i].amount,date:s[i].date});e.suppliers=a,e.fetchup=!1}).catch(function(a){console.log(a),e.fetchup=!1,t.err.push(a)})},view_det:function(t){var e=this,a=this;this.fetchup=!0,this.indiv_sup=t.name,this.indiv_amount=t.credit,hh.get(this.apiSet.singlePurchaseBuffer+"/"+t.invoice).then(function(t){var s=[],i=t.data.data;console.log(i);for(var n=0,r=i.length;n<r;n++)s.push({id:i[n].id,num:n,product_name:i[n].product_name,purchase_date:i[n].created_at,quantity:i[n].purr_quantity,amount:i[n].purr_ws_subtotal});a.indiv_supplier=s,a.fetchup=!1,e.indiv_dialog=!0}).catch(function(t){console.log(t),a.fetchup=!1,e.err.push(t)})},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.editedItem=wi()({},t.defaultItem),t.editedIndex=-1},300)},save:function(){this.editedIndex>-1?wi()(this.supplier_statements[this.editedIndex],this.editedItem):this.supplier_statements.push(this.editedItem),this.close()}}},bh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"900px"},model:{value:t.indiv_dialog,callback:function(e){t.indiv_dialog=e},expression:"indiv_dialog"}},[a("v-card",{staticClass:"elevation-4"},[a("v-card-title",[a("p",{staticClass:"headline ttext mt-1"},[t._v(" "+t._s(t.indiv_sup)+" | ")]),a("br"),t._v(" "),a("p",{staticClass:"small ttext mt-1"},[t._v("Total Amount [ "),a("i",{staticClass:"orange--text text--darken-3"},[t._v("Ghc "+t._s(t.indiv_amount))]),t._v(" ]")]),a("br"),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.indiv_dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.indiv_headers,items:t.indiv_supplier,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.num))]),t._v(" "),a("td",[t._v(t._s(e.item.product_name))]),t._v(" "),a("td",[t._v(t._s(e.item.purchase_date))]),t._v(" "),a("td",[t._v(t._s(e.item.quantity))]),t._v(" "),a("td",[t._v(t._s(e.item.amount))])]}}])},[t._v(" "),a("template",{slot:"no-data"},[a("v-alert",{attrs:{value:!0,color:"primary",icon:"add"}},[a("v-progress-circular",{staticClass:"mr-4",attrs:{indeterminate:!0,value:0,size:"24",color:"orange darken-3"}}),t._v(" Loading Data. Please wait.\n                    ")],1)],1),t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                    Your search for "'+t._s(t.search)+'" found no results.\n                ')])],2),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"grey darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{color:"primary darken-1",dark:""},nativeOn:{click:function(t){}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-printer")]),t._v("Print")],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("All Suppliers")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{attrs:{headers:t.headers,items:t.suppliers,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.name))]),t._v(" "),a("td",[t._v(t._s(e.item.invoice))]),t._v(" "),a("td",[t._v(t._s(e.item.credit))]),t._v(" "),a("td",[t._v(t._s(t.moment(e.item.date).format("DD MMM YYYY")))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"mr-2 secondary--text cpoint",attrs:{flat:"",small:""},on:{click:function(a){return t.view_det(e.item)}}},[a("v-icon",[t._v("mdi-pencil")]),t._v("\n                        View Details\n                    ")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1)],1)},gh=[],xh={render:bh,staticRenderFns:gh},yh=xh,kh=a("VU/8"),wh=wt,Ch=kh(fh,yh,!1,wh,"data-v-62dd524a",null),Ih=Ch.exports,Sh=a("mtWM"),qh={name:"expiry_reports",data:function(){return{showMenu:!1,snack:!1,snackColor:"",snackText:"",er_snackbar:!1,del_snackbar:!1,del_error_snack:!1,form_error_snack:!1,su_snackbar:!1,ed_snackbar:!1,outlet:"Warehouse",loading:!1,fetchup:!1,adj_fetchup:!1,loader:!1,items:[],dialog:!1,total:"",adj_total:"",adj_batch:"",adj_state:0,search:null,searchup:null,select:null,start_date:null,menu:!1,menu2:!1,end_date:null,menu3:!1,states:[{name:"Toilet Rolls",icon:"mdi-chart-bubble",category:"Toiletries"}],purchase_head:[{text:"Id",align:"left",sortable:!1,value:"id"},{text:"Batch No.",align:"left",value:"batch_no"},{text:"Quantity",align:"left",value:"quantity"},{text:"By",align:"left",value:"by"},{text:"Actions",align:"center",value:"actions"}],headers:[{text:"No.",align:"left",value:"num"},{text:"Product Name",align:"left",value:"product_name"},{text:"Available Quantity",align:"left",value:"available_quantity"},{text:"Report Quantity",align:"left",value:"report_quantity"},{text:"Price",align:"left",value:"price"},{text:"Subtotal",align:"left",value:"subtotal"},{text:"Expiry",align:"left",value:"expiry"},{text:"",align:"left",value:"expiry"}],expiries:[],expiry_reports:[],inventory:[],raw_inventory:[],editedIndex:-1,editedItem:{id:"",product_name:"",category:"",manufacturer:"",expiry:"",product_type:"",ws_quantity:"",rt_quantity:"",barcode:"",rt_unit:"",ws_unit:"",ws_discount:0,rt_discount:0,ws_unit_cost:"",rt_unit_cost:"",markup:"",selling_price:"",subtotal:"",min_no:"",batch_no:"",max_no:"",reorder_no:""},defaultItem:{id:"",product_name:"",category:"",manufacturer:"",expiry:"",product_type:"",barcode:""},side_items:[{icon:"mdi-account-card-details",text:"Suppliers",link:"/suppliers"}]}},computed:{apiSet:function(){return this.$store.getters.getApi},unit_cost:function(){return this.editedItem.ws_unit+" Cost(Ghc)"},runit_cost:function(){return this.editedItem.rt_unit+" Cost(Ghc)"}},watch:{search:function(t){t&&t!==this.select&&this.querySelections(t)}},mounted:function(){this.loadExpiryBatch()},methods:{setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!0)},loadExpiryBatch:function(){var t=this,e=this;this.fetchup=!0,Sh.get(this.apiSet.expiry_batch).then(function(t){var a=[],s=t.data;console.log(s);for(var i=0,n=s.length;i<n;i++)a.push({id:i,num:i,batch_no:s[i].expiry_batch,quantity:s[i].total,expiry:"This month",outlet:"Warehouse",by:"aximilli"});e.expiry_reports=a,e.total=s.length,e.fetchup=!1}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},findExpiryBatch:function(t){var e=this;this.expiries=[],this.adj_batch=t.batch_no,this.adj_fetchup=!0;var a={};a.batch_no=t.batch_no;var s=this;Sh.post(this.apiSet.find_expiry_batch,a).then(function(t){for(var e=[],a=t.data.data,i=0,n=a.length;i<n;i++)e.push({id:a[i].id,num:i,product_name:a[i].product_name,available_quantity:a[i].ws_quantity,report_quantity:a[i].ws_quantity,price:a[i].subtotal,subtotal:a[i].subtotal,expiry:a[i].expiry,expiry_report:a[i].expiry_report}),s.adj_state=a[i].expiry_report;s.editedIndex=e.id,s.expiries=e,s.adj_total=a.length,s.adj_fetchup=!1}).catch(function(t){console.log(t),s.loader=!1,e.err.push(t)})},editItem:function(t){this.editedIndex=this.inventory.indexOf(t);var e=this.inventory.indexOf(t),a=this.raw_inventory[e];this.editedItem=wi()({},a),this.dialog=!0,this.findExpiryBatch(t)},setExpiryReport:function(){var t=this;this.loader=!0;for(var e=this.expiries,a=0,s=e.length;a<s;a++){var i=e[a].id,n=this.$store.state.config.url;Sh.patch(n+"/expiry_report/"+i,1).then(function(e){console.log(e),t.loader=!1,t.ed_snackbar=!0,t.adj_state=2,t.$store.commit("setNetError",!1)}).catch(function(e){console.log(e),t.loader=!1,this.$store.commit("setNetError",!0)})}},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Customer",message:"Are you sure you want to Delete Product?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.inventory.indexOf(t);this.inventory.splice(s,1),Sh.delete(a+"/product/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadProducts(),e.$store.commit("setNetError",!1)}).catch(function(t){e.del_error_snack=!0,e.$store.commit("setNetError",!0),console.log(t)})},close:function(){this.dialog=!1},save:function(){this.snack=!0,this.snackColor="success",this.snackText="Data saved"},cancel:function(){this.snack=!0,this.snackColor="error",this.snackText="Canceled"},open:function(){this.snack=!0,this.snackColor="info",this.snackText="Dialog opened"}}},Dh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"900px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{staticClass:"elevation-4"},[a("v-card-title",[a("p",{staticClass:"headline ttext mt-1"},[t._v("[ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.adj_total))]),t._v(" ] Expiring Products | ")]),a("br"),t._v(" "),a("p",{staticClass:"small ttext mt-1"},[t._v("Batch No. [ "),a("i",{staticClass:"orange--text text--darken-3"},[t._v("#"+t._s(t.adj_batch))]),t._v(" ]")]),a("br"),t._v(" "),a("v-spacer"),t._v(" "),1===t.adj_state?a("v-btn",{staticClass:"secondary elevation-8",attrs:{large:""},on:{click:t.setExpiryReport}},[a("v-icon",[t._v("mdi-format-align-middle")]),t._v(" Adjust Stock")],1):t._e(),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.expiries,loading:t.adj_fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.num))]),t._v(" "),a("td",[t._v(t._s(e.item.product_name))]),t._v(" "),a("td",[t._v(t._s(e.item.available_quantity))]),t._v(" "),a("td",[t._v(t._s(e.item.report_quantity))]),t._v(" "),a("td",[t._v(t._s(e.item.price))]),t._v(" "),a("td",[t._v(t._s(e.item.subtotal))]),t._v(" "),a("td",{attrs:{color:"orange"}},[t._v(t._s(e.item.expiry))])]}}])},[t._v(" "),a("template",{slot:"no-data"},[a("v-alert",{attrs:{value:!0,color:"primary",icon:"add"}},[t._v("\n                        Data table Emty. Please wait.\n                    ")])],1),t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                    Your search for "'+t._s(t.search)+'" found no results.\n                ')])],2),t._v(" "),t.adj_state?a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"grey darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{color:"primary darken-1",dark:""},nativeOn:{click:function(t){}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-printer")]),t._v("Print")],1)],1):t._e()],1)],1),t._v(" "),a("v-card",[a("v-toolbar",{staticClass:"mt-0 primary"},[a("v-toolbar-title",[a("v-textfield")],1),t._v(" "),a("v-toolbar-items",{staticClass:"hidden-sm-and-down"}),t._v(" "),a("v-layout",{attrs:{row:"","align-center":""}},[a("v-flex",{attrs:{sm2:""}},[a("v-btn",{staticClass:"secondary elevation-8",attrs:{dark:""},on:{click:function(e){return t.$router.push("/pos_expiry")}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-clipboard-arrow-down")]),t._v(" Pull Expiries")],1)],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-flex",{attrs:{sm2:""}},[a("v-select",{staticClass:"mt-2 mr-4",attrs:{"offset-y":"",items:t.outlets,label:"Select Outlet",solo:""},model:{value:t.outlet,callback:function(e){t.outlet=e},expression:"outlet"}})],1),t._v(" "),a("v-flex",{attrs:{sm3:"",md3:""}},[a("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.start_date,lazy:"",box:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.start_date=e},"update:return-value":function(e){t.start_date=e}},model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-text-field",{staticClass:"mt-2 mr-4",attrs:{slot:"activator",label:"Start Date",solo:"",clearable:"","append-icon":"event",readonly:""},slot:"activator",model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}}),t._v(" "),a("v-date-picker",{on:{input:function(e){return t.$refs.menu2.save(t.start_date)}},model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}})],1)],1),t._v(" "),a("v-flex",{attrs:{sm3:"",md3:""}},[a("v-menu",{ref:"menu3",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.end_date,lazy:"",box:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.end_date=e},"update:return-value":function(e){t.end_date=e}},model:{value:t.menu3,callback:function(e){t.menu3=e},expression:"menu3"}},[a("v-text-field",{staticClass:"mt-2 ml-4",attrs:{slot:"activator",label:"End Date",solo:"",clearable:"","append-icon":"event",readonly:"",color:"secondary"},slot:"activator",model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}}),t._v(" "),a("v-date-picker",{on:{input:function(e){return t.$refs.menu3.save(t.end_date)}},model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}})],1)],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("All Reported Expiries[ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ] @ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.outlet))])]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-5",attrs:{headers:t.purchase_head,items:t.expiry_reports,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.batch_no))]),t._v(" "),a("td",[t._v(t._s(e.item.quantity))]),t._v(" "),a("td",[t._v(t._s(e.item.by))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"mr-2 teal--text cpoint",attrs:{flat:"",small:""},on:{click:function(a){return t.editItem(e.item)}}},[a("v-icon",{attrs:{small:""}},[t._v("\n                        mdi-open-in-new\n                    ")]),t._v(" view")],1)],1)]}}])},[t._v(" "),a("template",{slot:"no-data"},[a("v-alert",{attrs:{value:!0,color:"primary",icon:"mdi-warning"}},[t._v("\n                    No products reported as Expiring.\n                ")])],1),t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],2)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.er_snackbar,callback:function(e){t.er_snackbar=e},expression:"er_snackbar"}},[t._v("\n        Sorry input Errors. Data could not be saved.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.er_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.del_snackbar,callback:function(e){t.del_snackbar=e},expression:"del_snackbar"}},[t._v("\n        Entry Successfully Deleted.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.del_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.form_error_snack,callback:function(e){t.form_error_snack=e},expression:"form_error_snack"}},[t._v("\n        Sorry!!! Please Correct form errors.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.form_error_snack=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x},model:{value:t.del_error_snack,callback:function(e){t.del_error_snack=e},expression:"del_error_snack"}},[t._v("\n        Sorry!!! an error occured, Could not delete Product.\n        "),a("v-btn",{attrs:{flat:"",color:"red"},nativeOn:{click:function(e){t.del_error_snack=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.su_snackbar,callback:function(e){t.su_snackbar=e},expression:"su_snackbar"}},[t._v("\n        Product Successfully Added.\n        "),a("v-btn",{attrs:{flat:"",color:"green"},nativeOn:{click:function(e){t.su_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.ed_snackbar,callback:function(e){t.ed_snackbar=e},expression:"ed_snackbar"}},[t._v("\n        Product Successfully Edited.\n        "),a("v-btn",{attrs:{flat:"",color:"secondary"},nativeOn:{click:function(e){t.ed_snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-snackbar",{attrs:{timeout:3e3,color:t.snackColor},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:""},on:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},$h=[],Ph={render:Dh,staticRenderFns:$h},Th=Ph,Eh=a("VU/8"),Nh=Ct,Ah=Eh(qh,Th,!1,Nh,"data-v-ccbbc8ca",null),Oh=Ah.exports,Mh=a("mtWM"),Rh={name:"sales_report",data:function(){return{salesSummary:!1,showMenu:!1,outlet:"Warehouse",snack:!1,snackColor:"",snackText:"",loading:!1,fetchup:!1,loader:!1,items:[],dialog:!1,total:"",search:null,searchup:null,select:null,range:[Object(yo.format)(new Date,"DD-MM-YYYY"),Object(yo.format)(new Date,"DD-MM-YYYY")],dateMenu:!1,dateRangeOptions:{startDate:Object(yo.format)(Object(yo.subDays)(new Date,7),"YYYY-MM-DD"),endDate:Object(yo.format)(new Date,"YYYY-MM-DD"),format:"MM/DD/YYYY",presets:[{label:"Today",range:[Object(yo.format)(new Date,"YYYY-MM-DD"),Object(yo.format)(new Date,"YYYY-MM-DD")]},{label:"Yesterday",range:[Object(yo.format)(Object(yo.subDays)(new Date,1),"YYYY-MM-DD"),Object(yo.format)(Object(yo.subDays)(new Date,1),"YYYY-MM-DD")]},{label:"Last Week",range:[Object(yo.format)(Object(yo.subDays)(new Date,7),"YYYY-MM-DD"),Object(yo.format)(Object(yo.subDays)(new Date,1),"YYYY-MM-DD")]},{label:"Last 2 Weeks",range:[Object(yo.format)(Object(yo.subDays)(new Date,14),"YYYY-MM-DD"),Object(yo.format)(Object(yo.subDays)(new Date,1),"YYYY-MM-DD")]},{label:"Last 30 Days",range:[Object(yo.format)(Object(yo.subDays)(new Date,30),"YYYY-MM-DD"),Object(yo.format)(Object(yo.subDays)(new Date,1),"YYYY-MM-DD")]}]},sales_head:[{text:"Id",align:"left",sortable:!1,value:"num"},{text:"Time",align:"left",value:"time"},{text:"Customer Name",align:"left",value:"customer_name"},{text:"Product Name",align:"left",value:"product_name"},{text:"Quantity",value:"quantity"},{text:"Amount Due",value:"amount_due"},{text:"Payment Type",value:"payment_type"},{text:"Invoice No.",value:"invoice_no"},{text:"",value:"actions"}],my_sales:[],side_items:[]}},computed:{apiSet:function(){return this.$store.getters.getApi},unit_cost:function(){return this.editedItem.ws_unit+" Cost(Ghc)"},runit_cost:function(){return this.editedItem.rt_unit+" Cost(Ghc)"}},watch:{search:function(t){t&&t!==this.select&&this.querySelections(t)}},mounted:function(){this.setSide(),this.loadMySales()},created:function(){var t=this;Wg.$on("er_snack",function(e){t.er_snackbar=e}),Wg.$on("su_snack",function(e){t.su_snackbar=e}),Wg.$on("del_snack",function(e){t.del_snackbar=e}),Wg.$on("ed_snack",function(e){t.ed_snackbar=e}),Wg.$on("form_snack",function(e){t.form_error_snack=e}),Wg.$on("product_add",function(e){t.loadProducts()})},methods:{setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!1)},onDateRangeChange:function(t){this.range=t},querySelections:function(t){var e=this;this.loading=!0,setTimeout(function(){e.items=e.states.name.filter(function(e){return(e||"").toLowerCase().indexOf((t||"").toLowerCase())>-1}),e.loading=!1},500)},loadMySales:function(){var t=this,e=this;this.fetchup=!0,this.outlet=this.userData.outlet_name;var a={oid:this.userData.outlet_id,cid:this.userData.company_id};Mh.post(this.apiSet.saleSummary,a).then(function(t){for(var a=[],s=t.data.data,i=0,n=s.length;i<n;i++)a.push({id:s[i].id,num:i,time:s[i].sale_payment.date_received,customer_name:s[i].customer.firstname+" "+s[i].customer.lastname,product_name:s[i].product_name,amount_due:s[i].sale_payment.amount_due,quantity:s[i].quantity,payment_type:s[i].sale_payment.payment_type,invoice_no:s[i].invoice_no});console.log(a),e.my_sales=a,e.total=s.length,e.fetchup=!1}).catch(function(a){console.log(a),e.loader=!1,t.err.push(a)})},loadInvoices:function(){this.$router.push("/all_invoice_list")},loadSummary:function(){this.salesSummary=!0,this.$router.push("/sales_summary")},editItem:function(t){this.editedIndex=this.inventory.indexOf(t);var e=this.inventory.indexOf(t),a=this.raw_inventory[e];this.editedItem=wi()({},a),this.dialog=!0},updateProduct:function(){var t=this,e=this;this.loader=!0,this.$validator.validateAll().then(function(a){if(!a)return t.form_error_snack=!0,t.loader=!1,!1;if(!(t.editedIndex>-1))return e.err_snackbar=!0,!1;wi()(t.raw_inventory[t.editedIndex],t.editedItem);var s=t.editedItem.id,i=t.editedItem,n=t.$store.state.config.url;Mh.patch(n+"/product/"+s,i).then(function(t){console.log(t),e.loader=!1,e.ed_snackbar=!0,e.dialog=!1,e.$validator.reset(),e.loadProducts(),e.$store.commit("setNetError",!1)}).catch(function(t){console.log(t),e.loader=!1,this.$store.commit("setNetError",!0)})})},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Customer",message:"Are you sure you want to Delete Product?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.inventory.indexOf(t);this.inventory.splice(s,1),Mh.delete(a+"/product/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadProducts(),e.$store.commit("setNetError",!1)}).catch(function(t){e.del_error_snack=!0,e.$store.commit("setNetError",!0),console.log(t)})}}},jh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{staticClass:"mb-2",attrs:{row:"","align-center":""}},[a("v-flex",{attrs:{sm3:""}},[a("v-btn",{staticClass:"elevation-8",attrs:{large:"",color:"primary--text"},on:{click:t.loadMySales}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-alarm-light")]),t._v("View Sales Report")],1)],1),t._v(" "),a("v-flex",{attrs:{sm3:""}},[a("v-btn",{staticClass:"elevation-8",attrs:{large:"",color:"orange--text text--darken-3"},on:{click:t.loadInvoices}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-receipt")]),t._v("View All Invoices")],1)],1),t._v(" "),a("v-flex",{attrs:{sm3:""}},[a("v-btn",{staticClass:"elevation-8",attrs:{large:"",color:"secondary--text"},on:{click:t.loadSummary}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-calendar-plus")]),t._v("View Sales Summary")],1)],1)],1),t._v(" "),a("v-card",[t.salesSummary?a("v-toolbar",{staticClass:"mt-0 secondary"},[a("v-toolbar-title",[a("v-textfield")],1),t._v(" "),a("v-toolbar-items",{staticClass:"hidden-sm-and-down"}),t._v(" "),a("v-layout",{attrs:{row:"","align-center":""}},[a("v-spacer"),t._v(" "),a("v-flex",{attrs:{sm2:""}},[a("v-select",{staticClass:"mt-2 mr-4",attrs:{"offset-y":"",items:t.outlets,label:"Select Outlet",solo:""},model:{value:t.outlet,callback:function(e){t.outlet=e},expression:"outlet"}})],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-flex",{attrs:{sm3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":"",bottom:""},model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[a("v-btn",{attrs:{slot:"activator",large:"",color:"primary"},slot:"activator"},[a("v-icon",{attrs:{left:""}},[t._v("mdi-calendar")]),t._v(" Select Date Range")],1),t._v(" "),a("v-card",[a("v-card-text",[a("v-daterange",{attrs:{options:t.dateRangeOptions},on:{input:t.onDateRangeChange}})],1)],1)],1)],1),t._v(" "),a("v-flex",{staticClass:"mt-3",attrs:{sm4:""}},[a("p",{staticClass:"subheading white--text"},[t._v("From:\n                        "),a("v-chip",{staticClass:"subheading elevation-8"},[t._v(t._s(t.range[0]))]),t._v(" To:\n                        "),a("v-chip",{staticClass:"subheading elevation-8"},[t._v(t._s(t.range[1]))])],1)])],1)],1):a("v-toolbar",{staticClass:"mt-0 primary"},[a("v-toolbar-title",[a("v-textfield")],1),t._v(" "),a("v-toolbar-items",{staticClass:"hidden-sm-and-down"}),t._v(" "),a("v-layout",{attrs:{row:"","align-center":""}},[a("v-spacer"),t._v(" "),a("v-flex",{attrs:{sm2:""}},[a("v-select",{staticClass:"mt-2 mr-4",attrs:{"offset-y":"",items:t.outlets,label:"Select Outlet",solo:""},model:{value:t.outlet,callback:function(e){t.outlet=e},expression:"outlet"}})],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-flex",{attrs:{sm3:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":"",bottom:""},model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[a("v-btn",{attrs:{slot:"activator",large:"",color:"secondary"},slot:"activator"},[a("v-icon",{attrs:{left:""}},[t._v("mdi-calendar")]),t._v(" Select Date Range")],1),t._v(" "),a("v-card",[a("v-card-text",[a("v-daterange",{attrs:{options:t.dateRangeOptions},on:{input:t.onDateRangeChange}})],1)],1)],1)],1),t._v(" "),a("v-flex",{staticClass:"mt-3",attrs:{sm4:""}},[a("p",{staticClass:"subheading white--text"},[t._v("From:\n                        "),a("v-chip",{staticClass:"subheading elevation-8"},[t._v(t._s(t.range[0]))]),t._v(" To:\n                        "),a("v-chip",{staticClass:"subheading elevation-8"},[t._v(t._s(t.range[1]))])],1)])],1)],1)],1),t._v(" "),t.salesSummary?a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("All Sales[ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ] @ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.outlet))])]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-5",attrs:{headers:t.sales_head,items:t.my_sales,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.num))]),t._v(" "),a("td",[t._v(t._s(t.moment(e.item.time).format("MMMM Do YYYY, h:mm a")))]),t._v(" "),a("td",[t._v(t._s(e.item.customer_name))]),t._v(" "),a("td",[t._v(t._s(e.item.product_name))]),t._v(" "),a("td",[t._v(t._s(e.item.quantity))]),t._v(" "),a("td",[t._v(t._s(e.item.amount_due))]),t._v(" "),a("td",[t._v(t._s(e.item.payment_type))]),t._v(" "),a("td",[t._v(t._s(e.item.invoice_no))])]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1):a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("All Sales Report[ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ] @ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.outlet))])]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-5",attrs:{headers:t.sales_head,items:t.my_sales,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.num))]),t._v(" "),a("td",[t._v(t._s(t.moment(e.item.time).format("MMMM Do YYYY, h:mm a")))]),t._v(" "),a("td",[t._v(t._s(e.item.customer_name))]),t._v(" "),a("td",[t._v(t._s(e.item.product_name))]),t._v(" "),a("td",[t._v(t._s(e.item.quantity))]),t._v(" "),a("td",[t._v(t._s(e.item.amount_due))]),t._v(" "),a("td",[t._v(t._s(e.item.payment_type))]),t._v(" "),a("td",[t._v(t._s(e.item.invoice_no))])]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},Yh=[],Fh={render:jh,staticRenderFns:Yh},Uh=Fh,zh=a("VU/8"),Vh=It,Bh=zh(Rh,Uh,!1,Vh,"data-v-31133cd7",null),Gh=Bh.exports,Hh=a("mtWM"),Lh={name:"outlets",data:function(){return{cssText:'  @page { size: A4 portrait }\n    .vsmall{\n        font-size:20px;         text-align:center;\n    }\n    p b{\n        font-weight:bold;\n    }\n    .tems{\n        text-align:center;\n        position:relative;\n        bottom:10px;\n        color:grey;\n        font-size:20px;\n    }\n    .mid{\n        text-align:center;\n        position:relative;\n        left:15px;\n    }\n    .round_end{\n        border-radius:5px 5px 0px 0px;\n        border:1px dashed gray;\n        width:auto;\n        height:auto;\n    }\n    .pulse {\n        animation: opacityPulse 1s ease-out;\n        animation-iteration-count: infinite;\n        opacity: 0;\n    }\n    @-webkit-keyframes opacityPulse {\n        0% {opacity: 0.0;}\n        50% {opacity: 1.0;}\n        100% {opacity: 0.0;}\n    }\n    body{\n        background:#EEE;\n        /* font-size:0.9em !important; */\n    }\n    /* reset */\n\n    *\n    {\n        border: 0;\n        color: inherit;\n        font-family: inherit;\n        font-size: inherit;\n        font-style: inherit;\n        font-weight: inherit;\n        list-style: none;\n        line-height: inherit;\n        margin: 0;\n        padding: 0;\n        text-decoration: none;\n        vertical-align: top;\n    }\n\n\n\n    /* table */\n\n    table { font-size: 26pt; line-height: 10mm ;table-layout: fixed; width: 100%; }\n    table { border-collapse: separate; border-spacing: 2px; }\n    th, td { border-width: 1px; padding: 0.5em; position: relative; text-align: left; }\n    th, td { border-radius: 0.25em; border-style: solid; }\n    th { background: #EEE; border-color: #BBB; }\n    td { border-color: #DDD; }\n\n    /* page */\n\n    html { font: 25px/1 \'Open Sans\', sans-serif; overflow: auto; padding: 0.5in; }\n    html { background: #999; cursor: default; }\n\n    body { box-sizing: border-box; height: 11in; margin: 0 auto; padding: 0.5in; width: 8.5in; }\n    body { background: #FFF; border-radius: 1px; box-shadow: 0 0 1in -0.25in rgba(0, 0, 0, 0.5); }\n\n    /* header */\n\n    header { margin: 0 0 1em; }\n    header:after { clear: both; content: ""; display: table; }\n\n    header h1 { background: #e3e3e3; font-size: 30pt;text-align:center; line-height: 10mm; border-radius: 0.25em; color: #000; margin: 0 0 1em; padding: 0.5em 0; }\n    header span, header img { display: block; float: right; }\n    header span { margin: 0 0 1em 1em; max-height: 25%; max-width: 60%; position: relative;font-size: 24pt; line-height: 18mm }\n    header img { max-height: 100%; max-width: 100%; }\n\n    div p {font-size: 20pt; line-height: 12mm;}\n\n    /* article */\n\n    article, article address, table.meta, table.inventory { margin: 0 0 3em; }\n    article:after { clear: both; content: ""; display: table; }\n    article h1 { clip: rect(0 0 0 0); position: absolute; }\n\n    article address { float: left; font-size: 125%; font-weight: bold; }\n\n    /* table meta & balance */\n\n    table.meta, table.balance { float: right; width: 36%; }\n    table.meta:after, table.balance:after { clear: both; content: ""; display: table; }\n\n    /* table meta */\n\n    table.meta th { width: 40%; }\n    table.meta td { width: 60%; }\n\n    /* table items */\n\n    table.inventory { clear: both; width: 85%; }\n    table.inventory th { font-weight: bold; text-align: center; font-size:100% }\n\n    table.inventory th.name { width: 50%; }\n    /*table.inventory th:nth-child(2) { width: 12%; }*/\n\n\n\n    /* table balance */\n    table.balance {position:relative;right:190px}\n    table.balance th,\n    table.balance td { width: 180px; }\n    table.balance tr.grant td { width: 380px; }\n    table.balance tr.grand {font-weight:bold; }\n    table.balance td { text-align: center; }\n\n    /* aside */\n\n    aside h1 { border: none; border-width: 0 0 1px; margin: 0 0 1em; }\n    aside h1 { border-color: #999; border-bottom-style: solid; }\n\n    /* javascript */\n\n    .add, .cut\n    {\n        border-width: 1px;\n        display: block;\n        font-size: .8rem;\n        padding: 0.25em 0.5em;\n        float: left;\n        text-align: center;\n        width: 0.6em;\n    }\n\n    .add, .cut\n    {\n        background: #9AF;\n        box-shadow: 0 1px 2px rgba(0,0,0,0.2);\n        background-image: -moz-linear-gradient(#00ADEE 5%, #0078A5 100%);\n        background-image: -webkit-linear-gradient(#00ADEE 5%, #0078A5 100%);\n        border-radius: 0.5em;\n        border-color: #0076A3;\n        color: #FFF;\n        cursor: pointer;\n        font-weight: bold;\n        text-shadow: 0 -1px 2px rgba(0,0,0,0.333);\n    }\n\n    .add { margin: -2.5em 0 0; }\n\n    .add:hover { background: #00ADEE; }\n\n    .cut { opacity: 0; position: absolute; top: 0; left: -1.5em; }\n    .cut { -webkit-transition: opacity 100ms ease-in; }\n\n    tr:hover .cut { opacity: 1; }\n\n    @media print {\n        * { -webkit-print-color-adjust: exact; }\n        html { background: none; padding: 0; }\n        body { box-shadow: none; margin: 0; }\n        span:empty { display: none; }\n        .add, .cut { display: none; }\n    }\n\n    @page { margin: 0; }\n',loader:!1,ac:"",ses:{id:1,shift:"Afternoon",user_name:"aximilli",opening_cash:"3000",open_date:"24/07/2019",open_time:"3 minutes ago",session_state:"Active"},search:"",ses_area:!1,side_items:[],headers:[{text:"ID",align:"left",value:"id",class:"subheading"},{text:"Shift",align:"left",value:"shift",class:"subheading"},{text:"Username",align:"left",value:"user_name",class:"subheading"},{text:"Opening Cash",align:"left",value:"opening_cash",class:"subheading"},{text:"Closing Cash",align:"left",value:"closing_cash",class:"subheading"},{text:"Open Date",align:"left",value:"open_date",class:"subheading"},{text:"Open Time",align:"center",value:"open_time",class:"subheading"},{text:"State",align:"center",value:"session_state",class:"subheading"},{text:"Actions",align:"center",value:"session_state",class:"subheading"}],dialog:!1,fetchup:!1,snack:!1,total:"",snackText:!1,snackColor:"",editedIndex:-1,sesData:[]}},computed:{apiSet:function(){return this.$store.getters.getApi},formTitle:function(){return-1===this.editedIndex?"Add Shift":"Edit Shift"},btnTitle:function(){return-1===this.editedIndex?"Add Shift":"Update Shift"},expCash:function(){return parseFloat(this.ses.opening_cash)+parseFloat(this.ses.total_sales)-this.ses.expenses},varCash:function(){return this.ses.closing_cash-this.expCash}},mounted:function(){this.setSide(),this.loadSesData()},methods:{setStatus:function(t){return parseInt(t)?"Active":"Ended"},setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!1)},stateup:function(t){return"1"===t?"Active":"0"===t?"In-Active":void 0},loadSesData:function(){var t=this,e=this;this.fetchup=!0;var a={oid:this.userData.outlet_id,cid:this.userData.company_id,user_id:this.userData.id};Hh.post(this.apiSet.allSession,a).then(function(a){var s=a.data.data;e.sesData=s,e.total=s.length,e.fetchup=!1,t.snack=!0,t.snackText="Data Was Successfully loaded.",t.snackColor="green"}).catch(function(a){console.log(a),e.loader=!1,t.snack=!0,t.snackText="Sorry network error occurred.",t.snackColor="red",t.err.push(a)})},onOutletAdd:function(){var t=this;if(this.editedIndex>-1)this.updateOutlet();else{var e=this;this.$validator.validateAll().then(function(a){if(!a)return e.snack=!0,e.snackText="Error. Please correct form errors.",e.snackColor="red",!1;t.loader=!0;var s=t.out;Hh.post(t.apiSet.singleOutlet,s).then(function(t){e.closeup(),e.loadsesData(),e.loader=!1,e.snack=!0,e.snackText="Success. Data was successfully added.",e.snackColor="green"}).catch(function(t){e.loader=!1,e.snack=!0,e.snackText="Error.Sorry an error occured.",e.snackColor="red"})})}},editItem:function(t){this.editedIndex=this.sesData.indexOf(t);var e=this.sesData.indexOf(t),a=this.sesData[e];this.ses=wi()({},a),this.ses_area=!0,this.dialog=!0},closeup:function(){this.dialog=!1,this.ses_area=!1,this.out.outlet_name="",this.out.location="",this.out.phone_no="",this.out.company_id=1,this.editedIndex=-1},updateOutlet:function(){var t=this;if(this.editedIndex>-1){wi()(this.sesData[this.editedIndex],this.ses);var e=this.editedIndex,a=this.sesData[e].id;this.loader=!0,console.log(e);var s=this.ses;Hh.patch(this.apiSet.singleOutlet+"/"+a,s).then(function(e){console.log(e),t.loader=!1,t.snack=!0,t.snackText="Update Successful",t.snackColor="green",t.closeup(),t.$validator.reset(),t.loadSesData()}).catch(function(e){console.log(e),t.loader=!1,this.snack=!0,this.snackText="Network erorr occured.",this.snackColor="red"})}else console.log(this.editedItem)},printSession:function(){this.ses_area=!0,(new Oi.a).print(document.getElementById("session_area"),this.cssText)},closePrint:function(){this.ses_area=!1,this.dialog=!1},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Shift?",message:"Are you sure you want to Delete Shift?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.sesData.indexOf(t);this.sesData.splice(s,1),Hh.delete(a+"/outlet/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadsesData(),e.snack=!0,e.snackText="Data Successfully Deleted",e.snackColor="red"}).catch(function(t){e.snack=!0,e.snackText="Sorry. Network Error occured.",e.snackColor="red",console.log(t)})}}},Wh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{staticClass:"mb-2",attrs:{color:"secondary",dark:"",small:""},on:{click:function(e){return t.$router.push("/all_invoice_list")}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" View Invoice List")],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dense:""}},[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Register Details")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},on:{click:t.closePrint}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-card",[a("v-card-title",[a("v-flex",{attrs:{sm10:""}},[a("h3",[t._v(t._s(t.ses.shift)+" Shift @ "+t._s(t.moment(t.ses.open_time).format("MMM Do YYYY"))+"   ")])]),t._v(" "),a("v-flex",{attrs:{sm2:""}},[a("span",{staticClass:"secondary--text align-end"},[a("small",[t._v(t._s(t.ses.user_name))])])])],1),t._v(" "),a("v-divider"),t._v(" "),a("v-list",{attrs:{dense:""}},[a("v-list-tile",[a("v-list-tile-content",[t._v("Opening Cash:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[t._v("Ghc "+t._s(t.ses.opening_cash))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",[t._v("Cash Sales:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.ses.cash)+" ")])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",[t._v("Cheque Sales")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.ses.cheque))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",[t._v("Visa Sales:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.ses.visa))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",[t._v("MoMo Sales:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.ses.momo))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",[t._v("Credit Sales:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.ses.credit))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",[t._v("Returns:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.ses.returns))])],1),t._v(" "),a("v-divider"),t._v(" "),a("v-list-tile",[a("v-list-tile-content",{staticClass:"subheading"},[t._v("Total Sales:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.ses.total_sales))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",{staticClass:"subheading"},[t._v("Expenses:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.ses.expenses))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",{staticClass:"subheading"},[t._v("Closing Cash:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.ses.closing_cash))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",{staticClass:"subheading green--text text-darken-3"},[t._v("Expected Cash:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.expCash))])],1),t._v(" "),a("v-list-tile",[a("v-list-tile-content",{staticClass:"subheading red--text text-darken-3"},[t._v("Variance in Cash:")]),t._v(" "),a("v-list-tile-content",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.varCash))])],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"secondary"},on:{click:t.printSession}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-printer")]),t._v("Print Details")],1)],1)],1)],1)],1)],1)],1),t._v(" "),a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("All Sales Sessions [ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ]")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-8",attrs:{headers:t.headers,items:t.sesData,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.id))]),t._v(" "),a("td",[t._v(t._s(e.item.shift))]),t._v(" "),a("td",[t._v(t._s(e.item.user_name))]),t._v(" "),a("td",[t._v(t._s(e.item.opening_cash))]),t._v(" "),a("td",[t._v(t._s(e.item.closing_cash))]),t._v(" "),a("td",[t._v(t._s(e.item.open_date))]),t._v(" "),a("td",[t._v(t._s(t.moment(e.item.open_time).format("h:mm a")))]),t._v(" "),a("td",{class:"0"===e.item.session_state?"red--text":"green--text subheading"},[t._v(t._s(t.setStatus(e.item.session_state)))]),t._v(" "),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{staticClass:"primary--text cpoint",attrs:{small:"",flat:""},on:{click:function(a){return t.editItem(e.item)}}},[a("v-icon",[t._v("\n                        mdi-open-in-new\n                    ")]),t._v(" View")],1)],1)]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-card",{directives:[{name:"show",rawName:"v-show",value:t.ses_area,expression:"ses_area"}],attrs:{id:"session_area"}},[a("header",[a("h1",{staticStyle:{background:"#e3e3e3","font-size":"30pt","text-align":"center","line-height":"10mm","border-radius":"0.25em",color:"#000",margin:"0 0 1em",padding:"0.5em 0"}},[t._v(t._s(t.ses.shift)+" Shift @ "+t._s(t.moment(t.ses.open_time).format("MMM Do YYYY"))+" By "+t._s(t.ses.user_name))])]),t._v(" "),a("v-divider"),t._v(" "),a("table",{attrs:{dense:""}},[a("tr",[a("td",[t._v("Opening Cash:")]),t._v(" "),a("td",[t._v("Ghc "+t._s(t.ses.opening_cash))])]),t._v(" "),a("tr",[a("td",[t._v("Cash Sales:")]),t._v(" "),a("td",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.ses.cash)+" ")])]),t._v(" "),a("tr",[a("td",[t._v("Cheque Sales")]),t._v(" "),a("td",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.ses.cheque))])]),t._v(" "),a("tr",[a("td",[t._v("Visa Sales:")]),t._v(" "),a("td",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.ses.visa))])]),t._v(" "),a("tr",[a("td",[t._v("MoMo Sales:")]),t._v(" "),a("td",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.ses.momo))])]),t._v(" "),a("tr",[a("td",[t._v("Credit Sales:")]),t._v(" "),a("td",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.ses.credit))])]),t._v(" "),a("tr",[a("td",[t._v("Returns:")]),t._v(" "),a("td",{staticClass:"align-end"},[t._v("GH¢ "+t._s(t.ses.returns))])]),t._v(" "),a("v-divider"),t._v(" "),a("tr",[a("td",{staticClass:"subheading"},[t._v("Total Sales:")]),t._v(" "),a("td",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.ses.total_sales))])]),t._v(" "),a("tr",[a("td",{staticClass:"subheading"},[t._v("Expenses:")]),t._v(" "),a("td",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.ses.expenses))])]),t._v(" "),a("tr",[a("td",{staticClass:"subheading"},[t._v("Closing Cash:")]),t._v(" "),a("td",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.ses.closing_cash))])]),t._v(" "),a("tr",[a("td",{staticClass:"subheading"},[t._v("Expected Cash:")]),t._v(" "),a("td",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.expCash))])]),t._v(" "),a("tr",[a("td",{staticClass:"subheading"},[t._v("Variance:")]),t._v(" "),a("td",{staticClass:"align-end subheading"},[t._v("GH¢ "+t._s(t.varCash))])]),t._v(" "),a("aside",[a("v-divider"),t._v(" "),a("div",{staticClass:"mt-4"},[a("small",{staticClass:"vsmall"},[t._v("Powered By WorkIT Facility Management System")])])],1)],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},Qh=[],Zh={render:Wh,staticRenderFns:Qh},Xh=Zh,Jh=a("VU/8"),Kh=St,tf=Jh(Lh,Xh,!1,Kh,"data-v-3bfeec4e",null),ef=tf.exports,af=a("mtWM"),sf={name:"toppers",data:function(){return{loader:!1,ex:{ex_name:""},search:"",side_items:[],headers:[{text:"No.",align:"left",value:"num",class:"subheading"},{text:"Product Name",sortable:!1,align:"left",value:"product_name",class:"subheading"},{text:"Total Quantity Sold",align:"left",value:"quantity",class:"subheading"}],dialog:!1,fetchup:!1,snack:!1,total:"",snackText:!1,snackColor:"",editedIndex:-1,editedItem:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0},toppers:[]}},computed:{apiSet:function(){return this.$store.getters.getApi},formTitle:function(){return-1===this.editedIndex?"Add Expense Category":"Edit Expense Category"},btnTitle:function(){return-1===this.editedIndex?"Add Category":"Update Category"}},mounted:function(){this.setSide(),this.loadToppers()},methods:{setSide:function(){this.$store.commit("setSideItems",this.side_items),this.$store.commit("setDrawer",!0)},loadToppers:function(){var t=this,e=this;this.fetchup=!0;var a=[],s={cid:this.userData.company_id,oid:this.userData.outlet_id};af.post(this.apiSet.allToppers,s).then(function(s){var i=_.chain(s.data).groupBy("product_name").map(function(t,e){return{product_name:e,quantity:t.reduce(function(t,e){return t+e.quantity},0)}}).value();console.log(i);for(var n=0,r=i.length;n<r;n++)i[n].num=n+1,a.push(i[n]);e.toppers=a,e.total=a.length,e.fetchup=!1,t.snack=!0,t.snackText="Data Was Successfully loaded.",t.snackColor="green"}).catch(function(a){console.log(a),e.loader=!1,t.snack=!0,t.snackText="sorry an error occurred.",t.snackColor="red",t.err.push(a)})},onExpenseAdd:function(){var t=this;if(this.editedIndex>-1)this.updateExpense();else{var e=this;this.$validator.validateAll().then(function(a){if(!a)return e.snack=!0,e.snackText="Error. Please correct form errors.",e.snackColor="red",!1;t.loader=!0;var s=t.ex;s.ex_user=t.userData.user_name,af.post(t.apiSet.singleExCat,s).then(function(t){e.closeup(),e.loadtoppers(),e.loader=!1,e.snack=!0,e.snackText="Success. Data was successfully added.",e.snackColor="green"}).catch(function(t){e.loader=!1,e.snack=!0,e.snackText="Error.Sorry an error occured.",e.snackColor="red"})})}},editItem:function(t){this.editedIndex=this.toppers.indexOf(t);var e=this.toppers.indexOf(t),a=this.toppers[e];this.ex=wi()({},a),this.dialog=!0},closeup:function(){this.dialog=!1,this.ex.ex_name="",this.editedIndex=-1},updateExpense:function(){var t=this;if(this.editedIndex>-1){wi()(this.toppers[this.editedIndex],this.editedItem);var e=this.editedIndex,a=this.toppers[e].id;this.loader=!0,console.log(e);var s=this.ex;af.patch(this.apiSet.singleExCat+"/"+a,s).then(function(e){console.log(e),t.loader=!1,t.snack=!0,t.snackText="Update Successful",t.snackColor="green",t.closeup(),t.$validator.reset(),t.loadtoppers()}).catch(function(e){console.log(e),t.loader=!1,this.snack=!0,this.snackText="Network erorr occured.",this.snackColor="red"})}else console.log(this.editedItem)},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Category?",message:"Are you sure you want to Delete Category?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.toppers.indexOf(t);this.toppers.splice(s,1),af.delete(a+"/ex_cat/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadtoppers(),e.snack=!0,e.snackText="Data Successfully Deleted",e.snackColor="red"}).catch(function(t){e.snack=!0,e.snackText="Sorry. Network Error occured.",e.snackColor="red",console.log(t)})}}},nf=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"thead"},[a("v-card-title",[a("v-btn",{attrs:{icon:"",color:"primary",small:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),a("p",{staticClass:"headline ttext mt-3"},[t._v("Top Products [ "),a("i",{staticClass:"green--text text--darken-3"},[t._v(t._s(t.total))]),t._v(" ]")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":"",outline:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-8",attrs:{headers:t.headers,items:t.toppers,search:t.search,loading:t.fetchup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.num))]),t._v(" "),a("td",[t._v(t._s(e.item.product_name))]),t._v(" "),a("td",[t._v(t._s(e.item.quantity))])]}}])},[t._v(" "),a("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n                Your search for "'+t._s(t.search)+'" found no results.\n            ')])],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:6e3,top:!0,right:"right"===t.x,color:""},model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v("\n        "+t._s(t.snackText)+"\n        "),a("v-btn",{attrs:{flat:"",color:t.snackColor},nativeOn:{click:function(e){t.snack=!1}}},[t._v("Close")])],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},rf=[],of={render:nf,staticRenderFns:rf},lf=of,cf=a("VU/8"),df=qt,uf=cf(sf,lf,!1,df,"data-v-9e958014",null),mf=uf.exports,vf={methods:{goHome:function(){this.$router.go(-1)}}},_f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"404"}},[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":"",row:""}},[a("div",{staticClass:"mr-3 hidden-sm-and-down"},[a("img",{attrs:{src:"/static/img/error/404.svg",alt:""}})]),t._v(" "),a("div",{staticClass:"text-md-center"},[a("h1",[t._v("404")]),t._v(" "),a("h2",{staticClass:"my-3 headline "},[t._v("Sorry, Not Found.")]),t._v(" "),a("div",[a("v-btn",{attrs:{color:"primary"},on:{click:t.goHome}},[t._v("Go Back")])],1)])])],1)],1)},pf=[],hf={render:_f,staticRenderFns:pf},ff=hf,bf=a("VU/8"),gf=Dt,xf=bf(vf,ff,!1,gf,"data-v-6c5cd150",null),yf=xf.exports;Ut.default.use(Gt.a);var kf=new Gt.a({routes:[{path:"/",name:"Home",component:Pe},{path:"/login",name:"Login",component:Ye},{path:"/dashboard",name:"Dashboard",meta:{breadcrumb:!0},component:fi},{path:"/make_sale",name:"sales",meta:{breadcrumb:!0},component:zn},{path:"/make_sale_barcode",name:"make-sale-barcode",meta:{breadcrumb:!0},component:Jn},{path:"/date_ranger",name:"date_ranger",meta:{breadcrumb:!0},component:Po},{path:"/purchase_draft",name:"purchase_draft",component:av},{path:"/my_sales",name:"my_sales",meta:{breadcrumb:!0},component:Fo},{path:"/sales_summary",name:"sales_summary",meta:{breadcrumb:!0},component:ef},{path:"/toppers",name:"toppers",meta:{breadcrumb:!0},component:mf},{path:"/sale_invoice",name:"sale_invoice",component:or},{path:"/new_sale_invoice",name:"new_sale_invoice",component:hr},{path:"/clear_sale_invoice",name:"clear_sale_invoice",component:Sr},{path:"/user_profile",name:"user_profile",component:fl},{path:"/buffer_invoice",name:"buffer_invoice",component:Or},{path:"/invoice_list",name:"invoice_list",component:Gr},{path:"/all_invoice_list",name:"all_invoice_list",component:eo},{path:"/attendant_invoice",name:"attendant_invoice",component:xo},{path:"/debtors",name:"debtors",meta:{breadcrumb:!0},component:Yp},{path:"/creditors",name:"creditors",meta:{breadcrumb:!0},component:ph},{path:"/stock_recon",name:"stock_recon",meta:{breadcrumb:!0},component:Pv},{path:"/new_recon",name:"new_recon",meta:{breadcrumb:!0},component:Fv},{path:"/good_recon",name:"good_recon",meta:{breadcrumb:!0},component:Wv},{path:"/bank_account",name:"bank_account",meta:{breadcrumb:!0},component:K_},{path:"/requisitions",name:"requisitions",meta:{breadcrumb:!0},component:Nc},{path:"/new_reorder",name:"new_reorder",component:Vc},{path:"/inv_requisitions",name:"inv_requisitions",component:i_},{path:"/inv_shortages",name:"inv_shortages",component:__},{path:"/inv_shortage_view",name:"inv_shortage_view",component:w_},{path:"/new_shortages",name:"new_shortages",component:N_},{path:"/inv_transfer",name:"inv_transfer",component:V_},{path:"/bank_transact",name:"bank_transact",meta:{breadcrumb:!0},component:cp},{path:"/customer_statements",name:"customer_statements",meta:{breadcrumb:!0},component:gp},{path:"/supplier_statements",name:"supplier_statements",meta:{breadcrumb:!0},component:Ih},{path:"/expiry_reports",name:"expiry_reports",meta:{breadcrumb:!0},component:Oh},{path:"/zero_stock",name:"zero_stock",component:ku},{path:"/pack_unit",name:"pack_unit",meta:{breadcrumb:!0},component:rl},{path:"/customers",name:"customers",meta:{breadcrumb:!0},component:Zo},{path:"/suppliers",name:"suppliers",meta:{breadcrumb:!0},component:yv},{path:"/pos_expiry",name:"pos_expiry",meta:{breadcrumb:!0},component:Rd},{path:"/pos_receive",name:"pos_receive",meta:{breadcrumb:!0},component:ld},{path:"/debtors_history",name:"debtors_history",component:Qp},{path:"/creditors_history",name:"creditors_history",component:nh},{path:"/receive_items",name:"receive_items",meta:{breadcrumb:!0},component:Ju},{path:"/expenses",name:"expenses",meta:{breadcrumb:!0},component:wc},{path:"/proforma_invoice",name:"proforma_invoice",meta:{breadcrumb:!0},component:uo},{path:"/categories",name:"categories",meta:{breadcrumb:!0},component:zu},{path:"/ex_categories",name:"ex_categories",meta:{breadcrumb:!0},component:qd},{path:"/purchases",name:"purchases",meta:{breadcrumb:!0},component:lm},{path:"/new_purchase",name:"new_purchase",meta:{breadcrumb:!0},component:Dm},{path:"/purchase_view",name:"purchase_view",meta:{breadcrumb:!0},component:Rm},{path:"/reorder_view",name:"reorder_view",meta:{breadcrumb:!0},component:Jc},{path:"/reorder_pop",name:"reorder_pop",meta:{breadcrumb:!1},component:uv},{path:"/pos_reorder_invoice",name:"pos_reorder_invoice",meta:{breadcrumb:!1},component:fd},{path:"/purchase_pop",name:"purchase_pop",meta:{breadcrumb:!1},component:Hm},{path:"/acc_summary",name:"account_summary",meta:{breadcrumb:!0},component:Hd},{path:"/stock_manager",name:"stock_manager",meta:{breadcrumb:!0},component:au},{path:"/add_products",name:"add_products",meta:{breadcrumb:!0},component:Eu},{path:"/product_dictionary",name:"product_dictionary",meta:{breadcrumb:!0},component:mu},{path:"/sales_report",name:"sales_report",meta:{breadcrumb:!1},component:Gh},{path:"/fms_users",name:"fms_users",meta:{breadcrumb:!0},component:Rl},{path:"/sale_sessions",name:"sale_sessions",meta:{breadcrumb:!0},component:ql},{path:"/company",name:"fmscompany",meta:{breadcrumb:!0},component:Ll},{path:"/my_company",name:"company",meta:{breadcrumb:!0},component:sc},{path:"/outlets",name:"outlets",meta:{breadcrumb:!0},component:vc},{path:"*",component:yf}],mode:"history"}),wf=a("QmSG"),Cf=a("NYxO"),If=(a("Sazm"),a("mtWM")),Sf={loadProducts:function(t){var e=t.commit,a=t.state,s=a.config.api;If.get(s.allProducts).then(function(t){console.log(t.data.data);var a=t.data.data;e("setAllProducts",a)}).catch(function(t){console.log(t)})},loadDebOut:function(t){var e=t.commit,a=t.state,s=a.config.api;If.get(s.deb_out).then(function(t){var a=[];console.log(t.data.data);for(var s=t.data.data,i="green darken-3",n=0,r=s.length;n<r;n++)s[n].due_days<=7&&(i="red darken"),s[n].due_days>7&&s[n].due_days<=28&&(i="orange darken-3"),s[n].due_days>28&&(i="green darken-3"),a.push({subheading:s[n].sup_name,headline:"Ghc "+s[n].credit_unpaid,percent:s[n].due_days,icon:{label:"mdi-cash-multiple",color:i},linear:{value:s[n].due_days,color:i}}),s.length<=2&&a.push({subheading:"",headline:"Ghc 0",percent:0,icon:{label:"mdi-cash-multiple",color:"grey"},linear:{value:0,color:"grey"}});e("setDebOut",a)}).catch(function(t){console.log(t)})},loadLowStock:function(t){var e=t.commit,a=t.state,s=a.config.api;If.get(s.low_stock).then(function(t){var a=[];console.log(t.data.data);for(var s=t.data.data,i="green darken-3",n=0,r=s.length;n<r;n++){var o=100*s[n].rt_quantity/s[n].max_no;o<=s[n].min_no&&(i="red darken-3"),o>s[n].min_no&&(i="green darken-3"),a.push({name:s[n].product_name,quantity:s[n].rt_quantity+"("+s[n].rt_unit+")",progress:Math.round(o),color:i})}console.log("Camp it"),console.log(ll()(a)),e("setLowStock",a)}).catch(function(t){console.log(t)})},loadOutlets:function(t,e){var a=t.commit,s=t.state,i="",n=s.user_data.company_id;i=1===n?s.config.api.allOutlets:s.config.api.companyOutlets+"/"+n,If.get(i).then(function(t){console.log(t.data.data);var e=t.data.data;a("setOutlets",e)}).catch(function(t){console.log(t)})},loadCustomers:function(t){var e=t.commit,a=t.state,s=a.config.api;If.get(s.allCustomers).then(function(t){var a=[];console.log(t.data.data);for(var s=t.data.data,i=0,n=s.length;i<n;i++)console.log(s[i].title),a.push({id:s[i].id,num:i,title:s[i].title,name:s[i].firstname+" "+s[i].lastname,firstname:s[i].firstname,lastname:s[i].lastname,phone_no:s[i].phone_no,email:s[i].email,company:s[i].company_name,address:s[i].address,credit:s[i].credit,discount_percentage:s[i].discount_percentage,discount_amount:s[i].discount_amount,markup:s[i].markup});e("setCustomers",a)}).catch(function(t){console.log(t)})},loadUserData:function(t,e){var a=t.commit,s=t.state,i=s.config.api;If.get(i.singleUser+"/"+e).then(function(t){var e={};console.log(t.data.data);var s=t.data.data;e.id=s.id,e.user_name=s.name,e.user_email=s.email,e.company_id=s.company_id,e.outlet_id=s.outlet_id,e.role=s.role,e.role_name=s.role_name,e.outlet_name=s.outlet.outlet_name,e.outlet_location=s.outlet.location,e.outlet_phone_no=s.outlet.phone_no,e.outlet_name=s.outlet.outlet_name,e.company_tag=s.company.company_tag,e.company_name=s.company.company_name,e.company_address=s.company.address,e.company_location=s.company.location,e.company_phone_no=s.company.phone_no,e.company_category=s.company.category,e.company_slogan=s.company.company_slogan,e.vat=s.company.vat,console.log(e),a("setUserData",e),localStorage.setItem("workitUser",ll()(e))}).catch(function(t){console.log(t)})},loadDictionaries:function(t){var e=t.commit,a=t.state,s=a.config.api;If.get(s.allDictionarys).then(function(t){for(var a=[],s=t.data.data,i=0,n=s.length;i<n;i++)console.log(s[i].title),a.push({id:s[i].id,num:i,product_name:s[i].product_name,category:s[i].category,manufacturer:s[i].manufacturer,expiry:s[i].expiry,barcode:s[i].barcode,product_type:s[i].product_type});e("setDic",a)}).catch(function(t){console.log(t)})},loadTopProds:function(t){var e=t.commit,a=t.state,s=a.config.api;If.get(s.top_items).then(function(t){var a=t.data;console.log(a);var s=_.chain(a).groupBy("product_name").map(function(t,e){return{name:e,value:t.reduce(function(t,e){return t+e.quantity},0)}}).value();ll()(s,null,"  ");e("setTopProds",s)}).catch(function(t){console.log(t)})},doSync:function(t){var e=(t.commit,t.state),a=Lt()().format("MMMM Do YYYY, h:mm:ss a");console.log("Starting Sync"+a);var s=e.config.api,i={oid:e.user_data.outlet_id,cid:e.user_data.company_id};If.post(s.syncLocal,i).then(function(t){var e=t.data;console.log("Sync Successfull."),console.log(e)}).catch(function(t){console.log(t)})},loadCategories:function(t){var e=this,a=t.state,s=t.commit,i=a.config.api,n=this;If.get(i.allCategories).then(function(t){for(var e=[],a=t.data.data,i=0,n=a.length;i<n;i++)console.log(a[i].title),e.push({id:a[i].id,num:i,cat_name:a[i].cat_name,cat_user:a[i].cat_user});s("setCat",e)}).catch(function(t){console.log(t),n.loader=!1,e.err.push(t)})},loadCount:function(t){var e=t.state,a=t.commit,s=e.config.api,i=this,n={exp:0,prod:0,deb:0,cred:0};If.get(s.exp_count).then(function(t){n.exp=t.data[0].count}).catch(function(t){console.log(t)}),If.get(s.prod_count).then(function(t){n.prod=t.data[0].count}).catch(function(t){console.log(t)}),If.get(s.deb_count).then(function(t){n.deb=t.data[0].count}).catch(function(t){console.log(t)}),If.get(s.cred_count).then(function(t){n.cred=t.data[0].count,console.log(n),a("setMini",n)}).catch(function(t){console.log(t),i.loader=!1})},loadPackUnits:function(t){var e=t.state,a=t.commit,s=e.config.api;If.get(s.allPackUnits).then(function(t){for(var e=[],s=t.data.data,i=0,n=s.length;i<n;i++)console.log(s[i].title),e.push({id:s[i].id,pack_name:s[i].pack_name});a("setPackUnits",e)}).catch(function(t){console.log(t)})},doDrawer:function(t,e){var a=t.commit;t.state.drawer?a("setDrawer",!1):a("setDrawer",!0)},doRightDrawer:function(t,e){var a=t.commit;t.state.drawerRight?a("setRightDrawer",!1):a("setRightDrawer",!0)},doCustomerID:function(t,e){var a=t.commit;t.state;a("setCustomerID",e)}},qf={setLoadedMeetups:function(t,e){t.loadedMeetups=e},setHead:function(t,e){t.head=e},setSnack:function(t,e){t.snacky=e},setCustomer:function(t,e){t.regCustomer=e},setDic:function(t,e){t.dictionaries=e},set_uid:function(t,e){t.user_data.id=e},createMeetup:function(t,e){t.loadedMeetups.push(e)},createCustomer:function(t,e){t.regCustomer.push(e)},setAuth:function(t,e){t.authUser=e},setDrawer:function(t,e){t.drawer=e},setReturnees:function(t,e){t.returnees=e},setRightDrawer:function(t,e){t.drawerRight=e},setSideItems:function(t,e){t.side_items=e},setUser_email:function(t,e){t.user_email=e.email},Regform:function(t,e){t.regform=e},ReqDet:function(t,e){t.reqdetails=e},PickDet:function(t,e){t.pickdetails=e},PayDet:function(t,e){t.paydetails=e},PersonalDet:function(t,e){t.personaldetails=e},setLoading:function(t,e){t.loading=e},setLoadingPage:function(t,e){t.loadingPage=e},setError:function(t,e){t.error=e},clearError:function(t,e){t.error=null},setSubmitLoadState:function(t,e){t.submitLoadState=e},set_in:function(t,e){t.s_in=e},set_up:function(t,e){t.s_up=e},setCustomers:function(t,e){t.customers=e},setBookInfo:function(t,e){t.bookInfo=e},setBookDays:function(t,e){t.bookDays=e},setBookHours:function(t,e){t.bookHours=e},setBookMins:function(t,e){t.bookMins=e},setBookTime:function(t,e){t.bookTime=e},setGrandTotal:function(t,e){t.grandTotal=e},setGoldLoad:function(t,e){t.goldLoad=e},setBillData:function(t,e){t.billData[0]=e},setBillRate:function(t,e){t.billData[0].rate=e},setPackage:function(t,e){t.bookPackage=e},setPout:function(t,e){t.pout=e},setReturnProds:function(t,e){t.current_products[e.indy].quantity=e.rem_quantity,t.current_products[e.indy].ret_quantity=e.ret_quantity},setReturnSales:function(t,e){t.current_sales.total=e.rem_total,t.current_sales.ret_total=e.ret_total},upReqMsg:function(t,e){t.reqMsg=t.reqMsg+1},setCustomerID:function(t,e){t.customerID=e},setNewPurchase:function(t,e){t.new_purchase.push(e)},setNewPopPurchase:function(t,e){t.new_purchase=e},setAllProducts:function(t,e){t.all_products.push(e)},setCat:function(t,e){t.all_categories=e},setSalesSession:function(t,e){t.sales_session=e},setTransferDet:function(t,e){t.transferDet=e},setTransferNew:function(t,e){t.transferNew=e},setSup:function(t,e){t.all_sup=e},setLowStock:function(t,e){t.low_stock=e},setCurrentSales:function(t,e){t.current_sales=e},setInvoiceCS:function(t,e){t.current_sales.invoice_no=e},setAddData:function(t,e){t.current_sales.invoice_no=e.invoice_no,t.current_sales.amount_tendered=e.amount_tendered,t.current_sales.change_due=e.change_due,t.current_sales.amount_due=e.amount_due,t.current_sales.payment_type=e.payment_type},setCurrentProducts:function(t,e){t.current_products=e},setSaleCustomer:function(t,e){t.sale_customer=e},setIsUp:function(t,e){t.isUp=e},setExCats:function(t,e){t.ex_cats=e},setTopProds:function(t,e){t.topProds=e},setOutlets:function(t,e){t.outlets=e},setDebOut:function(t,e){t.deb_out=e},setPackUnits:function(t,e){t.pack_units=e},setBankDrop:function(t,e){t.bank_drop=e},setSuspendedSales:function(t,e){t.suspendedSales.unshift(e)},setCompany:function(t,e){t.company_details=e},setPurchaseDet:function(t,e){t.purchase_det=e},setUserData:function(t,e){t.user_data=e},setMini:function(t,e){t.mini=e},clearPurchase:function(t,e){t.new_purchase=[]},delPurchase:function(t,e){t.new_purchase.splice(t.new_purchase.findIndex(function(t){return t.id===e.id}),1)},editNewPurchase:function(t,e){t.new_purchase[e.index]=e}},Df={getApi:function(t){return t.config.api},getHead:function(t){return t.head},getNewPurchase:function(t){return t.new_purchase},getPout:function(t){return t.pout},getDrawer:function(t){return t.drawer},getCustomers:function(t){return t.customers},getReturnees:function(t){return t.returnees},getDebOut:function(t){return t.deb_out},getLowStock:function(t){return t.low_stock},getSalesSession:function(t){return t.sales_session},getCustomerID:function(t){return t.customerID},getTopProds:function(t){return t.topProds},getMini:function(t){return t.mini},getIsUp:function(t){return t.isUp},getDictionaries:function(t){return t.dictionaries},getCats:function(t){return t.all_categories},getSnack:function(t){return t.snacky},getCurrentProducts:function(t){return t.current_products},getAllProducts:function(t){return t.all_products[0]},getTranserDet:function(t){return t.transferDet},getTranserNew:function(t){return t.transferNew},getCurrentSales:function(t){return t.current_sales},getCompany:function(t){return t.company_details},getSaleCustomer:function(t){return t.sale_customer},getUserData:function(t){return t.user_data},getSideItems:function(t){return t.side_items},getExCats:function(t){return t.ex_cats},getOutlets:function(t){return t.outlets},getMylets:function(t){for(var e=t.outlets,a=[],s=0,i=e.length;s<i;s++)a.push(e[s].outlet_name);return a},getSup:function(t){return t.all_sup},getAuthUser:function(t){return t.all_sup},getPackUnits:function(t){return t.pack_units},getBankDrop:function(t){return t.bank_drop},getSuspendedSales:function(t){return t.suspendedSales},getRightDrawer:function(t){return t.drawerRight},getPurchaseDet:function(t){return t.purchase_det}};Ut.default.use(Cf.a),Ut.default.use(oa.a);var $f,Pf=new Cf.a.Store({state:{snacky:{n:"",t:"Success",c:"green darken-3"},isUp:!1,pout:1,returnees:[],low_stock:[],deb_out:[],drawer:!1,drawerRight:!1,head:!0,mini:{exp:0,prod:0,deb:0,cred:0},topProds:[],pack_units:[],regCustomer:[],all_products:[],all_categories:[],suspendedSales:[],all_sup:[],outlets:[],transferDet:{},transferNew:{},purchase_det:{outlet:"Demo",supplier:"Soliloquy",sup_invoice:"D383748",carriage:"223e",vat:"300",sup_discount:"5",payment_mode:"Cash",date:new Date},sales_session:{shift:"Not Set"},user_data:{user_name:"Rita",address:"PMB 491, New Street, Accra",company:"Demo Company",company_id:1,outlet_id:1,email:"mai@mail.com",id:0,num:0,role:"X",phone_no:"029383938",company_slogan:"We Deliver to you quality...",title:null},company_details:{company_tag:"ECG",company_name:"Demo Company",address:"PMB 491, New Street, Accra",location:"Banana Close, Agbogba",phone_no:"331-393-3394",company_slogan:"We Deliver to you quality..."},sale_customer:{address:"New Street",company:"Bank",credit:0,discount_amount:"0",discount_percentage:"0",email:"mai@mail.com",firstname:"Walk-in",id:1,lastname:"Customer",markup:1,name:"Walk-In Customer",num:0,phone_no:"029383938",title:null},ex_cats:[],bank_drop:[],current_sales:[],current_products:[],new_purchase:[],customers:[],dictionaries:[],customerID:0,bookDays:"0",bookHours:"0",bookMins:"-1",bookTime:"0",grandTotal:"0",submitLoadState:!1,submittedState:0,reqMsg:1,side_items:[],authUser:0,loading:!1,loadingPage:!1,error:null,s_in:!0,s_up:!1,goldLoad:!1,config:wf.a},mutations:qf,actions:Sf,getters:Df}),Tf=function(t){return new Date(t).toLocaleString(["en-US"],{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})},Ef={props:["text"],methods:{onClose:function(){this.$emit("dismissed")}}},Nf=function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-alert",{attrs:{color:"error",icon:"error",dismissible:"",value:!0},on:{input:t.onClose}},[t._v("\n    "+t._s(t.text)+"\n")])},Af=[],Of={render:Nf,staticRenderFns:Af},Mf=Of,Rf=a("VU/8"),jf=$t,Yf=Rf(Ef,Mf,!1,jf,"data-v-5ef9450f",null),Ff=Yf.exports,Uf=[{title:"New user registered",color:"green darken-3",icon:"account_circle",timeLabel:"Just now"},{divider:!0,inset:!0},{title:"New purchase received",color:"blue darken-3",icon:"shopping_cart",timeLabel:"2 min ago"},{divider:!0,inset:!0},{title:"New payment made",color:"cyan darken-4",icon:"payment",timeLabel:"24 min ago"},{divider:!0,inset:!0},{title:"New message from Michael",color:"red darken-3",icon:"email",timeLabel:"1 hour ago"}],zf={data:function(){return{items:Uf}},methods:{handleClick:function(t){console.log(t)}}},Vf=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"elevation-0"},[a("v-toolbar",{attrs:{card:"",dense:"",color:"transparent"}},[a("v-toolbar-title",[a("h4",[t._v("Notification")])])],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-text",{staticClass:"pa-0"},[a("v-list",{staticClass:"pa-0",attrs:{"two-line":""}},[t._l(t.items,function(e,s){return[e.header?a("v-subheader",{key:e.header},[t._v(t._s(e.header))]):e.divider?a("v-divider",{key:s}):a("v-list-tile",{key:e.title,attrs:{avatar:""},on:{click:t.handleClick}},[a("v-list-tile-avatar",{attrs:{color:e.color}},[a("v-icon",{attrs:{dark:""}},[t._v(t._s(e.icon))])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-sub-title",{domProps:{innerHTML:t._s(e.title)}})],1),t._v(" "),a("v-list-tile-action",{staticClass:"caption"},[t._v("\n            "+t._s(e.timeLabel)+"\n          ")])],1)]})],2),t._v(" "),a("v-divider"),t._v(" "),a("v-btn",{staticClass:"ma-0",attrs:{block:"",flat:""}},[t._v("All")]),t._v(" "),a("v-divider")],1)],1)},Bf=[],Gf={render:Vf,staticRenderFns:Bf},Hf=Gf,Lf=a("VU/8"),Wf=Lf(zf,Hf,!1,null,null,null),Qf=Wf.exports,Zf={name:"gold-header",data:function(){var t=this;return{isUpdating:!0,right:null,left:null,sup_items:[{title:"POINT OF SALE",items:[{title:"Sales",link:"/make_sale_barcode"},{title:"Expenses",link:"/expenses"},{title:"Report Expired Items",link:"/pos_expiry"}]},{title:"ACCOUNTS",items:[{title:"Bank Account",link:"/bank_account"},{title:"Bank Transactions",link:"/bank_transact"},{title:"Debtors",link:"/debtors"},{title:"Creditors",link:"/creditors"},{title:"Customer Statements",link:"/customer_statements"},{title:"Supplier Statements",link:"/supplier_statements"},{title:"Income/Expenditure"}]},{title:"INVENTORY",items:[{title:"Stock Manager",link:"/stock_manager"},{title:"Add Products",link:"/add_products"},{title:"Purchases",link:"/purchases"},{title:"Transfer Items",link:"/transfer_items"},{title:"Receive Items",link:"/receive_items"},{title:"Report Expiries",link:"/pos_expiry"},{title:"Stock Reconciliation",link:"/stock_recon"},{title:"Reorders",link:"/reorders"},{title:"Top Products",link:"/toppers"}]},{title:"REPORTS",items:[{title:"Sales Report",link:"/sales_report"},{title:"Stock Activities",link:"stock_activities"},{title:"Product Activities",link:"/product_activities"},{title:"Expiry Reports",link:"/expiry_reports"}]},{title:"ADMIN",items:[{title:"Customers",link:"/Customers"},{title:"Suppliers",link:"/suppliers"},{title:"Manage POS Sessions",link:"/sale_sessions"},{title:"Manage Companies",link:"/company"},{title:"Manage Outlets",link:"/outlets"},{title:"Manage Users",link:"/fms_users"},{title:"Pack Units",link:"/pack_unit"}]}],items:[{icon:"account_circle",title:"Profile",click:function(e){t.$router.push("/user_profile")}},{icon:"settings",href:"#",title:"Settings",click:function(t){console.log(t)}},{icon:"fullscreen_exit",title:"Logout",click:function(e){localStorage.setItem("workitUser",ll()({})),t.$store.commit("setSnack",{t:"You have been Logged Out.",c:"green darken-3"}),t.$router.push("/")}}]}},props:{source:String},computed:{side_items:function(){return this.$store.getters.getSideItems},menuItems:function(){var t=[],e=this.userData.role,a={title:"POINT OF SALE",items:[{title:"Sales",link:"/make_sale"},{title:"Expenses",link:"/expenses"},{title:"Report Expired Items",link:"/pos_expiry"},{title:"Re-order Stock",link:"/requisitions"},{title:"Receive Stock",link:"/pos_receive"}]},s={title:"ACCOUNTS",items:[{title:"Bank Account",link:"/bank_account"},{title:"Bank Transactions",link:"/bank_transact"},{title:"Debtors",link:"/debtors"},{title:"Creditors",link:"/creditors"},{title:"Customer Statements",link:"/customer_statements"},{title:"Supplier Statements",link:"/supplier_statements"}]},i={title:"INVENTORY",items:[{title:"Stock Manager",link:"/stock_manager"},{title:"Add Products",link:"/add_products"},{title:"Purchases",link:"/purchases"},{title:"Receive Items",link:"/receive_items"},{title:"Reorders",link:"/inv_requisitions"},{title:"Report Expiries",link:"/pos_expiry"},{title:"Top Products",link:"/toppers"},{title:"Stock Shortages",link:"/inv_shortages"}]},n={title:"REPORTS",items:[{title:"Sales Report",link:"/sales_report"},{title:"Stock Activities",link:"stock_activities"},{title:"Product Activities",link:"/product_activities"},{title:"Expiry Reports",link:"/expiry_reports"},{title:"Top Products",link:"/toppers"}]},r={title:"ADMIN",items:[{title:"Customers",link:"/Customers"},{title:"Suppliers",link:"/suppliers"},{title:"Manage POS sessions",link:"/sale_sessions"},{title:"Pack Units",link:"/pack_unit"}]},o={title:"ADMIN",items:[{title:"Customers",link:"/Customers"},{title:"Suppliers",link:"/suppliers"},{title:"Manage POS sessions",link:"/sale_sessions"},{title:"Manage Companies",link:"/company"},{title:"My Company",link:"/my_company"},{title:"Manage Outlets",link:"/outlets"},{title:"Manage Users",link:"/fms_users"},{title:"Pack Units",link:"/pack_unit"}]};return e.includes("P")&&t.push(a),e.includes("F")&&(t.push(a),t.push(s)),e.includes("W")&&(t.push(a),t.push(s),t.push(i)),e.includes("C")&&(t.push(a),t.push(n)),e.includes("A")&&(t.push(a),t.push(s),t.push(i),t.push(n),t.push(r)),e.includes("X")&&(t.push(a),t.push(s),t.push(i),t.push(n),t.push(o)),t},userIsAuthenticated:function(){return""!==this.$store.getters.user},reqMsg:function(){return this.$store.getters.getReqMsg},drawer:function(){return this.$store.getters.getDrawer},drawerRight:function(){return this.$store.getters.getRightDrawer}},methods:{handleFullScreen:function(){var t=window.document,e=t.documentElement,a=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen||e.msRequestFullscreen,s=t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen;t.fullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||t.msFullscreenElement?s.call(t):a.call(e)},showDrawer:function(){this.$store.dispatch("doDrawer")},showRightDrawer:function(){this.$store.dispatch("doRightDrawer")},open_dialog:function(){this.dialog=!0},checkuser:function(){console.log(this.$store.getters.user)},clearForm:function(){this.name="",this.phone="",this.message="",this.customerName="",this.customerPhone=""},sendMessage:function(){if(!this.formIsValid)return this.$validator.validateAll(),this.formHasErrors=!0,this.msg_loader=!1,!1;this.msg_loader=!0;var t={rname:this.name,rphone:this.phone,rmsg:this.message};this.$store.dispatch("sendMsg",t)},requestCallBack:function(){if(!this.regFormIsValid)return this.loading=!1,!1;var t={name:this.customerName,phone:this.customerPhone};console.log(t),this.$store.dispatch("sendReq",t),this.loading=!0}},mounted:function(){this.checkuser()},watch:{loader:function(){var t=this,e=this.loader;this[e]=!this[e],setTimeout(function(){return t[e]=!1},3e3),this.loader=null},reqMsg:function(){this.clearForm(),this.su_snack=!0,this.msg_loader=!1,this.loading=!1,this.clog=!1,this.$refs.form.reset()}},components:{NotificationList:Qf,AppFab:ee,PageHeader:ue}},Xf=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-toolbar",{staticClass:"primary--text",attrs:{fixed:"",app:"",dense:"","clipped-left":"","clipped-right":""}},[a("v-toolbar-side-icon",{on:{click:function(e){return e.stopPropagation(),t.showDrawer()}}}),t._v(" "),a("v-toolbar-title",{staticClass:"pointer",on:{click:function(e){return t.$router.push("/dashboard")}}},[t._v("WorkIT FMS")]),t._v(" "),a("v-toolbar-title",{staticClass:"secondary--text subheading"},[t._v(t._s(t.userData.company_name))]),t._v(" "),a("v-spacer"),t._v(" "),a("v-toolbar-items",t._l(t.menuItems,function(e,s){return a("v-menu",{attrs:{"offset-y":"",bottom:"",origin:"center center",transition:"scale-transition"}},[a("v-btn",{staticClass:"primary--text",attrs:{slot:"activator",flat:"",color:"primary--text",dark:""},slot:"activator"},[t._v("\n               "+t._s(e.title)+"\n            ")]),t._v(" "),a("v-list",t._l(e.items,function(e,s){return a("v-list-tile",{key:s,on:{click:function(a){return t.$router.push(e.link)}}},[a("v-list-tile-title",{on:{click:function(a){return t.$router.push(e.link)}}},[t._v(t._s(e.title))])],1)}),1)],1)}),1),t._v(" "),a("v-btn",{staticClass:"secondary--text elevation-4",attrs:{icon:""},on:{click:function(e){return t.handleFullScreen()}}},[a("v-icon",{},[t._v("fullscreen")])],1),t._v(" "),a("v-menu",{staticClass:"elelvation-1",attrs:{"offset-y":"",origin:"center center","nudge-bottom":14,transition:"scale-transition"}},[a("v-btn",{attrs:{slot:"activator",icon:"",flat:"",color:"primary"},slot:"activator"},[a("v-badge",{attrs:{color:"red",overlap:""}},[a("span",{attrs:{slot:"badge"},slot:"badge"},[t._v("3")]),t._v(" "),a("v-icon",{attrs:{medium:""}},[t._v("notifications")])],1)],1),t._v(" "),a("notification-list")],1),t._v(" "),a("v-menu",{attrs:{"offset-y":"",origin:"center center","nudge-bottom":1,transition:"scale-transition"}},[a("v-btn",{attrs:{slot:"activator",icon:"",large:"",flat:""},slot:"activator"},[a("v-avatar",{attrs:{size:"30px"}},[a("img",{attrs:{src:"/static/img/male.gif",alt:"fms_user"}})])],1),t._v(" "),a("v-list",{staticClass:"pa-0"},t._l(t.items,function(e,s){return a("v-list-tile",{key:s,attrs:{to:e.href?null:{name:e.name},href:e.href,ripple:"ripple",disabled:e.disabled,target:e.target,rel:"noopener"},on:{click:e.click}},[e.icon?a("v-list-tile-action",[a("v-icon",[t._v(t._s(e.icon))])],1):t._e(),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.title))])],1)],1)}),1)],1)],1),t._v(" "),a("v-navigation-drawer",{attrs:{width:"200",app:"",fixed:"",left:"",clipped:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},t._l(t.side_items,function(e){return a("v-list-tile",{key:e.text,on:{click:function(a){return t.$router.push(e.link)}}},[a("v-list-tile-action",[a("v-icon",{attrs:{color:"secondary"}},[t._v(t._s(e.icon))])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                        "+t._s(e.text)+"\n                    ")])],1)],1)}),1)],1),t._v(" "),a("v-navigation-drawer",{attrs:{temporary:"",fixed:""},model:{value:t.left,callback:function(e){t.left=e},expression:"left"}})],1)},Jf=[],Kf={render:Xf,staticRenderFns:Jf},tb=Kf,eb=a("VU/8"),ab=Pt,sb=eb(Zf,tb,!1,ab,"data-v-e9ae35a6",null),ib=sb.exports,nb={name:"gold-agile",data:function(){return{options:{arrows:!1,responsive:[{breakpoint:400,settings:{dots:!1,speed:750}},{breakpoint:300,settings:{arrows:!1,dots:!0,infinite:!1}}]}}}},rb=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card-media",{attrs:{src:"./static/img/caro/gold_caro_2.jpg",height:"250",width:"300"}})],1)},ob=[],lb={render:rb,staticRenderFns:ob},cb=lb,db=a("VU/8"),ub=Tt,mb=db(nb,cb,!1,ub,"data-v-e43df8ca",null),vb=mb.exports,_b={name:"gold-auto",data:function(){return{address:{},appendIcon:"search",classname:"",clearable:"true",disabled:!1,enableGeolocation:!1,id:"map",labelText:"Search Address",prependIcon:"",placeholderText:"",required:"true",types:["geocode"]}},methods:{getAddressData:function(t,e){this.address=t}}},pb=function(){var t=this,e=t.$createElement;return(t._self._c||e)("vue-google-autocomplete",{ref:"address",attrs:{id:"map",classname:"form-control",placeholder:"Please type your address",country:"sg"},on:{placechanged:t.getAddressData}})},hb=[],fb={render:pb,staticRenderFns:hb},bb=fb,gb=a("VU/8"),xb=Et,yb=gb(_b,bb,!1,xb,"data-v-5fd53ab6",null),kb=yb.exports,wb={name:"set-customer",data:function(){return{loading:!1,items:[],search:null,select:null,states:[],default_customer:{address:"New Street",company:"Bank",credit:0,discount_amount:"0",discount_percentage:"0",email:"mai@mail.com",firstname:"Walk-in",id:1,lastname:"Customer",markup:1,name:"Walk-In Customer",num:0,phone_no:"029383938",title:null},full_customer:[]}},watch:{search:function(t){t&&t!==this.select&&this.querySelections(t)},select:function(t){if(!t)return!1;this.full_customer=[],this.dialog=!0;var e=this.cusData.filter(function(e){return e.name===t});this.full_customer.push(e[0]),this.$store.commit("setSaleCustomer",e[0]),this.$store.dispatch("doCustomerID",e[0].id)}},mounted:function(){var t=this;this.loadCustomers(),this.setWalkin(),Wg.$on("changeCus",function(){t.setWalkin()})},created:function(){this.loadCustomers()},computed:{creditLimit:function(){return this.saleCus.credit>0?"[Limit: Ghc "+this.saleCus.credit+"]":""},customerType:function(){return this.saleCus.credit>0?"Credit Customer":"Cash Customer"},cusData:function(){return this.$store.getters.getCustomers},saleCus:function(){return this.$store.getters.getSaleCustomer},cusID:function(){return this.$store.getters.getCustomerID}},methods:{changeCus:function(){this.select=0,this.$store.dispatch("doCustomerID",0),this.$store.commit("setSaleCustomer",this.default_customer)},setWalkin:function(){this.full_customer=[],this.full_customer.push(this.saleCus),this.$store.dispatch("doCustomerID",this.saleCus.id)},loadCustomers:function(){for(var t=[],e=this.$store.getters.getCustomers,a=0,s=e.length;a<s;a++){var i=e[a].firstname+" "+e[a].lastname;t.push(i)}this.states=t,console.log(t)},querySelections:function(t){var e=this;this.loading=!0,this.loadCustomers(),setTimeout(function(){e.items=e.states,e.loading=!1},500)}}},Cb=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.cusID?t._e():a("v-toolbar",{attrs:{dark:"",color:"primary lighten-1"}},[a("v-autocomplete",{staticClass:"mx-3",attrs:{loading:t.loading,items:t.items,"search-input":t.search,"cache-items":"",flat:"",clearable:"","hide-no-data":"","hide-details":"",label:"Start typing customer name ...","solo-inverted":""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1),t._v(" "),t.cusID?a("v-list",{attrs:{subheader:""}},t._l(t.full_customer,function(e){return a("v-list-tile",{key:e.name,attrs:{avatar:""},on:{click:function(t){}}},[a("v-list-tile-avatar",[a("v-btn",{attrs:{outline:"",icon:""}},[a("v-icon",{attrs:{color:"primary",outline:""}},[t._v("mdi-account")])],1)],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",{attrs:{color:"secondary subheading"},domProps:{innerHTML:t._s(e.name)}}),t._v(" "),a("v-list-tile-sub-title",{staticClass:"small grey--text"},[t._v(t._s(t.customerType)+" "+t._s(t.creditLimit))])],1),t._v(" "),a("v-list-tile-action",[a("v-btn",{attrs:{small:"",flat:""},on:{click:t.changeCus}},[a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-rotate-right")]),t._v("Change")],1)],1)],1)}),1):t._e()],1)},Ib=[],Sb={render:Cb,staticRenderFns:Ib},qb=Sb,Db=a("VU/8"),$b=Nt,Pb=Db(wb,qb,!1,$b,"data-v-4f8a62ef",null),Tb=Pb.exports,Eb=a("mtWM"),Nb={$_veeValidate:{validator:"new"},name:"set-product",data:function(){return{new_product:{ws_discount:0,rt_discount:0,ws_unit:"",rt_unit:"",ws_quantity:0,rt_quantity:0,ws_unit_cost:0,rt_unit_cost:0,selling_price:0,rt_pack_size:1,ws_subtotal:0,markup:1,batch_no:1,min_no:0,max_no:0,reorder_no:0},stock_expiry:"",dialog:!1,loading:!1,items:[],loader:!1,search:null,select:null,states:[],dict_load:!1,full_dict:{manufacturer:"",bar_code:"",category:"",product_name:"",product_type:"",expiry:"",id:0,num:0}}},mounted:function(){this.setProduct()},computed:{packList:function(){for(var t=this.$store.getters.getPackUnits,e=[],a=0,s=t.length;a<s;a++)e.push(t[a].pack_name);return e},unit_cost:function(){return this.new_product.ws_unit+" Cost(Ghc)"},runit_cost:function(){return this.new_product.rt_unit+" Cost(Ghc)"},rt_cost:function(){return this.new_product.rt_unit_cost},ws_sub:function(){return this.new_product.ws_subtotal},ws_dis:function(){return this.new_product.ws_discount},ws_cost:function(){return this.new_product.ws_unit_cost},ws_quan:function(){return this.new_product.ws_quantity},rt_pack:function(){return this.new_product.rt_pack_size},rt_quan:function(){return this.new_product.rt_quantity},mark_up:function(){return this.new_product.markup},rt_selling:function(){return this.new_product.selling_price},full_markup:function(){return this.new_product.markup},dictData:function(){return this.$store.getters.getDictionaries},apiSet:function(){return this.$store.getters.getApi}},watch:{search:function(t){t&&t!==this.select&&this.querySelections(t)},select:function(t){this.dialog=!0;var e=this.dictData.filter(function(e){return e.product_name===t});this.full_dict=e[0],this.$store.dispatch("loadPackUnits")},ws_sub:function(){this.costComp()},ws_dis:function(){this.costComp()},ws_cost:function(){this.costComp(),this.rtCostComp(),this.sellComp()},ws_quan:function(){this.rtCostComp(),this.costComp(),this.sellComp()},rt_pack:function(){this.rtCostComp()},rt_quan:function(){this.wsQuanComp()},mark_up:function(t){this.markupComp(t)},rt_selling:function(){this.wsUnitCostComp(),this.sellComp()},full_markup:function(){this.wsUnitCostComp()},rt_cost:function(){}},methods:{setDefaults:function(){this.new_product.ws_unit="Pack",this.new_product.rt_unit="Pack",this.new_product.rt_pack_size=1,this.new_product.markup=1,this.new_product.min_no=0,this.new_product.max_no=0,this.new_product.reorder_no=0},wsQuanComp:function(){this.new_product.ws_quantity=parseFloat(this.new_product.rt_quantity)/parseFloat(this.new_product.rt_pack_size)},markupComp:function(t){if(t<=0)return alert("Invalid Markup value"),this.new_product.markup=1,!1;this.new_product.selling_price=parseFloat(this.new_product.ws_unit_cost)*parseFloat(this.new_product.markup),this.new_product.subtotal=parseFloat(this.new_product.selling_price)*parseFloat(this.new_product.rt_quantity)},costComp:function(){var t=0,e=this.new_product.ws_quantity*this.new_product.ws_unit_cost;t=this.new_product.ws_discount?e*(1-.01*this.new_product.ws_discount):e.toFixed(4),this.new_product.ws_subtotal=t},rtCostComp:function(){var t=0,e=this.new_product.rt_pack_size*this.new_product.ws_quantity;this.new_product.rt_quantity=e,e&&(t=this.new_product.ws_subtotal/e),this.new_product.rt_unit_cost=t.toFixed(4)},sellComp:function(){this.new_product.subtotal=this.new_product.selling_price*this.new_product.rt_quantity,this.new_product.selling_price=this.new_product.markup*this.new_product.ws_unit_cost},wsUnitCostComp:function(){var t=parseFloat(this.new_product.selling_price)/parseFloat(this.new_product.markup);this.new_product.ws_unit_cost=t.toFixed(4),console.log(this.new_product.ws_unit_cost)},setProduct:function(){for(var t=[],e=this.dictData,a=0,s=e.length;a<s;a++)t.push(e[a].product_name);this.states=t,Wg.$emit("dict_load",!0)},querySelections:function(t){var e=this;this.loading=!0,setTimeout(function(){e.items=e.states,e.loading=!1},500)},loadDictionaries:function(){var t=this;Eb.get(this.apiSet.allDictionarys).then(function(e){for(var a=[],s=e.data.data,i=0,n=s.length;i<n;i++)a.push({id:s[i].id,num:i,product_name:s[i].product_name,category:s[i].category,manufacturer:s[i].manufacturer,expiry:s[i].expiry,barcode:s[i].barcode,product_type:s[i].product_type});console.log(a),t.$store.commit("setDic",a)}).catch(function(t){console.log(t)})},onSaveProduct:function(){var t=this,e=this,a=this.new_product,s=this.full_dict;this.$validator.validateAll().then(function(i){if(!i)return Wg.$emit("form_snack",!0),!1;t.loader=!0;var n=yi()({},a,s,{company_id:t.userData.company_id,outlet_id:t.$store.getters.getPout});Eb.post(t.apiSet.singleProduct,n).then(function(t){Wg.$emit("su_snack",!0),Wg.$emit("product_add",!0),e.loader=!1,e.closeup()}).catch(function(t){Wg.$emit("er_snack",!0),console.log(t),e.loader=!1})})},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Product",message:"Are you sure you want to Delete Product?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.dictionaries.indexOf(t);this.dictionaries.splice(s,1),Eb.delete(a+"/dictionary/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadDictionaries(),e.$store.commit("setNetError",!1)}).catch(function(t){e.$store.commit("setNetError",!0),console.log(t)})},closeup:function(){this.dialog=!1,this.new_product.ws_discount=0,this.new_product.rt_discount=0,this.new_product.ws_unit="",this.new_product.rt_unit="",this.new_product.ws_quantity="",this.new_product.rt_quantity="",this.new_product.ws_unit_cost="",this.new_product.rt_unit_cost="",this.new_product.selling_price="",this.new_product.rt_pack_size="",this.new_product.ws_subtotal="",this.new_product.markup="",this.new_product.batch_no="",this.new_product.min_no="",this.new_product.max_no="",this.new_product.reorder_no=""}}},Ab=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"900px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Add Product "),a("v-btn",{attrs:{flat:"",color:"secondary"}},[t._v(t._s(t.select)+" #"+t._s(t.full_dict.id))])],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.dialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[t._v("\n                Product Info\n                "),a("v-container",{staticClass:"mb-4",attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"Product name",required:""},model:{value:t.full_dict.product_name,callback:function(e){t.$set(t.full_dict,"product_name",e)},expression:"full_dict.product_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"Category",disabled:"",hint:"Category is pre-defined","persistent-hint":"",required:"","offset-y":""},model:{value:t.full_dict.category,callback:function(e){t.$set(t.full_dict,"category",e)},expression:"full_dict.category"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"Manufacturer"},model:{value:t.full_dict.manufacturer,callback:function(e){t.$set(t.full_dict,"manufacturer",e)},expression:"full_dict.manufacturer"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:DD/MM/YYYY",expression:"'required|date_format:DD/MM/YYYY'"}],attrs:{box:"",label:"Expiry(dd/mm/yyyy)",required:"","data-vv-name":"expiry","error-messages":t.errors.collect("expiry")},model:{value:t.full_dict.expiry,callback:function(e){t.$set(t.full_dict,"expiry",e)},expression:"full_dict.expiry"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"BarCode",hint:"If present on product"},model:{value:t.full_dict.barcode,callback:function(e){t.$set(t.full_dict,"barcode",e)},expression:"full_dict.barcode"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-btn",{attrs:{color:"secondary"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-barcode")]),t._v(" Generate Barcode")],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{box:"",label:"Batch No.",required:"",type:"number"},model:{value:t.new_product.batch_no,callback:function(e){t.$set(t.new_product,"batch_no",e)},expression:"new_product.batch_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{box:"",label:"Min No.",type:"number"},model:{value:t.new_product.min_no,callback:function(e){t.$set(t.new_product,"min_no",e)},expression:"new_product.min_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{box:"",label:"Re-order No.",required:"",type:"number"},model:{value:t.new_product.reorder_no,callback:function(e){t.$set(t.new_product,"reorder_no",e)},expression:"new_product.reorder_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{box:"",label:"Max No.",type:"number"},model:{value:t.new_product.max_no,callback:function(e){t.$set(t.new_product,"max_no",e)},expression:"new_product.max_no"}})],1)],1)],1),t._v("\n\n\n\n                      Wholesale Pricing\n                    "),a("v-container",{staticClass:"mb-4",attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-select",{attrs:{items:t.packList,box:"",label:"Wholesale Unit",hint:"Eg. Pack","persistent-hint":"","offset-y":""},model:{value:t.new_product.ws_unit,callback:function(e){t.$set(t.new_product,"ws_unit",e)},expression:"new_product.ws_unit"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"Quantity",box:"",type:"number"},model:{value:t.new_product.ws_quantity,callback:function(e){t.$set(t.new_product,"ws_quantity",e)},expression:"new_product.ws_quantity"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:t.unit_cost,box:"",type:"number"},model:{value:t.new_product.ws_unit_cost,callback:function(e){t.$set(t.new_product,"ws_unit_cost",e)},expression:"new_product.ws_unit_cost"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"Discount",box:"",suffix:"%"},model:{value:t.new_product.ws_discount,callback:function(e){t.$set(t.new_product,"ws_discount",e)},expression:"new_product.ws_discount"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"SubTotal(GH¢)",box:"",readonly:"",type:"number"},model:{value:t.new_product.ws_subtotal,callback:function(e){t.$set(t.new_product,"ws_subtotal",e)},expression:"new_product.ws_subtotal"}})],1)],1)],1),t._v("\n                Retail Pricing\n                    "),a("v-container",{attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-select",{attrs:{items:t.packList,box:"",label:"Retail Unit",hint:"Eg. Pack","persistent-hint":"","offset-y":""},model:{value:t.new_product.rt_unit,callback:function(e){t.$set(t.new_product,"rt_unit",e)},expression:"new_product.rt_unit"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Pack Size",box:"",type:"number"},model:{value:t.new_product.rt_pack_size,callback:function(e){t.$set(t.new_product,"rt_pack_size",e)},expression:"new_product.rt_pack_size"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Retail QTY",box:"",type:"number"},model:{value:t.new_product.rt_quantity,callback:function(e){t.$set(t.new_product,"rt_quantity",e)},expression:"new_product.rt_quantity"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:t.runit_cost,box:"",type:"number"},model:{value:t.new_product.rt_unit_cost,callback:function(e){t.$set(t.new_product,"rt_unit_cost",e)},expression:"new_product.rt_unit_cost"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Markup",box:"",type:"number"},model:{value:t.new_product.markup,callback:function(e){t.$set(t.new_product,"markup",e)},expression:"new_product.markup"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Selling Price",box:"",type:"number"},model:{value:t.new_product.selling_price,callback:function(e){t.$set(t.new_product,"selling_price",e)},expression:"new_product.selling_price"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Subtotal",box:"",type:"number",readonly:""},model:{value:t.new_product.subtotal,callback:function(e){t.$set(t.new_product,"subtotal",e)},expression:"new_product.subtotal"}})],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"grey darken-1"},on:{click:t.closeup}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary darken-1",loading:t.loader,disabled:t.loader},on:{click:t.onSaveProduct}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-library-plus\n                    ")]),t._v("Save Product")],1)],1)],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{sm11:"",md11:""}},[a("v-autocomplete",{staticClass:"mx-3",attrs:{loading:t.loading,items:t.items,"search-input":t.search,"cache-items":"",flat:"",clearable:"","hide-no-data":"","hide-details":"",label:"Search from product dictionary...",solo:""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1),t._v(" "),a("v-flex",{attrs:{sm1:"",md1:""}},[a("v-btn",{attrs:{dark:"",icon:""},on:{click:t.setProduct}},[a("v-icon",[t._v("mdi-refresh")])],1)],1)],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},Ob=[],Mb={render:Ab,staticRenderFns:Ob},Rb=Mb,jb=a("VU/8"),Yb=At,Fb=jb(Nb,Rb,!1,Yb,"data-v-6fb253be",null),Ub=Fb.exports,zb=a("mtWM"),Vb={$_veeValidate:{validator:"new"},name:"set-purchase",data:function(){return{x:"",or_ws_quan:0,new_product:{manufacturer:"",bar_code:"",category:"",product_name:"",product_type:"",expiry:"",id:0,num:0,ws_discount:0,rt_discount:0,ws_unit:"",rt_unit:"",ws_quantity:0,purr_quantity:0,purr_ws_subtotal:0,purr_rt_subtotal:0,purr_subtotal:0,rt_quantity:"",ws_unit_cost:"",rt_unit_cost:"",selling_price:"",rt_pack_size:"",ws_subtotal:"",markup:"",batch_no:"",min_no:"",max_no:"",reorder_no:"",ws_markup:"",ws_selling_subtotal:"",ws_selling_price:""},activePurchaseProducts:{},fullProdSet:[],stock_expiry:"",dialog:!1,loading:!1,items:[],loader:!1,search:null,select:null,rules:{markup_rule:function(t){return!!t||"Maters"}},states:[]}},mounted:function(){this.setProduct()},watch:{search:function(t){if(!t)return!1;this.querySelections(t)},select:function(t){if(!t)return!1;var e=this.fullProdSet.filter(function(e){return e.product_name===t});this.newProdData.filter(function(t){return t.product_name===e[0].product_name}).length>0?(Wg.$emit("setSearch",e[0].product_name),this.new_product=e[0]):(this.new_product=e[0],this.dialog=!0,this.or_ws_quan=e[0].ws_quantity)},ws_sub:function(){this.costComp()},ws_dis:function(){this.costComp()},ws_cost:function(){this.costComp(),this.rtCostComp(),this.sellComp(0)},purr_quan:function(){this.purr_up()},ws_quan:function(){this.costComp(),this.rtComp(),this.markupComp(),this.sellComp()},rt_pack:function(t){this.rtCostComp(),this.rt_sp(t)},mark_up:function(t){this.markupComp(t)},rt_selling:function(t){this.sellComp(t),this.rtComp()}},computed:{packList:function(){for(var t=this.$store.getters.getPackUnits,e=[],a=0,s=t.length;a<s;a++)e.push(t[a].pack_name);return e},unit_cost:function(){return this.new_product.ws_unit+" Cost(Ghc)"},runit_cost:function(){return this.new_product.rt_unit+" Cost(Ghc)"},rt_cost:function(){return this.new_product.rt_unit_cost},ws_sub:function(){return this.new_product.ws_subtotal},ws_dis:function(){return this.new_product.ws_discount},ws_cost:function(){return this.new_product.ws_unit_cost},ws_quan:function(){return this.new_product.ws_quantity},purr_quan:function(){return this.new_product.purr_quantity},rt_pack:function(){return this.new_product.rt_pack_size},rt_quan:function(){return this.new_product.rt_quantity},mark_up:function(){return this.new_product.markup},rt_selling:function(){return this.new_product.selling_price},prodData:function(){return this.$store.getters.getAllProducts},newProdData:function(){return this.$store.getters.getNewPurchase},apiSet:function(){return this.$store.getters.getApi}},methods:{wsQuanComp:function(){this.new_product.ws_quantity=parseInt(this.new_product.rt_quantity)/parseInt(this.new_product.rt_pack_size)},markupComp:function(t){if(t<=0)return this.new_product.markup=1,!1;this.new_product.selling_price=(this.new_product.rt_unit_cost*this.new_product.markup).toFixed(4),this.new_product.subtotal=(this.new_product.selling_price*this.new_product.rt_quantity).toFixed(4)},purr_up:function(){var t=+this.or_ws_quan+ +this.new_product.purr_quantity;if(!(t>0))return!1;this.new_product.ws_quantity=t},rtComp:function(){this.new_product.rt_quantity=this.new_product.ws_quantity*this.new_product.rt_pack_size,this.new_product.purr_rt_quantity=this.new_product.purr_quantity*this.new_product.rt_pack_size},costComp:function(){var t=0,e=0,a=this.new_product.ws_quantity*this.new_product.ws_unit_cost,s=this.new_product.purr_quantity*this.new_product.ws_unit_cost;if(this.new_product.ws_discount){t=a*(1-.01*this.new_product.ws_discount),e=s*(1-.01*this.new_product.ws_discount);var i=this.new_product.ws_unit_cost/this.new_product.rt_pack_size;this.new_product.rt_unit_cost=i.toFixed(4)}else t=a,e=s,this.new_product.rt_unit_cost=(this.new_product.ws_unit_cost/this.new_product.rt_pack_size).toFixed(4);this.new_product.ws_subtotal=t.toFixed(4),this.new_product.purr_ws_subtotal=e.toFixed(4)},rtCostComp:function(){var t=0,e=this.new_product.rt_pack_size*this.new_product.ws_quantity;this.new_product.rt_quantity=e,e&&(t=this.new_product.ws_subtotal/e),this.new_product.rt_unit_cost=t.toFixed(4)},sellComp:function(t){this.new_product.selling_price=(this.new_product.markup*this.new_product.rt_unit_cost).toFixed(4);var e=this.new_product.selling_price*this.new_product.purr_rt_quantity;this.new_product.subtotal=(this.new_product.selling_price*this.new_product.rt_quantity).toFixed(4),this.new_product.purr_subtotal=e.toFixed(4),t&&(this.new_product.markup=t/this.new_product.rt_unit_cost)},rt_sp:function(t){if(t<=0)return this.new_product.rt_pack_size=1,!1;this.new_product.selling_price=(this.new_product.markup*this.new_product.rt_unit_cost).toFixed(4);var e=this.new_product.selling_price*this.new_product.purr_rt_quantity;this.new_product.subtotal=(this.new_product.selling_price*this.new_product.rt_quantity).toFixed(4),this.new_product.purr_subtotal=e.toFixed(4)},wsUnitCostComp:function(){var t=parseFloat(this.new_product.selling_price)/parseFloat(this.new_product.markup);this.new_product.ws_unit_cost=t.toFixed(4)},setProduct:function(){var t=this,e=this,a=[];zb.get(this.apiSet.allProducts).then(function(s){var i=s.data.data;t.fullProdSet=i;for(var n=0,r=i.length;n<r;n++)a.push(i[n].product_name);e.states=a}).catch(function(t){console.log(t)})},clearUp:function(){this.product_name="",this.category="",this.manufacturer="",this.barcode="",this.product_type="",this.expiry="",this.select="",this.dialog=!1,this.$validator.reset()},querySelections:function(t){var e=this;this.loading=!0,setTimeout(function(){e.items=e.states,e.loading=!1},500)},loadDictionaries:function(){var t=this;zb.get(this.apiSet.allDictionarys).then(function(e){for(var a=[],s=e.data.data,i=0,n=s.length;i<n;i++)console.log(s[i].title),a.push({id:s[i].id,num:i,product_name:s[i].product_name,category:s[i].category,manufacturer:s[i].manufacturer,expiry:s[i].expiry,barcode:s[i].barcode,product_type:s[i].product_type});t.$store.commit("setDic",a)}).catch(function(t){console.log(t)})},onSaveProduct:function(){var t=this,e=this,a=this.new_product;this.$validator.validateAll().then(function(s){if(!s)return Wg.$emit("form_snack",!0),!1;t.loader=!0;var i=yi()({},a,{outlet:t.$store.getters.getPout});t.$store.commit("setNewPurchase",i),t.activePurchaseProducts=i,Wg.$emit("su_snack",!0),e.loader=!1,e.dialog=!1,t.clearUp()})},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Product",message:"Are you sure you want to Delete Product?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.dictionaries.indexOf(t);this.dictionaries.splice(s,1),zb.delete(a+"/dictionary/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadDictionaries(),e.$store.commit("setNetError",!1)}).catch(function(t){e.$store.commit("setNetError",!0),console.log(t)})},closeup:function(){this.dialog=!1}}},Bb=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"900px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Add Product "),a("v-btn",{attrs:{flat:"",color:"secondary"}},[t._v(t._s(t.select)+" #"+t._s(t.new_product.id))])],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.closeup(e)}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[t._v("\n                Product Info\n                "),a("v-container",{staticClass:"mb-4",attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"",label:"Product name",required:"",readonly:"","data-vv-name":"name","error-messages":t.errors.collect("name")},model:{value:t.new_product.product_name,callback:function(e){t.$set(t.new_product,"product_name",e)},expression:"new_product.product_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"Category",disabled:"",hint:"Category is pre-defined","persistent-hint":"","offset-y":""},model:{value:t.new_product.category,callback:function(e){t.$set(t.new_product,"category",e)},expression:"new_product.category"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"Manufacturer"},model:{value:t.new_product.manufacturer,callback:function(e){t.$set(t.new_product,"manufacturer",e)},expression:"new_product.manufacturer"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:DD/MM/YYYY",expression:"'required|date_format:DD/MM/YYYY'"}],attrs:{box:"",label:"Expiry(dd/mm/yyyy)",required:"","data-vv-name":"expiry","error-messages":t.errors.collect("expiry")},model:{value:t.new_product.expiry,callback:function(e){t.$set(t.new_product,"expiry",e)},expression:"new_product.expiry"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"BarCode","persistent-hint":""},model:{value:t.new_product.barcode,callback:function(e){t.$set(t.new_product,"barcode",e)},expression:"new_product.barcode"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-btn",{attrs:{color:"secondary"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-barcode")]),t._v(" Generate Barcode")],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{box:"",label:"Batch No.",required:"",type:"number"},model:{value:t.new_product.batch_no,callback:function(e){t.$set(t.new_product,"batch_no",e)},expression:"new_product.batch_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{box:"",label:"Min No.",required:"",type:"number"},model:{value:t.new_product.min_no,callback:function(e){t.$set(t.new_product,"min_no",e)},expression:"new_product.min_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{box:"",label:"Re-order No.",required:"",type:"number"},model:{value:t.new_product.reorder_no,callback:function(e){t.$set(t.new_product,"reorder_no",e)},expression:"new_product.reorder_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{box:"",label:"Max No.",required:"",type:"number"},model:{value:t.new_product.max_no,callback:function(e){t.$set(t.new_product,"max_no",e)},expression:"new_product.max_no"}})],1)],1)],1),t._v(" "),a("v-toolbar",{staticClass:"mb-2"},[a("v-flex",{staticClass:"ml-2",attrs:{sm3:"",md3:""}},[a("span",{staticClass:"subheading secondary--text"},[t._v("Purchase Quantity:")])]),t._v(" "),a("v-flex",{staticClass:"pt-2",attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Purchase Quantity",box:"",type:"number",required:"","offset-y":"","data-vv-name":"purchase_quantity","error-messages":t.errors.collect("purchase_quantity")},model:{value:t.new_product.purr_quantity,callback:function(e){t.$set(t.new_product,"purr_quantity",e)},expression:"new_product.purr_quantity"}})],1)],1),t._v("\n                Wholesale Pricing\n\n                "),a("v-container",{staticClass:"mb-4",attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:t.packList,box:"",label:"Wholesale Unit",hint:"Eg. Pack","persistent-hint":"",required:"","offset-y":"","data-vv-name":"ws_unit","error-messages":t.errors.collect("ws_unit")},model:{value:t.new_product.ws_unit,callback:function(e){t.$set(t.new_product,"ws_unit",e)},expression:"new_product.ws_unit"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Quantity",box:"",type:"number",readonly:"","data-vv-name":"ws_quantity","error-messages":t.errors.collect("ws_quantity")},model:{value:t.new_product.ws_quantity,callback:function(e){t.$set(t.new_product,"ws_quantity",e)},expression:"new_product.ws_quantity"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:t.unit_cost,box:"",type:"decimal"},model:{value:t.new_product.ws_unit_cost,callback:function(e){t.$set(t.new_product,"ws_unit_cost",e)},expression:"new_product.ws_unit_cost"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"Discount",box:"",suffix:"%"},model:{value:t.new_product.ws_discount,callback:function(e){t.$set(t.new_product,"ws_discount",e)},expression:"new_product.ws_discount"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal|required",expression:"'decimal|required'"}],attrs:{label:"SubTotal(GH¢)",box:"",readonly:"",type:"number","data-vv-name":"ws_subtotal","error-messages":t.errors.collect("ws_subtotal")},model:{value:t.new_product.ws_subtotal,callback:function(e){t.$set(t.new_product,"ws_subtotal",e)},expression:"new_product.ws_subtotal"}})],1)],1)],1),t._v("\n                Retail Pricing\n                "),a("v-container",{attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:t.packList,box:"",label:"Retail Unit",hint:"Eg. Pack","persistent-hint":"",required:"","offset-y":"","data-vv-name":"rt_unit","error-messages":t.errors.collect("rt_unit")},model:{value:t.new_product.rt_unit,callback:function(e){t.$set(t.new_product,"rt_unit",e)},expression:"new_product.rt_unit"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Pack Size",box:"",type:"number","data-vv-name":"rt_pack_size","error-messages":t.errors.collect("rt_pack_size")},model:{value:t.new_product.rt_pack_size,callback:function(e){t.$set(t.new_product,"rt_pack_size",e)},expression:"new_product.rt_pack_size"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal|required",expression:"'decimal|required'"}],attrs:{label:"Retail QTY",box:"",type:"number","data-vv-name":"rt_quantity","error-messages":t.errors.collect("rt_quantity")},model:{value:t.new_product.rt_quantity,callback:function(e){t.$set(t.new_product,"rt_quantity",e)},expression:"new_product.rt_quantity"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal:4|required",expression:"'decimal:4|required'"}],attrs:{label:t.runit_cost,box:"",type:"number","data-vv-name":"rt_cost",readonly:"","error-messages":t.errors.collect("rt_cost")},model:{value:t.new_product.rt_unit_cost,callback:function(e){t.$set(t.new_product,"rt_unit_cost",e)},expression:"new_product.rt_unit_cost"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Markup",box:"",type:"number"},model:{value:t.new_product.markup,callback:function(e){t.$set(t.new_product,"markup",e)},expression:"new_product.markup"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal|required",expression:"'decimal|required'"}],attrs:{label:"Selling Price",box:"",type:"number","data-vv-name":"selling_price","error-messages":t.errors.collect("selling_price")},model:{value:t.new_product.selling_price,callback:function(e){t.$set(t.new_product,"selling_price",e)},expression:"new_product.selling_price"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"decimal|required",expression:"'decimal|required'"}],attrs:{label:"Subtotal",box:"",readonly:"",type:"number","data-vv-name":"subtotal","error-messages":t.errors.collect("subtotal")},model:{value:t.new_product.subtotal,callback:function(e){t.$set(t.new_product,"subtotal",e)},expression:"new_product.subtotal"}})],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"grey darken-1"},nativeOn:{click:function(e){return t.closeup(e)}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary darken-1",loading:t.loader,disabled:t.loader},on:{click:t.onSaveProduct}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-library-plus\n                    ")]),t._v("Save Product")],1)],1)],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{sm10:"",md10:""}},[a("v-autocomplete",{staticClass:"mx-3",attrs:{loading:t.loading,items:t.items,"search-input":t.search,flat:"","no-data-text":"",clearable:"","hide-no-data":"","hide-details":"",label:"Start typing  Product name...",solo:""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1),t._v(" "),a("v-flex",{attrs:{sm2:"",md2:""}},[a("v-btn",{staticClass:"grey",attrs:{icon:"",dark:"",outline:""},on:{click:t.setProduct}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-refresh")])],1)],1)],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},Gb=[],Hb={render:Bb,staticRenderFns:Gb},Lb=Hb,Wb=a("VU/8"),Qb=Ot,Zb=Wb(Vb,Lb,!1,Qb,"data-v-7d82ecfa",null),Xb=Zb.exports,Jb=a("bOdI"),Kb=a.n(Jb),tg=a("mtWM"),eg={$_veeValidate:{validator:"new"},name:"set-dictionary",data:function(){return{new_product:{ws_discount:0,rt_discount:0,ws_unit:"",rt_unit:"",ws_quantity:0,purr_quantity:0,purr_ws_subtotal:0,purr_rt_subtotal:0,purr_subtotal:0,rt_quantity:"",ws_unit_cost:"",rt_unit_cost:"",selling_price:"",rt_pack_size:"",ws_subtotal:"",markup:"",batch_no:"",min_no:"",max_no:"",reorder_no:"",ws_markup:"",ws_selling_subtotal:"",ws_selling_price:""},activePurchaseProducts:{},dictDialog:!1,fullProdSet:[],stock_expiry:"",dialog:!1,loading:!1,items:[],loader:!1,search:null,select:null,states:[],dictData:{},dict_load:!1,full_dict:{manufacturer:"",bar_code:"",category:"",product_name:"",product_type:"",expiry:"",id:0,num:0},product_name:"",category:"",manufacturer:"",barcode:"",product_type:"",expiry:""}},mounted:function(){this.loadDictionaries(),this.setProduct()},watch:{search:function(t){if(!t)return!1;this.querySelections(t)},select:function(t){if(!t)return!1;var e=this.dictData.filter(function(e){return e.product_name===t});this.full_dict=e[0],this.dialog=!0,this.or_ws_quan=e[0].ws_quantity},ws_sub:function(){this.costComp()},ws_dis:function(){this.costComp()},ws_cost:function(){this.costComp(),this.rtCostComp(),this.sellComp(0)},purr_quan:function(){this.purr_up()},ws_quan:function(){this.costComp(),this.rtComp(),this.markupComp(),this.sellComp()},rt_pack:function(t){this.rtCostComp(),this.rt_sp(t)},mark_up:function(t){this.markupComp(t)},rt_selling:function(t){this.sellComp(t)}},computed:{catFetch:function(){for(var t=this.$store.getters.getCats,e=[],a=0,s=t.length;a<s;a++)e.push(t[a].cat_name);return e},packList:function(){for(var t=this.$store.getters.getPackUnits,e=[],a=0,s=t.length;a<s;a++)e.push(t[a].pack_name);return e},unit_cost:function(){return this.new_product.ws_unit+" Cost(Ghc)"},runit_cost:function(){return this.new_product.rt_unit+" Cost(Ghc)"},rt_cost:function(){return this.new_product.rt_unit_cost},ws_sub:function(){return this.new_product.ws_subtotal},ws_dis:function(){return this.new_product.ws_discount},ws_cost:function(){return this.new_product.ws_unit_cost},ws_quan:function(){return this.new_product.ws_quantity},purr_quan:function(){return this.new_product.purr_quantity},rt_pack:function(){return this.new_product.rt_pack_size},rt_quan:function(){return this.new_product.rt_quantity},mark_up:function(){return this.new_product.markup},rt_selling:function(){return this.new_product.selling_price},full_markup:function(){return this.new_product.markup},prodData:function(){return this.$store.getters.getAllProducts},newProdData:function(){return this.$store.getters.getNewPurchase},apiSet:function(){return this.$store.getters.getApi}},methods:($f={addDictionary:function(){this.dictDialog=!0},wsQuanComp:function(){this.new_product.ws_quantity=parseInt(this.new_product.rt_quantity)/parseInt(this.new_product.rt_pack_size)},markupComp:function(t){if(t<=0)return this.new_product.markup=1,!1;this.new_product.selling_price=(this.new_product.rt_unit_cost*this.new_product.markup).toFixed(4),this.new_product.subtotal=(this.new_product.selling_price*this.new_product.rt_quantity).toFixed(4)},purr_up:function(){var t=+this.or_ws_quan+ +this.new_product.purr_quantity;if(!(t>0))return!1;this.new_product.ws_quantity=t}},Kb()($f,"wsQuanComp",function(){this.new_product.ws_quantity=parseFloat(this.new_product.rt_quantity)/parseFloat(this.new_product.rt_pack_size)}),Kb()($f,"rtComp",function(){this.new_product.rt_quantity=this.new_product.ws_quantity*this.new_product.rt_pack_size,this.new_product.purr_rt_quantity=this.new_product.purr_quantity*this.new_product.rt_pack_size}),Kb()($f,"costComp",function(){var t=0,e=0,a=this.new_product.ws_quantity*this.new_product.ws_unit_cost,s=this.new_product.purr_quantity*this.new_product.ws_unit_cost;if(this.new_product.ws_discount){t=a*(1-.01*this.new_product.ws_discount),e=s*(1-.01*this.new_product.ws_discount);var i=this.new_product.ws_unit_cost/this.new_product.rt_pack_size;this.new_product.rt_unit_cost=i.toFixed(4)}else t=a,e=s,this.new_product.rt_unit_cost=(this.new_product.ws_unit_cost/this.new_product.rt_pack_size).toFixed(4);this.new_product.ws_subtotal=t.toFixed(4),this.new_product.purr_ws_subtotal=e.toFixed(4)}),Kb()($f,"rtCostComp",function(){var t=0,e=this.new_product.rt_pack_size*this.new_product.ws_quantity;this.new_product.rt_quantity=e,t=e?this.new_product.ws_subtotal/e:this.new_product.selling_price/this.new_product.rt_pack_size,this.new_product.rt_unit_cost=t.toFixed(4)}),Kb()($f,"sellComp",function(t){this.new_product.selling_price=(this.new_product.markup*this.new_product.rt_unit_cost).toFixed(4);var e=this.new_product.selling_price*this.new_product.purr_rt_quantity;this.new_product.subtotal=(this.new_product.selling_price*this.new_product.rt_quantity).toFixed(4),this.new_product.purr_subtotal=e.toFixed(4),t&&(this.new_product.markup=t/this.new_product.rt_unit_cost)}),Kb()($f,"rt_sp",function(t){if(t<=0)return this.new_product.rt_pack_size=1,!1;this.new_product.selling_price=(this.new_product.markup*this.new_product.rt_unit_cost).toFixed(4);var e=this.new_product.selling_price*this.new_product.purr_rt_quantity;this.new_product.subtotal=(this.new_product.selling_price*this.new_product.rt_quantity).toFixed(4),this.new_product.purr_subtotal=e.toFixed(4)}),Kb()($f,"wsUnitCostComp",function(){var t=parseFloat(this.new_product.selling_price)/parseFloat(this.new_product.markup);this.new_product.ws_unit_cost=t.toFixed(4)}),Kb()($f,"closeDict",function(){this.product_name="",this.category="",this.manufacturer="",this.barcode="",this.product_type="",this.expiry="",this.dictDialog=!1}),Kb()($f,"setProduct",function(){var t=this;tg.get(this.apiSet.allDictionarys).then(function(e){for(var a=[],s=[],i=e.data.data,n=0,r=i.length;n<r;n++)console.log(i[n].title),a.push({id:i[n].id,num:n,product_name:i[n].product_name,category:i[n].category,manufacturer:i[n].manufacturer,expiry:i[n].expiry,barcode:i[n].barcode,product_type:i[n].product_type});for(var o=0,l=a.length;o<l;o++)s.push(a[o].product_name);console.log("nii"),t.states=s,t.$store.commit("setDic",a),t.dictData=a}).catch(function(t){console.log(t)})}),Kb()($f,"clearUp",function(){this.product_name="",this.category="",this.manufacturer="",this.barcode="",this.product_type="",this.expiry="",this.select="",this.dialog=!1,this.$validator.reset(),Wg.$emit("dict_load",!0)}),Kb()($f,"querySelections",function(t){var e=this;console.log(this.states),this.loading=!0,setTimeout(function(){e.items=e.states,e.loading=!1},500)}),Kb()($f,"onAddDict",function(){var t=this;t.loader=!0;var e={product_name:this.product_name,category:this.category,manufacturer:this.manufacturer,barcode:this.barcode,product_type:this.product_type,expiry:this.expiry};tg.post(this.apiSet.singleDictionary,e).then(function(e){console.log(e),t.$store.commit("setSnack",{t:"Product added to Dictionary",c:"green darken-3"}),t.loader=!1,t.closeDict()}).catch(function(e){console.log(e),t.closeDict()})}),Kb()($f,"loadDictionaries",function(){var t=this;tg.get(this.apiSet.allDictionarys).then(function(e){for(var a=[],s=e.data.data,i=0,n=s.length;i<n;i++)console.log(s[i].title),a.push({id:s[i].id,num:i,product_name:s[i].product_name,category:s[i].category,manufacturer:s[i].manufacturer,expiry:s[i].expiry,barcode:s[i].barcode,product_type:s[i].product_type});t.$store.commit("setDic",a),t.dictData=a,console.log(t.dictData)}).catch(function(t){console.log(t)})}),Kb()($f,"onSaveProduct",function(){var t=this,e=this,a=this.new_product;a.purr_quantity=this.new_product.ws_quantity,a.purr_ws_quantity=this.new_product.ws_quantity,a.purr_rt_quantity=this.new_product.rt_quantity,a.purr_rt_subtotal=this.new_product.subtotal,a.purr_ws_subtotal=this.new_product.ws_quantity*this.new_product.ws_unit_cost,a.purr_subtotal=this.new_product.subtotal;var s=this.full_dict;this.$validator.validateAll().then(function(i){if(!i)return Wg.$emit("form_snack",!0),!1;t.loader=!0;var n=yi()({},a,s,{company_id:t.userData.company_id,outlet_id:t.$store.getters.getPout,outlet:t.$store.getters.getPout});t.$store.commit("setNewPurchase",n),t.activePurchaseProducts=n,Wg.$emit("su_snack",!0),e.loader=!1,e.dialog=!1,t.clearUp(),t.closeup()})}),Kb()($f,"deleteItem",function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Product",message:"Are you sure you want to Delete Product?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)}),Kb()($f,"del",function(t){var e=this,a=this.$store.state.config.url,s=this.dictionaries.indexOf(t);this.dictionaries.splice(s,1),tg.delete(a+"/dictionary/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadDictionaries(),e.$store.commit("setNetError",!1)}).catch(function(t){e.$store.commit("setNetError",!0),console.log(t)})}),Kb()($f,"closeup",function(){this.new_product.manufacturer="",this.new_product.bar_code="",this.new_product.category="",this.new_product.product_name="",this.new_product.product_type="",this.new_product.expiry="",this.new_product.num=0,this.new_product.ws_discount=0,this.new_product.rt_discount=0,this.new_product.ws_unit="Pack",this.new_product.rt_unit="Pack",this.new_product.ws_quantity=0,this.new_product.purr_quantity=0,this.new_product.rt_quantity=0,this.new_product.ws_unit_cost=0,this.new_product.rt_unit_cost=0,this.new_product.selling_price=0,this.new_product.rt_pack_size=1,this.new_product.ws_subtotal=0,this.new_product.markup=1,this.new_product.batch_no=1,this.new_product.min_no=null,this.new_product.max_no=null,this.new_product.reorder_no=null,this.new_product.ws_markup=null,this.new_product.ws_selling_subtotal=null,this.new_product.ws_selling_price=null,this.dialog=!1}),$f)},ag=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.dictDialog,callback:function(e){t.dictDialog=e},expression:"dictDialog"}},[a("v-card",[a("form",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Add to Dictionary")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){t.dictDialog=!1}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",{attrs:{"grid-list-md":"","elevation-3":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Product Name",box:"","data-vv-name":"product_name","error-messages":t.errors.collect("product_name")},model:{value:t.product_name,callback:function(e){t.product_name=e},expression:"product_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"offset-y":"",items:t.catFetch,label:"Category","data-vv-name":"category","error-messages":t.errors.collect("category"),box:""},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Manufacturer",placeholder:"eg. Toyota"},model:{value:t.manufacturer,callback:function(e){t.manufacturer=e},expression:"manufacturer"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"BarCode","prepend-icon":"mdi-barcode-scan",required:""},model:{value:t.barcode,callback:function(e){t.barcode=e},expression:"barcode"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{box:"",label:"Product Type","prepend-icon":"mdi-check-all",required:""},model:{value:t.product_type,callback:function(e){t.product_type=e},expression:"product_type"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm5:"",md5:"","offset-md1":""}},[a("v-btn",{attrs:{small:"",color:"secondary"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-barcode")]),t._v("Generate Barcode")],1)],1)],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary",flat:""},nativeOn:{click:function(e){return t.closeDict(e)}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary",loading:t.loader,disabled:t.loader},on:{click:t.onAddDict}},[t._v("Save")])],1)],1)])],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"900px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Add Product "),a("v-btn",{attrs:{flat:"",color:"secondary"}},[t._v(t._s(t.select)+" #"+t._s(t.new_product.id))])],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.closeup(e)}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[t._v("\n                Product Info\n                "),a("v-container",{staticClass:"mb-4",attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"Product name",required:""},model:{value:t.full_dict.product_name,callback:function(e){t.$set(t.full_dict,"product_name",e)},expression:"full_dict.product_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"Category",disabled:"",hint:"Category is pre-defined","persistent-hint":"",required:"","offset-y":""},model:{value:t.full_dict.category,callback:function(e){t.$set(t.full_dict,"category",e)},expression:"full_dict.category"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"Manufacturer"},model:{value:t.full_dict.manufacturer,callback:function(e){t.$set(t.full_dict,"manufacturer",e)},expression:"full_dict.manufacturer"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:DD/MM/YYYY",expression:"'required|date_format:DD/MM/YYYY'"}],attrs:{box:"",label:"Expiry(dd/mm/yyyy)",required:"","data-vv-name":"expiry","error-messages":t.errors.collect("expiry")},model:{value:t.full_dict.expiry,callback:function(e){t.$set(t.full_dict,"expiry",e)},expression:"full_dict.expiry"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"BarCode",hint:"If present on product"},model:{value:t.full_dict.barcode,callback:function(e){t.$set(t.full_dict,"barcode",e)},expression:"full_dict.barcode"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-btn",{attrs:{color:"secondary"}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-barcode")]),t._v(" Generate Barcode")],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{box:"",label:"Batch No.",required:"",type:"number"},model:{value:t.new_product.batch_no,callback:function(e){t.$set(t.new_product,"batch_no",e)},expression:"new_product.batch_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{box:"",label:"Min No.",type:"number"},model:{value:t.new_product.min_no,callback:function(e){t.$set(t.new_product,"min_no",e)},expression:"new_product.min_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{box:"",label:"Re-order No.",required:"",type:"number"},model:{value:t.new_product.reorder_no,callback:function(e){t.$set(t.new_product,"reorder_no",e)},expression:"new_product.reorder_no"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{box:"",label:"Max No.",type:"number"},model:{value:t.new_product.max_no,callback:function(e){t.$set(t.new_product,"max_no",e)},expression:"new_product.max_no"}})],1)],1)],1),t._v("\n\n\n\n                Wholesale Pricing\n\n                "),a("v-container",{staticClass:"mb-4",attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-select",{attrs:{items:t.packList,box:"",label:"Wholesale Unit",hint:"Eg. Pack","persistent-hint":"","offset-y":""},model:{value:t.new_product.ws_unit,callback:function(e){t.$set(t.new_product,"ws_unit",e)},expression:"new_product.ws_unit"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"Quantity",box:"",type:"number"},model:{value:t.new_product.ws_quantity,callback:function(e){t.$set(t.new_product,"ws_quantity",e)},expression:"new_product.ws_quantity"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:t.unit_cost,box:"",type:"number"},model:{value:t.new_product.ws_unit_cost,callback:function(e){t.$set(t.new_product,"ws_unit_cost",e)},expression:"new_product.ws_unit_cost"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"Discount",box:"",suffix:"%"},model:{value:t.new_product.ws_discount,callback:function(e){t.$set(t.new_product,"ws_discount",e)},expression:"new_product.ws_discount"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm2:"",md2:""}},[a("v-text-field",{attrs:{label:"SubTotal(GH¢)",box:"",readonly:"",type:"number"},model:{value:t.new_product.ws_subtotal,callback:function(e){t.$set(t.new_product,"ws_subtotal",e)},expression:"new_product.ws_subtotal"}})],1)],1)],1),t._v("\n                Retail Pricing\n                "),a("v-container",{attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"",md3:""}},[a("v-select",{attrs:{items:t.packList,box:"",label:"Retail Unit",hint:"Eg. Pack","persistent-hint":"",required:"","offset-y":""},model:{value:t.new_product.rt_unit,callback:function(e){t.$set(t.new_product,"rt_unit",e)},expression:"new_product.rt_unit"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Pack Size",box:"",type:"number"},model:{value:t.new_product.rt_pack_size,callback:function(e){t.$set(t.new_product,"rt_pack_size",e)},expression:"new_product.rt_pack_size"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Retail QTY",box:"",type:"number"},model:{value:t.new_product.rt_quantity,callback:function(e){t.$set(t.new_product,"rt_quantity",e)},expression:"new_product.rt_quantity"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:t.runit_cost,box:"",type:"number"},model:{value:t.new_product.rt_unit_cost,callback:function(e){t.$set(t.new_product,"rt_unit_cost",e)},expression:"new_product.rt_unit_cost"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Markup",box:"",type:"number"},model:{value:t.new_product.markup,callback:function(e){t.$set(t.new_product,"markup",e)},expression:"new_product.markup"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Selling Price",box:"",type:"number"},model:{value:t.new_product.selling_price,callback:function(e){t.$set(t.new_product,"selling_price",e)},expression:"new_product.selling_price"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm3:"",md3:""}},[a("v-text-field",{attrs:{label:"Subtotal",box:"",type:"number",readonly:""},model:{value:t.new_product.subtotal,callback:function(e){t.$set(t.new_product,"subtotal",e)},expression:"new_product.subtotal"}})],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"grey darken-1"},nativeOn:{click:function(e){return t.closeup(e)}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary darken-1",loading:t.loader,disabled:t.loader},on:{click:t.onSaveProduct}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-library-plus\n                    ")]),t._v("Save Product")],1)],1)],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{sm10:"",md10:""}},[a("v-autocomplete",{staticClass:"mx-3",attrs:{loading:t.loading,items:t.items,"search-input":t.search,flat:"","no-data-text":"",clearable:"","hide-no-data":"","hide-details":"",label:"Search from product dictionary...",solo:""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1),t._v(" "),a("v-flex",{attrs:{sm2:"",md2:""}},[a("v-btn",{staticClass:"grey",attrs:{icon:"",dark:"",outline:""},on:{click:t.setProduct}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-refresh")])],1),t._v(" "),a("v-btn",{staticClass:"white elevation-8",attrs:{icon:"",dark:""},on:{click:t.addDictionary}},[a("v-icon",{attrs:{color:"grey darken-3"}},[t._v("mdi-folder-plus")])],1)],1)],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},sg=[],ig={render:ag,staticRenderFns:sg},ng=ig,rg=a("VU/8"),og=Mt,lg=rg(eg,ng,!1,og,"data-v-59e184fd",null),cg=lg.exports,dg=a("mtWM"),ug={$_veeValidate:{validator:"new"},name:"set-reorder",data:function(){return{x:"",prod_data:{},or_ws_quan:0,new_product:{manufacturer:"",bar_code:"",category:"",product_name:"",product_type:"",expiry:"",id:0,num:0,ws_discount:0,rt_discount:0,ws_unit:"",rt_unit:"",ws_quantity:0,purr_quantity:0,purr_ws_subtotal:0,purr_rt_subtotal:0,purr_subtotal:0,rt_quantity:"",ws_unit_cost:"",rt_unit_cost:"",selling_price:"",rt_pack_size:"",ws_subtotal:"",markup:"",batch_no:"",min_no:"",max_no:"",reorder_no:"",ws_markup:"",ws_selling_subtotal:"",ws_selling_price:""},activePurchaseProducts:{},fullProdSet:[],stock_expiry:"",dialog:!1,loading:!1,items:[],loader:!1,search:null,select:null,states:[]}},mounted:function(){this.setProduct()},watch:{search:function(t){if(!t)return!1;this.querySelections(t)},select:function(t){if(!t)return!1;var e=this.fullProdSet.filter(function(e){return e.product_name===t});this.newProdData.filter(function(t){return t.product_name===e[0].product_name}).length>0?(Wg.$emit("setSearch",e[0].product_name),this.new_product=e[0]):(this.new_product=e[0],this.dialog=!0,this.or_ws_quan=e[0].ws_quantity)},ws_sub:function(){this.costComp()},ws_dis:function(){this.costComp()},ws_cost:function(){this.costComp()},purr_quan:function(){this.purr_up()},ws_quan:function(){this.costComp(),this.rtComp(),this.markupComp(),this.sellComp()},rt_pack:function(){this.rtCostComp()},mark_up:function(){this.markupComp()},rt_selling:function(){this.sellComp()}},computed:{packList:function(){for(var t=this.$store.getters.getPackUnits,e=[],a=0,s=t.length;a<s;a++)e.push(t[a].pack_name);return e},unit_cost:function(){return this.new_product.ws_unit+" Cost(Ghc)"},runit_cost:function(){return this.new_product.rt_unit+" Cost(Ghc)"},ws_sub:function(){return this.new_product.ws_subtotal},ws_dis:function(){return this.new_product.ws_discount},ws_cost:function(){return this.new_product.ws_unit_cost},ws_quan:function(){return this.new_product.ws_quantity},purr_quan:function(){return this.new_product.purr_quantity},rt_pack:function(){return this.new_product.rt_pack_size},rt_quan:function(){return this.new_product.rt_quantity},mark_up:function(){return this.new_product.markup},rt_selling:function(){return this.new_product.selling_price},prodData:function(){return this.$store.getters.getAllProducts},newProdData:function(){return this.$store.getters.getNewPurchase},apiSet:function(){return this.$store.getters.getApi}},methods:{purr_up:function(){if(!(+this.or_ws_quan+ +this.new_product.purr_quantity>0))return!1},markupComp:function(){var t=0;t=this.new_product.rt_unit_cost*this.new_product.markup,this.new_product.selling_price=t.toFixed(2),this.new_product.subtotal=t.toFixed(2)*this.new_product.rt_quantity},rtComp:function(){this.new_product.purr_rt_quantity=+this.or_ws_quan*this.new_product.rt_pack_size},costComp:function(){var t=0,e=0,a=this.new_product.ws_quantity*this.new_product.ws_unit_cost,s=this.new_product.purr_quantity*this.new_product.ws_unit_cost;this.new_product.ws_discount?(t=a*(1-.01*this.new_product.ws_discount),e=s*(1-.01*this.new_product.ws_discount),this.new_product.rt_unit_cost=this.new_product.ws_unit_cost/this.new_product.rt_pack_size):(t=a,e=s,this.new_product.rt_unit_cost=(this.new_product.ws_unit_cost/this.new_product.rt_pack_size).toFixed(2)),this.new_product.ws_subtotal=t.toFixed(2),this.new_product.purr_ws_subtotal=e.toFixed(2)},rtCostComp:function(){var t=0,e=this.new_product.rt_pack_size*this.new_product.ws_quantity;this.new_product.rt_quantity=e,e&&(t=this.new_product.ws_subtotal/e),this.new_product.rt_unit_cost=t.toFixed(2)},sellComp:function(){var t=0;t=this.new_product.selling_price/this.new_product.rt_unit_cost,this.new_product.markup=t.toFixed(2);var e=this.new_product.selling_price*this.new_product.rt_quantity,a=this.new_product.selling_price*this.new_product.purr_rt_quantity;this.new_product.subtotal=e.toFixed(2),this.new_product.purr_subtotal=a.toFixed(2)},setProduct:function(){var t=this,e=this,a=[];dg.get(this.apiSet.allProducts).then(function(s){var i=s.data.data;t.fullProdSet=i;for(var n=0,r=i.length;n<r;n++)a.push(i[n].product_name);e.states=a}).catch(function(t){console.log(t)})},clearUp:function(){this.product_name="",this.category="",this.manufacturer="",this.barcode="",this.product_type="",this.expiry="",this.$validator.reset()},querySelections:function(t){var e=this;this.loading=!0,setTimeout(function(){e.items=e.states,e.loading=!1},500)},loadDictionaries:function(){var t=this;dg.get(this.apiSet.allDictionarys).then(function(e){for(var a=[],s=e.data.data,i=0,n=s.length;i<n;i++)console.log(s[i].title),a.push({id:s[i].id,num:i,product_name:s[i].product_name,category:s[i].category,manufacturer:s[i].manufacturer,expiry:s[i].expiry,barcode:s[i].barcode,product_type:s[i].product_type});t.$store.commit("setDic",a)}).catch(function(t){console.log(t)})},onSaveProduct:function(){var t=this,e=this,a=this.new_product;this.$validator.validateAll().then(function(s){if(!s)return Wg.$emit("form_snack",!0),!1;t.loader=!0;var i=yi()({},a,{outlet:t.$store.getters.getPout});t.$store.commit("setNewPurchase",i),t.activePurchaseProducts=i,Wg.$emit("su_snack",!0),e.loader=!1,e.dialog=!1,t.clearUp()})},deleteItem:function(t){var e=this,a=function(){e.del(t)},s={title:"Delete Product",message:"Are you sure you want to Delete Product?",type:"warning",useConfirmBtn:!0,onConfirm:a};this.$refs.simplert.openSimplert(s)},del:function(t){var e=this,a=this.$store.state.config.url,s=this.dictionaries.indexOf(t);this.dictionaries.splice(s,1),dg.delete(a+"/dictionary/"+t.id).then(function(t){console.log(t),e.del_snackbar=!0,e.loadDictionaries(),e.$store.commit("setNetError",!1)}).catch(function(t){e.$store.commit("setNetError",!0),console.log(t)})},closeup:function(){this.dialog=!1}}},mg=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"900px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",{staticClass:"primary--text"},[t._v("Reorder Product "),a("v-btn",{attrs:{flat:"",color:"secondary"}},[t._v(t._s(t.select)+" #"+t._s(t.new_product.id))])],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:""},nativeOn:{click:function(e){return t.closeup(e)}}},[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-close")])],1)],1),t._v(" "),a("v-card-text",[t._v("\n                Product Info\n                "),a("v-container",{staticClass:"mb-4",attrs:{"grid-list-md":"","elevation-6":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{box:"",label:"Product name",required:"",readonly:"","data-vv-name":"name","error-messages":t.errors.collect("name")},model:{value:t.new_product.product_name,callback:function(e){t.$set(t.new_product,"product_name",e)},expression:"new_product.product_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"Category",disabled:"",hint:"Category is pre-defined","persistent-hint":"",required:"","offset-y":""},model:{value:t.new_product.category,callback:function(e){t.$set(t.new_product,"category",e)},expression:"new_product.category"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{box:"",label:"Manufacturer"},model:{value:t.new_product.manufacturer,callback:function(e){t.$set(t.new_product,"manufacturer",e)},expression:"new_product.manufacturer"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:DD/MM/YYYY",expression:"'required|date_format:DD/MM/YYYY'"}],attrs:{box:"",label:"Expiry(dd/mm/yyyy)",required:"","data-vv-name":"expiry","error-messages":t.errors.collect("expiry")},model:{value:t.new_product.expiry,callback:function(e){t.$set(t.new_product,"expiry",e)},expression:"new_product.expiry"}})],1)],1)],1),t._v(" "),a("v-toolbar",{staticClass:"mb-2"},[a("v-flex",{staticClass:"ml-2",attrs:{sm3:"",md3:""}},[a("span",{staticClass:"subheading secondary--text"},[t._v("Re-order Quantity:")])]),t._v(" "),a("v-flex",{staticClass:"pt-2",attrs:{xs4:"",sm4:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|required",expression:"'numeric|required'"}],attrs:{label:"Reorder Quantity",box:"",type:"number","data-vv-name":"ws_quantity","error-messages":t.errors.collect("ws_quantity")},model:{value:t.new_product.purr_quantity,callback:function(e){t.$set(t.new_product,"purr_quantity",e)},expression:"new_product.purr_quantity"}})],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"grey darken-1"},nativeOn:{click:function(e){return t.closeup(e)}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"secondary darken-1",loading:t.loader,disabled:t.loader},on:{click:t.onSaveProduct}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-library-plus\n                    ")]),t._v("Save Product")],1)],1)],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{sm10:"",md10:""}},[a("v-autocomplete",{staticClass:"mx-3",attrs:{loading:t.loading,items:t.items,"search-input":t.search,flat:"","no-data-text":"",clearable:"","hide-no-data":"","hide-details":"",label:"Start typing  Product name...",solo:""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1),t._v(" "),a("v-flex",{attrs:{sm2:"",md2:""}},[a("v-btn",{staticClass:"grey",attrs:{icon:"",dark:"",outline:""},on:{click:t.setProduct}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-refresh")])],1)],1)],1),t._v(" "),a("simplert",{ref:"simplert",attrs:{useRadius:!0,useIcon:!0}})],1)},vg=[],_g={render:mg,staticRenderFns:vg},pg=_g,hg=a("VU/8"),fg=Rt,bg=hg(ug,pg,!1,fg,"data-v-6db1d593",null),gg=bg.exports,xg={name:"gold-load",data:function(){return{gold_loader:!0}}},yg=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"",transition:"bounceInLeft"},model:{value:t.gold_loader,callback:function(e){t.gold_loader=e},expression:"gold_loader"}},[a("div",{staticClass:"loader loader4"},[a("div",[a("div",[a("div",[a("div",[a("div",[a("div",[a("div",[a("div",[a("div",[a("div")])])])])])])])])])])])],1)},kg=[],wg={render:yg,staticRenderFns:kg},Cg=wg,Ig=a("VU/8"),Sg=jt,qg=Ig(xg,Cg,!1,Sg,"data-v-5e70ff0c",null),Dg=qg.exports,$g=a("ypmi"),Pg=a.n($g),Tg=a("d7EF"),Eg=a.n(Tg),Ng={methods:{findObjectByID:function(t,e){var a=null;return e.forEach(function(e){e.id==t&&(a=e)}),a},getObjectDescByID:function(t,e,a){var s="";return e.forEach(function(e){e.id==t&&(s=e[a].toLowerCase())}),s},dateFromPeriod:function(t){var e=t.slice(0,4),a=t.slice(4)-1;return new Date(e,a,1,0,0,0,0)},periodToDate:function(t){var e=t.slice(0,4),a=t.slice(4)-1,s=new Date(e,a,1,0,0,0,0),i=new Array;return i[0]="January",i[1]="February",i[2]="March",i[3]="April",i[4]="May",i[5]="June",i[6]="July",i[7]="August",i[8]="September",i[9]="October",i[10]="November",i[11]="December",i[s.getMonth()]+" "+e},dateToPeriod:function(t){if(!Date.parse(t))return null;var e=(t.getMonth()+1).toString(),a=t.getDate().toString();return e<10&&(e="0"+e),a<10&&(a="0"+a),t.getFullYear().toString()+e},date_format:function(t){if(!Date.parse(t))return null;var e=(t.getMonth()+1).toString(),a=t.getDate().toString();return e<10&&(e="0"+e),a<10&&(a="0"+a),t.getFullYear().toString()+"-"+e+"-"+a},convertTo24:function(t){var e=t.split(" "),a=Eg()(e,2),s=a[0],i=a[1],n=i.toUpperCase(),r=s.split(":"),o=Eg()(r,2),l=o[0],c=o[1];return"12"===l&&(l="00"),"PM"===n&&(l=parseInt(l,10)+12),l+":"+c}}},Ag=Ng,Og=a("Rf8U"),Mg=a.n(Og),Rg=a("SVjV"),jg=a.n(Rg),Yg=a("1S+A"),Fg=a.n(Yg),Ug=a("sUu7"),zg=a("nav3"),Vg=a.n(zg),Bg=(a("M4fF"),a("uTBe"),a("7SuA"),a("goa7")),Gg=a.n(Bg),Hg=(a("A3Z+"),a("Fiog"));a.d(e,"eventBus",function(){return Wg}),a("6A3X"),Ut.default.use(Vg.a),Ut.default.use(Gt.a),Ut.default.mixin(Ag),Ut.default.use(Mg.a,oa.a),Ut.default.use(jg.a),Ut.default.use(Hg.a),Ut.default.use(Ug.a),Ut.default.use(Gg.a),Ut.default.mixin({computed:{userData:function(){return this.$store.getters.getUserData},userDataID:function(){return this.$store.getters.getUserData.id},outlets:function(){return this.$store.getters.getMylets}},mounted:function(){},methods:{}}),Ut.default.filter("readable-date",function(t){return this.moment(t).format("MMMM Do YYYY")}),Ut.default.use(Vt.a,{iconfont:"mdi",theme:{primary:"#074D64",glossy_black:"#010101",light_grey:"#E0E6FF",deep_grey:"#333333",secondary:"#660033",accent:"#8c9eff",error:"#b71c1c",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}),Ut.default.config.productionTip=!1,Ut.default.filter("date",Tf),Ut.default.prototype.moment=Lt.a;var Lg=new Ut.default;Ft()(Ut.default.prototype,{$bus:{get:function(){return Lg}}}),Ut.default.component("app-alert",Ff),Ut.default.component("gold-auto",kb),Ut.default.component("gold-agile",vb),Ut.default.component("gold-head",ib),Ut.default.component("gold-load",Dg),Ut.default.component("set-customer",Tb),Ut.default.component("set-product",Ub),Ut.default.component("set-purchase",Xb),Ut.default.component("set-dictionary",cg),Ut.default.component("set-reorder",gg),Ut.default.component("vue-timepicker",jg.a),Ut.default.component("simplert",Fg.a);var Wg=new Ut.default;new Ut.default({el:"#app",router:kf,store:Pf,data:function(){return{linkActiveClass:"nav-item active",x:""}},render:function(t){return t(xe)},created:function(){},components:{datepicker:Pg.a}})},OAeZ:function(t,e){},PU00:function(t,e){},PfRm:function(t,e){},Q8p0:function(t,e){},QCv7:function(t,e){},QGn5:function(t,e){},QTPZ:function(t,e){},QmSG:function(t,e,a){"use strict";(function(t){var a="http://workitapi.qbelimited.com/api",s={locale:"en-US",url:a,api:{syncLocal:a+"/sync",register:a+"/register",update_det:a+"/update_det",login:a+"/login",low_stock:a+"/reorder",post_low_stock:a+"/post_reorder",minReorder:a+"/min_reorder",allCustomers:a+"/customers",postCustomers:a+"/post_customers",singleCustomer:a+"/customer",allDictionarys:a+"/dictionarys",singleDictionary:a+"/dictionary",allProducts:a+"/products",allPostProducts:a+"/post_products",singleProduct:a+"/product",allPurchases:a+"/purchases",singlePurchase:a+"/purchase",getCreditors:a+"/get_creditors",postCreditors:a+"/post_creditors",singleReorder:a+"/reorder",reorderBuffer:a+"/reorder_buffer",posrecBuffer:a+"/posrec_buffer",postReorder:a+"/post_reorders",postReorderPending:a+"/post_reorder_pending",postReorderTransfered:a+"/post_reorder_transfered",recReorder:a+"/rec_reorder",upReorder:a+"/up_reorder",allOutlets:a+"/outlets",exp_count:a+"/exp_count",prod_count:a+"/prod_count",c_sales:a+"/csales",post_csales:a+"/post_csales",c_prod:a+"/cprod",post_cprod:a+"/post_cprod",deb_count:a+"/deb_count",cred_count:a+"/cred_count",singleOutlet:a+"/outlet",companyOutlets:a+"/company_outlet",productPurchase:a+"/product_purchase",allCategories:a+"/categories",singleCategory:a+"/category",allSuppliers:a+"/suppliers",singleSupplier:a+"/supplier",expiry:a+"/product_expiry",deb_out:a+"/deb_out",top_items:a+"/top_items",allToppers:a+"/toppers",expiry_batch:a+"/expiry_batch",find_expiry_batch:a+"/find_expiry_batch",allBankAccounts:a+"/bankaccounts",singleBankAccount:a+"/bankaccount",allBankTransactions:a+"/bank_transactions",singleBankTransaction:a+"/bank_transaction",allSaleTransactions:a+"/sale_transactions",singleSaleTransaction:a+"/sale_transaction",allSalePayment:a+"/sale_payments",singleSalePayment:a+"/sale_payment",cSalePayment:a+"/csale_payment",allSaleItems:a+"/sale_items",returnSaleItems:a+"/sale_return_items",singleSaleItem:a+"/sale_item",saleSummary:a+"/sale_sum",allDebtors:a+"/sale_debtors",postDebtors:a+"/post_sale_debtors",singleDebtor:a+"/sale_debtor",allPurchaseBuffers:a+"/purchase_buffers",singlePurchaseBuffer:a+"/purchase_buffer",invPurchaseBuffer:a+"/purchase_buffer_inv",pendingPurchase:a+"/purchase_pending",allExpenses:a+"/expenses",singleExpense:a+"/expense",allCompanys:a+"/companys",singleCompany:a+"/company",allExCats:a+"/ex_cats",singleExCat:a+"/ex_cat",allPackUnits:a+"/packunits",singlePackUnit:a+"/packunit",allDebitItems:a+"/debit_items",allSaleInvoices:a+"/sale_invoices",postSaleInvoices:a+"/post_sale_invoices",pendingSaleInvoices:a+"/pending_invoices",allCusDebtors:a+"/cus_debtors",allPostCusDebtors:a+"/post_cus_debtors",setCusDebtors:a+"/set_debt",saleSession:a+"/sale_session",closeSession:a+"/close_session",singleSession:a+"/single_session",sessionExpense:a+"/ses_expense",completeSession:a+"/complete_session",mySession:a+"/my_session",allSession:a+"/all_session",allUsers:a+"/users",postUsers:a+"/post_users",credHistory:a+"/cred_history",debHistory:a+"/deb_history",singleUser:a+"/user",singleSuspended:a+"/suspended",postSuspended:a+"/post_suspended",singleSusProduct:a+"/sus_product",passReset:a+"/reset_pass",sessionSales:a+"/session_sales",allSupCreditors:a+"/sup_creditors",zero_stock:a+"/zero_stock"},messages:{networkError:"There was a network error while processing your request. \n                       Make sure you have network connection and try again. If the problem persists please contact IT Service Desk",internalServerError:"An application error occured while processing  you request. If the problem persists please contact IT Service Desk "}};t.config=s,e.a=s}).call(e,a("DuR2"))},SvMt:function(t,e){},T7tv:function(t,e){},U0Qz:function(t,e){},VIMn:function(t,e){},X05v:function(t,e){},XIMO:function(t,e){},XXYI:function(t,e){},Z9FK:function(t,e){},ZFuz:function(t,e){},ZYJ4:function(t,e){},Ztn3:function(t,e){},aTW9:function(t,e){},cdfB:function(t,e){},clAG:function(t,e){},cqIk:function(t,e){},dflN:function(t,e){},dj40:function(t,e){},e7uG:function(t,e){},esz2:function(t,e){},fahS:function(t,e){},gBTp:function(t,e){},gCMD:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a("fZjL"),n=s(i),r=a("mvHQ"),o=s(r),l={HOUR_TOKENS:["HH","H","hh","h","kk","k"],MINUTE_TOKENS:["mm","m"],SECOND_TOKENS:["ss","s"],APM_TOKENS:["A","a"]};e.default={name:"VueTimepicker",props:{value:{type:Object},hideClearButton:{type:Boolean},format:{type:String},minuteInterval:{type:Number},secondInterval:{type:Number},id:{type:String}},data:function(){return{hours:[],minutes:[],seconds:[],apms:[],showDropdown:!1,muteWatch:!1,hourType:"HH",minuteType:"mm",secondType:"",apmType:"",hour:"",minute:"",second:"",apm:"",fullValues:void 0}},computed:{displayTime:function(){var t=String(this.format||"HH:mm");return this.hour&&(t=t.replace(new RegExp(this.hourType,"g"),this.hour)),this.minute&&(t=t.replace(new RegExp(this.minuteType,"g"),this.minute)),this.second&&this.secondType&&(t=t.replace(new RegExp(this.secondType,"g"),this.second)),this.apm&&this.apmType&&(t=t.replace(new RegExp(this.apmType,"g"),this.apm)),t},showClearBtn:function(){return!!(this.hour&&""!==this.hour||this.minute&&""!==this.minute)}},watch:{format:"renderFormat",minuteInterval:function(t){this.renderList("minute",t)},secondInterval:function(t){this.renderList("second",t)},value:"readValues",displayTime:"fillValues"},methods:{formatValue:function(t,e){switch(t){case"H":case"m":case"s":return String(e);case"HH":case"mm":case"ss":return e<10?"0"+e:String(e);case"h":case"k":return String(e+1);case"hh":case"kk":return e+1<10?"0"+(e+1):String(e+1);default:return""}},checkAcceptingType:function(t,e,a){if(!t||!e||!e.length)return"";for(var s=0;s<t.length;s++)if(e.indexOf(t[s])>-1)return t[s];return a||""},renderFormat:function(t){t=t||this.format,t&&t.length||(t="HH:mm"),this.hourType=this.checkAcceptingType(l.HOUR_TOKENS,t,"HH"),this.minuteType=this.checkAcceptingType(l.MINUTE_TOKENS,t,"mm"),this.secondType=this.checkAcceptingType(l.SECOND_TOKENS,t),this.apmType=this.checkAcceptingType(l.APM_TOKENS,t),this.renderHoursList(),this.renderList("minute"),this.secondType&&this.renderList("second"),this.apmType&&this.renderApmList();var e=this;this.$nextTick(function(){e.readValues()})},renderHoursList:function(){var t="h"===this.hourType||"hh"===this.hourType?12:24;this.hours=[];for(var e=0;e<t;e++)this.hours.push(this.formatValue(this.hourType,e))},renderList:function(t,e){if("second"===t)e=e||this.secondInterval;else{if("minute"!==t)return;e=e||this.minuteInterval}0===e?e=60:e>60?(window.console.warn("`"+t+"-interval` should be less than 60. Current value is",e),e=1):e<1?(window.console.warn("`"+t+"-interval` should be NO less than 1. Current value is",e),e=1):e||(e=1),"minute"===t?this.minutes=[]:this.seconds=[];for(var a=0;a<60;a+=e)"minute"===t?this.minutes.push(this.formatValue(this.minuteType,a)):this.seconds.push(this.formatValue(this.secondType,a))},renderApmList:function(){this.apms=[],this.apmType&&(this.apms="A"===this.apmType?["AM","PM"]:["am","pm"])},readValues:function(){if(this.value&&!this.muteWatch){var t=JSON.parse((0,o.default)(this.value||{})),e=(0,n.default)(t);0!==e.length&&(e.indexOf(this.hourType)>-1&&(this.hour=t[this.hourType]),e.indexOf(this.minuteType)>-1&&(this.minute=t[this.minuteType]),e.indexOf(this.secondType)>-1?this.second=t[this.secondType]:this.second=0,e.indexOf(this.apmType)>-1&&(this.apm=t[this.apmType]),this.fillValues())}},fillValues:function(){var t={},e=this.hour,a=this.hourType,s=e||0===e?Number(e):"",i=this.isTwelveHours(a),n=!(!i||!this.apm)&&String(this.apm).toLowerCase();if(l.HOUR_TOKENS.forEach(function(r){if(r===a)return void(t[r]=e);var o=void 0,l=void 0;switch(r){case"H":case"HH":if(!String(s).length)return void(t[r]="");o=i?"pm"===n?s<12?s+12:s:s%12:s%24,t[r]="HH"===r&&o<10?"0"+o:String(o);break;case"k":case"kk":if(!String(s).length)return void(t[r]="");o=i?"pm"===n?s<12?s+12:s:12===s?24:s:0===s?24:s,t[r]="kk"===r&&o<10?"0"+o:String(o);break;case"h":case"hh":if(n)o=s,l=n||"am";else{if(!String(s).length)return t[r]="",t.a="",void(t.A="");s>11?(l="pm",o=12===s?12:s%12):(l=i?"":"am",o=s%12==0?12:s)}t[r]="hh"===r&&o<10?"0"+o:String(o),t.a=l,t.A=l.toUpperCase()}}),this.minute||0===this.minute){var r=Number(this.minute);t.m=String(r),t.mm=r<10?"0"+r:String(r)}else t.m="",t.mm="";if(this.second||0===this.second){var o=Number(this.second);t.s=String(o),t.ss=o<10?"0"+o:String(o)}else t.s="",t.ss="";this.fullValues=t,this.updateTimeValue(t),this.$emit("change",{data:t})},updateTimeValue:function(t){this.muteWatch=!0;var e=this,a=JSON.parse((0,o.default)(this.value||{})),s={};(0,n.default)(a).forEach(function(e){s[e]=t[e]}),this.$emit("input",s),this.$nextTick(function(){e.muteWatch=!1})},isTwelveHours:function(t){return"h"===t||"hh"===t},toggleDropdown:function(){this.showDropdown=!this.showDropdown},select:function(t,e){"hour"===t?this.hour=e:"minute"===t?this.minute=e:"second"===t?this.second=e:"apm"===t&&(this.apm=e)},clearTime:function(){this.hour="",this.minute="",this.second="",this.apm=""}},mounted:function(){this.renderFormat()}}},goRD:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"time-picker"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.displayTime,expression:"displayTime"}],staticClass:"display-time",attrs:{id:t.id,type:"text",readonly:""},domProps:{value:t.displayTime},on:{click:function(e){return e.stopPropagation(),t.toggleDropdown(e)},input:function(e){e.target.composing||(t.displayTime=e.target.value)}}}),t._v(" "),t.hideClearButton?t._e():a("span",{directives:[{name:"show",rawName:"v-show",value:!t.showDropdown&&t.showClearBtn,expression:"!showDropdown && showClearBtn"}],staticClass:"clear-btn",on:{click:function(e){return e.stopPropagation(),t.clearTime(e)}}},[t._v("×")]),t._v(" "),t.showDropdown?a("div",{staticClass:"time-picker-overlay",on:{click:function(e){return e.stopPropagation(),t.toggleDropdown(e)}}}):t._e(),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showDropdown,expression:"showDropdown"}],staticClass:"dropdown"},[a("div",{staticClass:"select-list"},[a("ul",{staticClass:"hours"},[a("li",{staticClass:"hint",domProps:{textContent:t._s(t.hourType)}}),t._v(" "),t._l(t.hours,function(e){return a("li",{class:{active:t.hour===e},domProps:{textContent:t._s(e)},on:{click:function(a){return a.stopPropagation(),t.select("hour",e)}}})})],2),t._v(" "),a("ul",{staticClass:"minutes"},[a("li",{staticClass:"hint",domProps:{textContent:t._s(t.minuteType)}}),t._v(" "),t._l(t.minutes,function(e){return a("li",{class:{active:t.minute===e},domProps:{textContent:t._s(e)},on:{click:function(a){return a.stopPropagation(),t.select("minute",e)}}})})],2),t._v(" "),t.secondType?a("ul",{staticClass:"seconds"},[a("li",{staticClass:"hint",domProps:{textContent:t._s(t.secondType)}}),t._v(" "),t._l(t.seconds,function(e){return a("li",{class:{active:t.second===e},domProps:{textContent:t._s(e)},on:{click:function(a){return a.stopPropagation(),t.select("second",e)}}})})],2):t._e(),t._v(" "),t.apmType?a("ul",{staticClass:"apms"},[a("li",{staticClass:"hint",domProps:{textContent:t._s(t.apmType)}}),t._v(" "),t._l(t.apms,function(e){return a("li",{class:{active:t.apm===e},domProps:{textContent:t._s(e)},on:{click:function(a){return a.stopPropagation(),t.select("apm",e)}}})})],2):t._e()])])])},i=[],n={render:s,staticRenderFns:i};e.a=n},hC7s:function(t,e){},iyF0:function(t,e){},l7yK:function(t,e){},n1hC:function(t,e){},"nJk/":function(t,e){},njXo:function(t,e){},"nz+i":function(t,e){},o9x1:function(t,e){},pIV2:function(t,e){},pc6l:function(t,e){},pkka:function(t,e){},qBvX:function(t,e){},u3ym:function(t,e){},uTBe:function(t,e){},uslO:function(t,e,a){function s(t){return a(i(t))}function i(t){var e=n[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var n={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-SG":"oYA3","./en-SG.js":"oYA3","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};s.keys=function(){return Object.keys(n)},s.resolve=i,t.exports=s,s.id="uslO"},x318:function(t,e){},xRHy:function(t,e){},yKFN:function(t,e){},ytxq:function(t,e){},"z/Cc":function(t,e){},z9uM:function(t,e){},zIOb:function(t,e){},zLtk:function(t,e){},"zNr/":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.3d8196cde65f042019db.js.map